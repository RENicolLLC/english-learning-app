/*! For license information please see main.9615d296.js.LICENSE.txt */
(()=>{var e={3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,w="";function _(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:g,length:s,return:""}}function S(e,t){return s(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function x(){return b=y>0?u(w,--y):0,g--,10===b&&(g=1,m--),b}function k(){return b=y<v?u(w,y++):0,g++,10===b&&(g=1,m++),b}function A(){return u(w,y)}function E(){return y}function T(e,t){return d(w,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I(e){return m=g=1,v=h(w=e),y=0,[]}function R(e){return w="",e}function P(e){return a(T(y-1,M(91===e?e+2:40===e?e+1:e)))}function O(e){for(;(b=A())&&b<33;)k();return C(e)>2||C(b)>3?"":" "}function N(e,t){for(;--t&&k()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,E()+(t<6&&32==A()&&32==k()))}function M(e){for(;k();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&M(b);break;case 40:41===e&&M(e);break;case 92:k()}return y}function D(e,t){for(;k()&&e+b!==57&&(e+b!==84||47!==A()););return"/*"+T(t,y-1)+"*"+i(47===e?e:k())}function j(e){for(;!C(A());)k();return T(e,y)}var L="-ms-",F="-moz-",z="-webkit-",U="comm",B="rule",V="decl",W="@keyframes";function H(e,t){for(var n="",r=p(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function q(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case V:return e.return=e.return||e.value;case U:return"";case W:return e.return=e.value+"{"+H(e.children,r)+"}";case B:e.value=e.props.join(",")}return h(n=H(e.children,r))?e.return=e.value+"{"+n+"}":""}function K(e){return R(G("",null,null,null,[""],e=I(e),0,[0],e))}function G(e,t,n,r,o,s,a,d,p){for(var m=0,g=0,v=a,y=0,b=0,w=0,_=1,S=1,T=1,C=0,I="",R=o,M=s,L=r,F=I;S;)switch(w=C,C=k()){case 40:if(108!=w&&58==u(F,v-1)){-1!=c(F+=l(P(C),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:F+=P(C);break;case 9:case 10:case 13:case 32:F+=O(w);break;case 92:F+=N(E()-1,7);continue;case 47:switch(A()){case 42:case 47:f(J(D(k(),E()),t,n),p);break;default:F+="/"}break;case 123*_:d[m++]=h(F)*T;case 125*_:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+g:-1==T&&(F=l(F,/\f/g,"")),b>0&&h(F)-v&&f(b>32?Y(F+";",r,n,v-1):Y(l(F," ","")+";",r,n,v-2),p);break;case 59:F+=";";default:if(f(L=$(F,t,n,m,g,o,d,I,R=[],M=[],v),s),123===C)if(0===g)G(F,t,L,L,R,s,v,d,M);else switch(99===y&&110===u(F,3)?100:y){case 100:case 108:case 109:case 115:G(e,L,L,r&&f($(e,L,L,0,0,o,d,I,o,R=[],v),M),o,M,v,d,r?R:M);break;default:G(F,L,L,L,[""],M,0,d,M)}}m=g=b=0,_=T=1,I=F="",v=a;break;case 58:v=1+h(F),b=w;default:if(_<1)if(123==C)--_;else if(125==C&&0==_++&&125==x())continue;switch(F+=i(C),C*_){case 38:T=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*T,T=1;break;case 64:45===A()&&(F+=P(k())),y=A(),g=v=h(I=F+=j(E())),C++;break;case 45:45===w&&2==h(F)&&(_=0)}}return s}function $(e,t,n,r,i,s,c,u,h,f,m){for(var g=i-1,v=0===i?s:[""],y=p(v),b=0,w=0,S=0;b<r;++b)for(var x=0,k=d(e,g+1,g=o(w=c[b])),A=e;x<y;++x)(A=a(w>0?v[x]+" "+k:l(k,/&\f/g,v[x])))&&(h[S++]=A);return _(e,t,n,0===i?B:u,h,f,m)}function J(e,t,n){return _(e,t,n,U,i(b),d(e,2,-2),0)}function Y(e,t,n,r){return _(e,t,n,V,d(e,0,r),d(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,o=0;r=o,o=A(),38===r&&12===o&&(t[n]=1),!C(o);)k();return T(e,y)},Q=function(e,t){return R(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===A()&&(t[n]=1),e[n]+=X(y-1,t,n);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===A()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=k());return e}(I(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var o=[],i=Q(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+F+e+L+e+e;case 6828:case 4268:return z+e+L+e+e;case 6165:return z+e+L+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+L+"flex-$1$2")+e;case 5443:return z+e+L+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+L+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+L+l(e,"shrink","negative")+e;case 5292:return z+e+L+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+L+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+L+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case V:e.return=ne(e.value,e.length);break;case W:return H([S(e,{value:l(e.value,"@","@"+z)})],r);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return H([S(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,L+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,s=e.stylisPlugins||re,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[q,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([ee,te].concat(s,d));i=function(e,t,n,r){c=n,H(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return f.sheet.hydrate(l),f}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},9369:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,E:()=>g,T:()=>d,c:()=>f,h:()=>h,w:()=>u});var r=n(5043),o=n(3803),i=n(1722),s=n(6598),a=n(9436),l=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),c=l.Provider,u=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(l);return e(t,o,n)}))},d=r.createContext({});var h={}.hasOwnProperty,p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)h.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,i.SF)(t,n,r),(0,a.s)((function(){return(0,i.sk)(t,n,r)})),null},g=u((function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var a=e[p],l=[o],c="";"string"===typeof e.className?c=(0,i.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var u=(0,s.J)(l,void 0,r.useContext(d));c+=t.key+"-"+u.name;var f={};for(var g in e)h.call(e,g)&&"css"!==g&&g!==p&&(f[g]=e[g]);return f.className=c,n&&(f.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:u,isStringTag:"string"===typeof a}),r.createElement(a,f))}))},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>u,i7:()=>d,mL:()=>c});var r=n(9369),o=n(5043),i=n(1722),s=n(9436),a=n(6598),l=(n(3803),n(219),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return o.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=r.E,s[1]=(0,r.c)(e,t);for(var a=2;a<i;a++)s[a]=n[a];return o.createElement.apply(null,s)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var c=(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,o.useContext(r.T)),c=o.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),c.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null}));function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}function d(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(918),i=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,o.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=p(e,t,n[o])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":c(l)&&(r+=u(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&i)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(s){case"animation":case"animationName":r+=u(s)+":"+f+";";break;default:r+=s+"{"+f+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(s)+":"+d(s,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,p(e,t,m)}}var g=n;if(null==t)return g;var v=t[g];return void 0!==v?v:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=p(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++){if(o+=p(n,t,e[s]),r)o+=i[s]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:f}}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var o=n(5043),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,s=i||function(e){return e()},a=i||o.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},569:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),i=n(579);t.A=(0,o.default)((0,i.jsx)("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"}),"Book")},9611:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),i=n(579);t.A=(0,o.default)((0,i.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},5398:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),i=n(579);t.A=(0,o.default)((0,i.jsx)("path",{d:"M16.54 11 13 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zM11 7H2v2h9zm10 6.41L19.59 12 17 14.59 14.41 12 13 13.41 15.59 16 13 18.59 14.41 20 17 17.41 19.59 20 21 18.59 18.41 16zM11 15H2v2h9z"}),"Rule")},6300:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),i=n(579);t.A=(0,o.default)((0,i.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School")},5415:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),i=n(579);t.A=(0,o.default)((0,i.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline")},39:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(6772)},8206:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});n(5043);var r=n(3654);n(579);function o(e){return(0,r.b)(e)}},7344:(e,t,n)=>{"use strict";n.d(t,{A:()=>M});var r=n(8168),o=n(8587),i=n(7868),s=n(9172),a=n(7758),l=n(8812),c=n(8280);var u=n(7266);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.a)(e.main,o):"dark"===t&&(e.dark=(0,u.e$)(e.main,i)))}function x(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,o.A)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),x=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(t),k=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),A=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),E=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function C(e){return(0,u.eM)(e,_.text.primary)>=n?_.text.primary:w.text.primary}const I=e=>{let{color:t,name:n,mainShade:o=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,i.A)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,i.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return S(t,"light",s,a),S(t,"dark",l,a),t.contrastText||(t.contrastText=C(t.main)),t},R={dark:_,light:w};return(0,s.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:I({color:c,name:"primary"}),secondary:I({color:x,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:k,name:"error"}),warning:I({color:T,name:"warning"}),info:I({color:A,name:"info"}),success:I({color:E,name:"success"}),grey:h,contrastThreshold:n,getContrastText:C,augmentColor:I,tonalOffset:a},R[t]),l)}const k=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const A={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=E,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:p,pxToRem:f}=n,m=(0,o.A)(n,k);const g=a/14,v=f||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,o,s)=>{return(0,r.A)({fontFamily:i,fontWeight:e,fontSize:v(t),lineHeight:n},i===E?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{},s,p);var a},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,A),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,A),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.A)((0,r.A)({htmlFontSize:h,pxToRem:v,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const I=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)];var R=n(4318);const P={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},O=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,o.A)(e,O);if(e.vars)throw new Error((0,i.A)(18));const p=x(n),f=(0,c.A)(e);let m=(0,s.A)(f,{mixins:(g=f.breakpoints,v=t,(0,r.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:p,shadows:I.slice(),typography:T(p,d),transitions:(0,R.Ay)(u),zIndex:(0,r.A)({},P)});var g,v;m=(0,s.A)(m,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return m=b.reduce(((e,t)=>(0,s.A)(e,t)),m),m.unstable_sxConfig=(0,r.A)({},a.A,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const M=N},4318:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u,p0:()=>a});var r=n(8587),o=n(8168);const i=["duration","easing","delay"],s={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return"".concat(Math.round(e),"ms")}function c(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function u(e){const t=(0,o.A)({},s,e.easing),n=(0,o.A)({},a,e.duration);return(0,o.A)({getAutoHeightDuration:c,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:s=n.standard,easing:a=t.easeInOut,delay:c=0}=o;(0,r.A)(o,i);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof s?s:l(s)," ").concat(a," ").concat("string"===typeof c?c:l(c)))).join(",")}},e,{easing:t,duration:n})}},5170:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7344).A)()},3375:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},1475:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7123);const o=e=>(0,r.A)(e)&&"classes"!==e},7123:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},4535:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var r=n(8052),o=n(5170),i=n(3375),s=n(1475);const a=(0,r.Ay)({themeId:i.A,defaultTheme:o.A,rootShouldForwardProp:s.A})},6803:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(7598).A},6593:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2456).A},9662:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(5043),i=n(8587),s=n(8387),a=n(8610),l=n(6803),c=n(8206),u=n(4535),d=n(2532),h=n(2372);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(579);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.A)(n.color))],t["fontSize".concat((0,l.A)(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,o,i,s,a,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),v=o.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:w=!1,titleAccess:_,viewBox:S="0 0 24 24"}=n,x=(0,i.A)(n,m),k=o.isValidElement(u)&&"svg"===u.type,A=(0,r.A)({},n,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:S,hasSvgAsChild:k}),E={};w||(E.viewBox=S);const T=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&"color".concat((0,l.A)(t)),"fontSize".concat((0,l.A)(n))]};return(0,a.A)(o,p,r)})(A);return(0,f.jsxs)(g,(0,r.A)({as:v,className:(0,s.A)(T.root,d),focusable:"false",color:b,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:t},E,x,k&&u.props,{ownerState:A,children:[k?u.props.children:u,_?(0,f.jsx)("title",{children:_}):null]}))}));v.muiName="SvgIcon";const y=v;function b(e,t){function n(n,o){return(0,f.jsx)(y,(0,r.A)({"data-testid":"".concat(t,"Icon"),ref:o},n,{children:e}))}return n.muiName=y.muiName,o.memo(o.forwardRef(n))}},950:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3468).A},6772:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>o.A,createChainedFunction:()=>i.A,createSvgIcon:()=>s.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>c.A,ownerDocument:()=>u.A,ownerWindow:()=>d.A,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>_,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>m.A,unsupportedProp:()=>g,useControlled:()=>v.A,useEventCallback:()=>y.A,useForkRef:()=>b.A,useIsFocusVisible:()=>w.A});var r=n(9386),o=n(6803),i=n(6593),s=n(9662),a=n(950);const l=function(e,t){return()=>null};var c=n(7328),u=n(2427),d=n(6078);n(8168);const h=function(e,t){return()=>null};const p=n(6564).A;var f=n(5013),m=n(5879);const g=function(e,t,n,r,o){return null};var v=n(5420),y=n(3319),b=n(5849),w=n(3574);const _={configure:e=>{r.A.configure(e)}}},7328:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);const o=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},2427:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1668).A},6078:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3940).A},5420:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);const o=function(e){let{controlled:t,default:n,name:o,state:i="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}},5013:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4440).A},3319:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1782).A},5849:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3462).A},5879:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5844).A},3574:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(5043),o=n(9303);let i=!0,s=!1;const a=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function u(){i=!1}function d(){"hidden"===this.visibilityState&&s&&(i=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const p=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,a.start(100,(()=>{s=!1})),t.current=!1,!0)},ref:e}}},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(5043);var r=n(3290),o=n(579);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S.A,StyledEngineProvider:()=>_,ThemeContext:()=>o.T,css:()=>v.AH,default:()=>x,internal_processStyles:()=>k,keyframes:()=>v.i7});var r=n(8168),o=n(9369),i=n(6598),s=n(9436),a=n(1722),l=n(5043),c=n(918),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,c.A)((function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),h=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:h},f=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,a.SF)(t,n,r),(0,s.s)((function(){return(0,a.sk)(t,n,r)})),null},g=function e(t,n){var s,c,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==n&&(s=n.label,c=n.target);var h=f(t,n,u),g=h||p(d),v=!g("as");return function(){var y=arguments,b=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&b.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{var w=y[0];b.push(w[0]);for(var _=y.length,S=1;S<_;S++)b.push(y[S],w[S])}var x=(0,o.w)((function(e,t,n){var r=v&&e.as||d,s="",u=[],f=e;if(null==e.theme){for(var y in f={},e)f[y]=e[y];f.theme=l.useContext(o.T)}"string"===typeof e.className?s=(0,a.Rk)(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var w=(0,i.J)(b.concat(u),t.registered,f);s+=t.key+"-"+w.name,void 0!==c&&(s+=" "+c);var _=v&&void 0===h?p(r):g,S={};for(var x in e)v&&"as"===x||_(x)&&(S[x]=e[x]);return S.className=s,n&&(S.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:w,isStringTag:"string"===typeof r}),l.createElement(r,S))}));return x.displayName=void 0!==s?s:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=d,x.__emotion_styles=b,x.__emotion_forwardProp=h,Object.defineProperty(x,"toString",{value:function(){return"."+c}}),x.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:f(x,o,!0)})).apply(void 0,b)},x}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var v=n(3290),y=n(3803),b=n(579);let w;function _(e){const{injectFirst:t,children:n}=e;return t&&w?(0,b.jsx)(o.C,{value:w,children:n}):n}"object"===typeof document&&(w=(0,y.A)({key:"css",prepend:!0}));var S=n(869);function x(e,t){return g(e,t)}const k=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(457)),i=r(n(9214));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,o.default)({},e,{theme:v((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:m,skipSx:w,overridesResolver:_=y(g(p))}=c,S=(0,i.default)(c,h),x=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,k=w||!1;let A=f;"Root"===p||"root"===p?A=r:p?A=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(A=void 0);const E=(0,s.default)(e,(0,o.default)({shouldForwardProp:A,label:undefined},S)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,C=function(r){let i=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&_&&c.push((e=>{const r=v((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,s={};return Object.entries(i).forEach((t=>{let[n,i]=t;s[n]=b(i,(0,o.default)({},e,{theme:r}))})),_(e,s)})),d&&!x&&c.push((e=>{var r;const i=v((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}))})),k||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=E(i,...c);return e.muiName&&(p.muiName=e.muiName),p};return E.withConfig&&(C.withConfig=E.withConfig),C}};var o=r(n(4634)),i=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(3174)),a=n(9482),l=(r(n(7918)),r(n(3382)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function y(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,u);const s="function"===typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,i.default)(s,d);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return s}},3654:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,b:()=>a});var r=n(5043),o=n(3030),i=n(579);const s=r.createContext(void 0);function a(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?(0,o.A)(i.defaultProps,r):i.styleOverrides||i.variants?r:(0,o.A)(i,r)}({props:t,name:n,theme:{components:r.useContext(s)}})}const l=function(e){let{value:t,children:n}=e;return(0,i.jsx)(s.Provider,{value:t,children:n})}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>o});var r=n(9172);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(o[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||i;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=r.breakpoints||i;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||o).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];const s=[t,...o].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let s;return i.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),o=n(8168);const i=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,i),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function p(e,r){const o=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[u[o]]?t[u[o]]:r)-a/100).concat(n,")")}return(0,o.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,o.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(p);let y=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,f)},m);y.applyStyles=d.A;for(var b=arguments.length,w=new Array(b>1?b-1:0),_=1;_<b;_++)w[_-1]=arguments[_];return y=w.reduce(((e,t)=>(0,i.A)(e,t)),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(8280),o=n(4853),i=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9172);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(9751),o=n(7162),i=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],o=a[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const s=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),o),s=e[n];return(0,r.NI)(e,s,i)}function v(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(i.A,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function w(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=h},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>i});var r=n(7598),o=n(9751);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,a)||{};return(0,o.NI)(e,c,(e=>{let o=s(u,l,e);return e===o&&"string"===typeof e&&(o=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?o:{[n]:o}}))};return c.propTypes={},c.filterProps=[t],c}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>M});var r=n(8604),o=n(7162),i=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var a=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),_=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,p,f,m,g,v,y,b,S,w,_);const x=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};x.propTypes={},x.filterProps=["gap"];const k=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};k.propTypes={},k.filterProps=["columnGap"];const A=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};A.propTypes={},A.filterProps=["rowGap"];s(x,k,A,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function E(e,t){return"grey"===t?t:e}s((0,o.Ay)({prop:"color",themeKey:"palette",transform:E}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:E}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const C=(0,o.Ay)({prop:"width",transform:T}),I=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:T(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};I.filterProps=["maxWidth"];const R=(0,o.Ay)({prop:"minWidth",transform:T}),P=(0,o.Ay)({prop:"height",transform:T}),O=(0,o.Ay)({prop:"maxHeight",transform:T}),N=(0,o.Ay)({prop:"minHeight",transform:T}),M=((0,o.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:T}),s(C,I,R,P,O,N,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x},rowGap:{style:A},columnGap:{style:k},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:I},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(8587),i=n(9172),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(8812),o=n(8698),i=n(7758)},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(7598),o=n(3815),i=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,o){const a={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,s.EU)(l.breakpoints),a=Object.keys(i);let u=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==i&&void 0!==i)if("object"===typeof i)if(c[n])u=(0,o.A)(u,e(n,i,l,c));else{const e=(0,s.NI)({theme:l},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,i)?u=(0,o.A)(u,e):u[n]=t({sx:i,theme:l})}else u=(0,o.A)(u,e(n,i,l,c))})),(0,s.vf)(a,u)}return Array.isArray(i)?i.map(u):u(i)}}const c=l();c.filterProps=["sx"];const u=c},9386:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=e=>e,o=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7868);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},9214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},8610:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},2456:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},3468:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>i});var r=n(8168),o=n(5043);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function s(e){if(o.isValidElement(e)||!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=s(e[n])})),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{o.isValidElement(t[r])?l[r]=t[r]:i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?l[r]=a(e[r],t[r],n):n.clone?l[r]=i(t[r])?s(t[r]):t[r]:l[r]=t[r]})),l}},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},2372:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i});var r=n(9386);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=o[t];return i?"".concat(n,"-").concat(i):"".concat(r.A.generate(e),"-").concat(t)}},2532:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2372);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o={};return t.forEach((t=>{o[t]=(0,r.Ay)(e,t,n)})),o}},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(2086);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t="".concat(e).match(o);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},1668:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},3940:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1668);function o(e){return(0,r.A)(e).defaultView||window}},3030:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8168);function o(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,r.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const s=e[i]||{},a=t[i];n[i]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[i]=(0,r.A)({},a),Object.keys(s).forEach((e=>{n[i][e]=o(s[e],a[e])}))):n[i]=a:n[i]=s}else void 0===n[i]&&(n[i]=e[i])})),n}},6564:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},4440:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);const o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},1782:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043),o=n(4440);const i=function(e){const t=r.useRef(e);return(0,o.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},3462:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043),o=n(6564);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.A)(t,e)}))}),t)}},5844:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>a});var o=n(5043);let i=0;const s=(r||(r=n.t(o,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(i+=1,n("mui-".concat(i)))}),[t]),r}(e)}},9303:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,A:()=>a});var r=n(5043);const o={};const i=[];class s{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function a(){const e=function(e,t){const n=r.useRef(o);return n.current===o&&(n.current=e(t)),n}(s.create).current;var t;return t=e.disposeEffect,r.useEffect(t,i),e}},3086:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function o(){return"npm"}n.d(t,{Z:()=>r,e:()=>o})},2433:(e,t,n)=>{"use strict";n.d(t,{wD:()=>o});var r=n(3086);function o(){return!(0,r.Z)()&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}e=n.hmd(e)},4630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>s,Request:()=>a,Response:()=>l,default:()=>i,fetch:()=>o});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const o=r.fetch,i=r.fetch.bind(r),s=r.Headers,a=r.Request,l=r.Response},9286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(4630)),i=r(n(2611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=o.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let o=null,s=null,a=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(a=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:"Results contain ".concat(s.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,a=null,l=406,c="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(s=[],o=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(r=null===o||void 0===o?void 0:o.details)||void 0===r?void 0:r.includes("0 rows"))&&(o=null,l=200,c="OK"),o&&this.shouldThrowOnError)throw new i.default(o)}return{error:o,data:s,count:a,status:l,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}}},1210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(8829)),i=r(n(5736)),s=n(5745);class a{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new o.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:o=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||o?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]})).forEach((e=>{let[t,n]=e;a.searchParams.append(t,n)}))):(t="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer="count=".concat(s)),new i.default({method:t,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=a},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},5736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(7374));class i extends o.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e))).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";"plain"===r?o="pl":"phrase"===r?o="ph":"websearch"===r&&(o="w");const i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(o,"fts").concat(i,".").concat(t)),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))})),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=i},8829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(5736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:o}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=o}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer="count=".concat(n)),new o.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=["resolution=".concat(n?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push("count=".concat(r)),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new o.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new o.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},7374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(9286));class i extends o.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=o?"".concat(o,".order"):"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,"".concat(s?"".concat(s,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o="undefined"===typeof r?"offset":"".concat(r,".offset"),i="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(o,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(i,'; for="').concat(l,'"; options=').concat(a,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},5745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},7980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const o=r(n(1210));t.PostgrestClient=o.default;const i=r(n(8829));t.PostgrestQueryBuilder=i.default;const s=r(n(5736));t.PostgrestFilterBuilder=s.default;const a=r(n(7374));t.PostgrestTransformBuilder=a.default;const l=r(n(9286));t.PostgrestBuilder=l.default;const c=r(n(2611));t.PostgrestError=c.default,t.default={PostgrestClient:o.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default}},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},219:(e,t,n)=>{"use strict";var r=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var j,L=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case A:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,ke=null;function Ae(e){if(e=wo(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ee(e){xe?ke?ke.push(e):ke=[e]:xe=e}function Te(){if(xe){var e=xe,t=ke;if(ke=xe=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==xe||null!==ke)&&(Ie(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Ne=!1}function De(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Le=null,Fe=!1,ze=null,Ue={onError:function(e){je=!0,Le=e}};function Be(e,t,n,r,o,i,s,a,l){je=!1,Le=null,De.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return He(o),e;if(s===r)return He(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,Je=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Xe=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,xt,kt,At,Et=!1,Tt=[],Ct=null,It=null,Rt=null,Pt=new Map,Ot=new Map,Nt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function jt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void At(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==It&&Ft(It)&&(It=null),null!==Rt&&Ft(Rt)&&(Rt=null),Pt.forEach(zt),Ot.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==It&&Bt(It,e),null!==Rt&&Bt(Rt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Nt.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function Kt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function Gt(e,t,n,r){if(Ht){var o=Jt(e,t,n,r);if(null===o)Hr(e,t,r,$t,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ct=jt(Ct,e,t,n,r,o),!0;case"dragenter":return It=jt(It,e,t,n,r,o),!0;case"mouseover":return Rt=jt(Rt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,jt(Pt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ot.set(i,jt(Ot.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&_t(i),null===(i=Jt(e,t,n,r))&&Hr(e,t,r,$t,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Jt(e,t,n,r){if($t=null,null!==(e=bo(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(L({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function An(){return kn}var En=L({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),Cn=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Rn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Pn),Nn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var jn=u&&"TextEvent"in window&&!Dn,Ln=u&&(!Mn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function $n(e){Fr(e,0)}function Jn(e){if(G(_o(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Qn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];qn(t,Gn,e,_e(e)),Pe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ir(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},kr={};function Ar(e){if(xr[e])return xr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return xr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=Ar("animationend"),Tr=Ar("animationiteration"),Cr=Ar("animationstart"),Ir=Ar("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Pr.length;Nr++){var Mr=Pr[Nr];Or(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(Be.apply(this,arguments),je){if(!je)throw Error(i(198));var u=Le;je=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var o=qt;break;case 4:o=Kt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=i,o=_e(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Er:case Tr:case Cr:l=vn;break;case Ir:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Oe(f,h))&&u.push(qr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:_o(l),p=null==c?a:_o(c),(a=new u(m,f+"leave",l,n,o)).target=d,a.relatedTarget=p,m=null,bo(o)===r&&((u=new u(h,f+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Gr(p))f++;for(p=0,m=h;m;m=Gr(m))p++;for(;0<f-p;)u=Gr(u),f--;for(;0<p-f;)h=Gr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&$r(s,a,l,u,!1),null!==c&&null!==d&&$r(s,d,c,u,!0)}if("select"===(l=(a=r?_o(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Hn(a))if(Xn)g=sr;else{g=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?qn(s,g,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?_o(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,o)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Qt="value"in(Xt=o)?Xt.value:Xt.textContent,Vn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Mn&&Un(e,t)?(e=en(),Zt=Qt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Fr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Oe(e,n))&&r.unshift(qr(e,i,o)),null!=(i=Oe(e,t))&&r.push(qr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Oe(n,i))&&s.unshift(qr(n,l,a)):o||null!=(l=Oe(n,i))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _o(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[fo]||null}var xo=[],ko=-1;function Ao(e){return{current:e}}function Eo(e){0>ko||(e.current=xo[ko],xo[ko]=null,ko--)}function To(e,t){ko++,xo[ko]=e.current,e.current=t}var Co={},Io=Ao(Co),Ro=Ao(!1),Po=Co;function Oo(e,t){var n=e.type.contextTypes;if(!n)return Co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mo(){Eo(Ro),Eo(Io)}function Do(e,t,n){if(Io.current!==Co)throw Error(i(168));To(Io,t),To(Ro,n)}function jo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,Po=Io.current,To(Io,e),To(Ro,Ro.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=jo(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,Eo(Ro),Eo(Io),To(Io,e)):Eo(Ro),To(Ro,n)}var zo=null,Uo=!1,Bo=!1;function Vo(e){null===zo?zo=[e]:zo.push(e)}function Wo(){if(!Bo&&null!==zo){Bo=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Uo=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),Ge(Ze,Wo),o}finally{bt=t,Bo=!1}}return null}var Ho=[],qo=0,Ko=null,Go=0,$o=[],Jo=0,Yo=null,Xo=1,Qo="";function Zo(e,t){Ho[qo++]=Go,Ho[qo++]=Ko,Ko=e,Go=t}function ei(e,t,n){$o[Jo++]=Xo,$o[Jo++]=Qo,$o[Jo++]=Yo,Yo=e;var r=Xo;e=Qo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xo=1<<32-st(t)+o|n<<o|r,Qo=i+e}else Xo=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Ko;)Ko=Ho[--qo],Ho[qo]=null,Go=Ho[--qo],Ho[qo]=null;for(;e===Yo;)Yo=$o[--Jo],$o[Jo]=null,Qo=$o[--Jo],$o[Jo]=null,Xo=$o[--Jo],$o[Jo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Xo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=w.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&bi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case O:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(o,d),ii&&Zo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=f(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),c}function g(o,a,l,c){var u=D(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Zo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return ii&&Zo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Zo(o,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===x){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&bi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=vi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===x?((i=Dc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(s,r.mode,l)).return=r,r=i}return a(r);case O:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(D(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Lc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var _i=wi(!0),Si=wi(!1),xi=Ao(null),ki=null,Ai=null,Ei=null;function Ti(){Ei=Ai=ki=null}function Ci(e){var t=xi.current;Eo(xi),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ri(e,t){ki=e,Ei=Ai=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Ai){if(null===ki)throw Error(i(308));Ai=e,ki.dependencies={lanes:0,firstContext:e}}else Ai=Ai.next=e;return t}var Oi=null;function Ni(e){null===Oi?Oi=[e]:Oi.push(e)}function Mi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ji=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Di(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,Di(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var o=e.updateQueue;ji=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:ji=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);jl|=s,e.lanes=s,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var qi={},Ki=Ao(qi),Gi=Ao(qi),$i=Ao(qi);function Ji(e){if(e===qi)throw Error(i(174));return e}function Yi(e,t){switch(To($i,t),To(Gi,e),To(Ki,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Ki),To(Ki,t)}function Xi(){Eo(Ki),Eo(Gi),Eo($i)}function Qi(e){Ji($i.current);var t=Ji(Ki.current),n=le(t,e.type);t!==n&&(To(Gi,e),To(Ki,n))}function Zi(e){Gi.current===e&&(Eo(Ki),Eo(Gi))}var es=Ao(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=w.ReactCurrentDispatcher,is=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,ps=0;function fs(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(i(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Qs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(i(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,jl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function ks(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,js(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ps(9,Es.bind(null,n,r,o,t),void 0,null),null===Il)throw Error(i(349));0!==(30&ss)||As(n,t,o)}return o}function As(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&Is(e)}function Ts(e,t,n){return n((function(){Cs(t)&&Is(e)}))}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Is(e){var t=Di(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=$s.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return bs().memoizedState}function Ns(e,t,n,r){var o=ys();as.flags|=e,o.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ms(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Ps(t,n,i,r))}as.flags|=e,o.memoizedState=Ps(1|t,n,i,r)}function Ds(e,t){return Ns(8390656,8,e,t)}function js(e,t){return Ms(2048,8,e,t)}function Ls(e,t){return Ms(4,2,e,t)}function Fs(e,t){return Ms(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4,4,zs.bind(null,t,e),n)}function Bs(){}function Vs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,jl|=n,e.baseState=!0),t)}function qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function Ks(){return bs().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e))Ys(t,n);else if(null!==(n=Mi(e,t,n,r))){nc(n,e,r,ec()),Xs(n,t,r)}}function $s(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Ys(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Ni(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Mi(e,t,o,r))&&(nc(n,e,r,o=ec()),Xs(n,t,r))}}function Js(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Qs={readContext:Pi,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Pi,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Rs,useDebugValue:Bs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=qs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=ys();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Il)throw Error(i(349));0!==(30&ss)||As(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ds(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Il.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=(Xo&~(1<<32-st(Xo)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Pi,useCallback:Vs,useContext:Pi,useEffect:js,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Ws,useReducer:_s,useRef:Os,useState:function(){return _s(ws)},useDebugValue:Bs,useDeferredValue:function(e){return Hs(bs(),ls.memoizedState,e)},useTransition:function(){return[_s(ws)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Pi,useCallback:Vs,useContext:Pi,useEffect:js,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Ws,useReducer:Ss,useRef:Os,useState:function(){return Ss(ws)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ui(e,o,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=Co,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(o=No(t)?Po:Io.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oo(e,o):Co),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Pi(i):(i=No(t)?Po:Io.current,o.context=Oo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Wi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),da(0,t)},n}function fa(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Si(t,null,n,r):_i(t,e.child,n,r)}function _a(e,t,n,r,o){n=n.render;var i=t.ref;return Ri(t,o),r=gs(e,t,n,r,i,o),n=vs(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,wa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ha(e,t,o))}function Sa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Oc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,xa(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,o)}return t.flags|=1,(e=Nc(i,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Ha(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return Ea(e,t,n,r,o)}function ka(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},To(Nl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,To(Nl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,To(Nl,Ol),Ol|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,To(Nl,Ol),Ol|=r;return wa(e,t,o,n),t.child}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,o){var i=No(n)?Po:Io.current;return i=Oo(t,i),Ri(t,o),n=gs(e,t,n,r,i,o),r=vs(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,wa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ha(e,t,o))}function Ta(e,t,n,r,o){if(No(n)){var i=!0;Lo(t)}else i=!1;if(Ri(t,o),null===t.stateNode)Wa(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pi(c):c=Oo(t,c=No(n)?Po:Io.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),ji=!1;var h=t.memoizedState;s.state=h,Wi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||Ro.current||ji?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=ji||ia(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pi(l):l=Oo(t,l=No(n)?Po:Io.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),ji=!1,h=t.memoizedState,s.state=h,Wi(t,r,s,o);var f=t.memoizedState;a!==d||h!==f||Ro.current||ji?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=ji||ia(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,i,o)}function Ca(e,t,n,r,o,i){Aa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Fo(t,n,!1),Ha(e,t,i);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_i(t,e.child,null,i),t.child=_i(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),Yi(e,t.containerInfo)}function Ra(e,t,n,r,o){return fi(),mi(o),t.flags|=256,wa(e,t,n,r),t.child}var Pa,Oa,Na,Ma,Da={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),To(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,o,0,null),e=Dc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Da,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=jc({mode:"visible",children:r.children},o,0,null),(s=Dc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_i(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Da,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Il)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Di(e,o),nc(r,e,o,-1))}return mc(),za(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&($o[Jo++]=Xo,$o[Jo++]=Qo,$o[Jo++]=Yo,Xo=e.id,Qo=e.overflow,Yo=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Nc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Nc(r,a):(a=Dc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Da,o}return e=(a=e.child).sibling,o=Nc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fa(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mi(r),_i(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function Ba(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Va(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(To(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ba(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return No(t.type)&&Mo(),Ka(t),null;case 3:return r=t.stateNode,Xi(),Eo(Ro),Eo(Io),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(sc(si),si=null))),Oa(e,t),Ka(t),null;case 5:Zi(t);var o=Ji($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ka(t),null}if(e=Ji(Ki.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)zr(Dr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":oe(r,s),zr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)zr(Dr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Y(e,r),o=J(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ji($i.current),Ji(Ki.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ka(t),null;case 13:if(Eo(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==si&&(sc(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Xi(),Oa(e,t),null===e&&Vr(t.stateNode.containerInfo),Ka(t),null;case 10:return Ci(t.type._context),Ka(t),null;case 19:if(Eo(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qa(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,qa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return To(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Vl&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Ka(t),null}else 2*Xe()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,To(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $a(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Eo(Ro),Eo(Io),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Eo(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(es),null;case 4:return Xi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Na=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ji(Ki.current);var i,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Qa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=ul,o=dl;ul=null,hl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Vt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hl(e,t,n),Ya=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(s,a,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){kc(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":Q(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,ml(t,e),Ya=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qa=e,d=e.child;null!==d;){for(h=Qa=d;null!==Qa;){switch(f=(p=Qa).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){_l(h);continue}}null!==f?(f.return=p,Qa=f):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qa=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qa;){var o=Qa,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ja;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Ja;var c=Ya;if(Ja=s,(Ya=l)&&!c)for(Qa=o;null!==Qa;)l=(s=Qa).child,22===s.tag&&null!==s.memoizedState?Sl(o):null!==l?(l.return=s,Qa=l):Sl(o);for(;null!==i;)Qa=i,bl(i,t,n),i=i.sibling;Qa=o,Ja=a,Ya=c}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qa=i):wl(e)}}function wl(e){for(;null!==Qa;){var t=Qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Hi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(i(163))}Ya||512&t.flags&&ol(t)}catch(p){kc(t,t.return,p)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function _l(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function Sl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){kc(t,o,l)}}var i=t.return;try{ol(t)}catch(l){kc(t,i,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var xl,kl=Math.ceil,Al=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Cl=0,Il=null,Rl=null,Pl=0,Ol=0,Nl=Ao(0),Ml=0,Dl=null,jl=0,Ll=0,Fl=0,zl=null,Ul=null,Bl=0,Vl=1/0,Wl=null,Hl=!1,ql=null,Kl=null,Gl=!1,$l=null,Jl=0,Yl=0,Xl=null,Ql=-1,Zl=0;function ec(){return 0!==(6&Cl)?Xe():-1!==Ql?Ql:Ql=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==gi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(i(185));vt(e,n,r),0!==(2&Cl)&&e===Il||(e===Il&&(0===(2&Cl)&&(Ll|=n),4===Ml&&ac(e,Pl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Vl=Xe()+500,Uo&&Wo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Il?Pl:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Uo=!0,Vo(e)}(lc.bind(null,e)):Vo(lc.bind(null,e)),so((function(){0===(6&Cl)&&Wo()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Ql=-1,Zl=0,0!==(6&Cl))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Cl;Cl|=2;var s=fc();for(Il===e&&Pl===t||(Wl=null,Vl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Ti(),Al.current=s,Cl=o,null!==Rl?t=0:(Il=null,Pl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t)throw n=Dl,hc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t))throw n=Dl,hc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:_c(e,Ul,Wl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(_c.bind(null,e,Ul,Wl),t);break}_c(e,Ul,Wl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ro(_c.bind(null,e,Ul,Wl),r);break}_c(e,Ul,Wl);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(i(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Dl,hc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Ul,Wl),rc(e,Xe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Vl=Xe()+500,Uo&&Wo())}}function uc(e){null!==$l&&0===$l.tag&&0===(6&Cl)&&Sc();var t=Cl;Cl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Cl=t))&&Wo()}}function dc(){Ol=Nl.current,Eo(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mo();break;case 3:Xi(),Eo(Ro),Eo(Io),rs();break;case 5:Zi(r);break;case 4:Xi();break;case 13:case 19:Eo(es);break;case 10:Ci(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Rl=e=Nc(e.current,null),Pl=Ol=t,Ml=0,Dl=null,Fl=Ll=jl=0,Ul=zl=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Oi=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Ti(),os.current=Qs,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,El.current=null,null===n||null===n.return){Ml=1,Dl=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mi(ca(c,l));break e}}s=c=ca(c,l),4!==Ml&&(Ml=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Vi(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Vi(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function fc(){var e=Al.current;return Al.current=Qs,null===e?Qs:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Il||0===(268435455&jl)&&0===(268435455&Ll)||ac(Il,Pl)}function gc(e,t){var n=Cl;Cl|=2;var r=fc();for(Il===e&&Pl===t||(Wl=null,hc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(Ti(),Cl=n,Al.current=r,null!==Rl)throw Error(i(261));return Il=null,Pl=0,Ml}function vc(){for(;null!==Rl;)bc(Rl)}function yc(){for(;null!==Rl&&!Je();)bc(Rl)}function bc(e){var t=xl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=$a(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ml=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ml&&(Ml=5)}function _c(e,t,n){var r=bt,o=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==$l);if(0!==(6&Cl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Il&&(Rl=Il=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Cl;Cl|=4,El.current=null,function(e,t){if(eo=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(to),Ht=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ye(),Cl=l,bt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,$l=e,Jl=o),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Jl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Wo()}(e,t,n,r)}finally{Tl.transition=o,bt=r}return null}function Sc(){if(null!==$l){var e=wt(Jl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Jl=0,0!==(6&Cl))throw Error(i(331));var o=Cl;for(Cl|=4,Qa=e.current;null!==Qa;){var s=Qa,a=s.child;if(0!==(16&Qa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qa=u;null!==Qa;){var d=Qa;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Qa=h;else for(;null!==Qa;){var p=(d=Qa).sibling,f=d.return;if(il(d),d===u){Qa=null;break}if(null!==p){p.return=f,Qa=p;break}Qa=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Qa=a;else e:for(;null!==Qa;){if(0!==(2048&(s=Qa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Qa=y;break e}Qa=s.return}}var b=e.current;for(Qa=b;null!==Qa;){var w=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Qa=w;else e:for(a=b;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Qa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Qa=_;break e}Qa=l.return}}if(Cl=o,Wo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function xc(e,t,n){e=Ui(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ui(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Pl&n)===n&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>Xe()-Bl?hc(e,0):Fl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Di(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ec(e,n)}function Ic(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Dc(n.children,o,s,t);case k:a=8,o|=8;break;case A:return(e=Pc(12,n,t,2|o)).elementType=A,e.lanes=s,e;case I:return(e=Pc(13,n,t,o)).elementType=I,e.lanes=s,e;case R:return(e=Pc(19,n,t,o)).elementType=R,e.lanes=s,e;case N:return jc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case C:a=11;break e;case P:a=14;break e;case O:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Dc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,o,i,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Bc(e){if(!e)return Co;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return jo(e,n,t)}return t}function Vc(e,t,n,r,o,i,s,a,l){return(e=Uc(n,r,!0,e,0,i,0,a,l)).context=Bc(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function Wc(e,t,n,r){var o=t.current,i=ec(),s=tc(o);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(o,t,s))&&(nc(e,o,s,i),Bi(e,o,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ro.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),fi();break;case 5:Qi(t);break;case 1:No(t.type)&&Lo(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;To(xi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(To(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(To(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);To(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),To(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var o=Oo(t,Io.current);Ri(t,n),o=gs(null,t,r,e,o,n);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(s=!0,Lo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Ca(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),wa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),o){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ea(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ta(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Ia(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Fi(e,t),Wi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,o=ca(Error(i(423)),t));break e}if(r!==o){t=Ra(e,t,r,n,o=ca(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Aa(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return La(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_i(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,_a(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,To(xi,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Ro.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=zi(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ii(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ii(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ri(t,n),r=r(o=Pi(o)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),Sa(e,t,r,o=na(r.type,o),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),Wa(e,t),t.tag=1,No(r)?(e=!0,Lo(t)):e=!1,Ri(t,n),sa(t,r,o),la(t,r,o,n),Ca(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return ka(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Hc(s);a.call(e)}}Wc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Hc(s);i.call(e)}}var s=Vc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[mo]=s.current,Vr(8===e.nodeType?e.parentNode:e),uc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[mo]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,l,n,r)})),l}(n,t,e,o,r);return Hc(s)}Jc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Jc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[mo]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Cl)&&(Vl=Xe()+500,Wo()))}break;case 13:uc((function(){var t=Di(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Di(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},kt=function(){return bt},At=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));G(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[wo,_o,So,Ee,Te,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(i(299));var n=!1,r="",o=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Vr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Vr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=f},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,o)&&!k.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+C(l,0):i,_(s)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),I(s,t,o,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",_(e))for(var c=0;c<e.length;c++){var u=i+C(a=e[c],c);l+=I(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,o,u=i+C(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],o=0;return I(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},N={transition:null},M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:N,ReactCurrentOwner:x};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(u);null!==t&&M(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(E),E=-1),f=!0;var i=p;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),w(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(_,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,k=!1,A=null,E=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function R(){if(null!==A){var e=t.unstable_now();C=e;var n=!0;try{n=A(!0,e)}finally{n?x():(k=!1,A=null)}}else k=!1}if("function"===typeof b)x=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=R,x=function(){O.postMessage(null)}}else x=function(){v(R,0)};function N(e){A=e,k||(k=!0,x())}function M(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,M(_,i-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,N(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8387:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".b220dbf3.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="english-learning-app:";n.l=(r,o,i,s)=>{if(e[r])e[r].push(o);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[o];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkenglish_learning_app=self.webpackChunkenglish_learning_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(5043),t=n.t(e,2),r=n(4391),o=n(8168),i=n(8206),s=n(869),a=n(8280),l=n(9369);const c=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=e.useContext(l.T);return n&&(r=n,0!==Object.keys(r).length)?n:t;var r},u=(0,a.A)();const d=function(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:u)};var h=n(579);const p=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=d(r),i="function"===typeof t?t(n&&o[n]||o):t;return(0,h.jsx)(s.A,{styles:i})};var f=n(5170),m=n(3375);const g=function(e){return(0,h.jsx)(p,(0,o.A)({},e,{defaultTheme:f.A,themeId:m.A}))},v=(e,t)=>(0,o.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),y=e=>(0,o.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const b=function(t){const n=(0,i.b)({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:s=!1}=n;return(0,h.jsxs)(e.Fragment,{children:[(0,h.jsx)(g,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,o]=t;var i;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(i=o.palette)?void 0:i.mode}}));let i=(0,o.A)({html:v(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,o.A)({margin:0},y(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const s=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return s&&(i=[i,s]),i}(e,s)}),r]})};function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}var _,S;(S=_||(_={})).Pop="POP",S.Push="PUSH",S.Replace="REPLACE";const x="popstate";function k(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function E(e,t){return{usr:e.state,key:e.key,idx:t}}function T(e,t,n,r){return void 0===n&&(n=null),w({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?I(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function C(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function I(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=_.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a=_.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function h(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:C(e);return n=n.replace(/ $/,"%20"),k(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(w({},s.state,{idx:c}),""));let p={get action(){return a},get location(){return e(o,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(x,d),l=e,()=>{o.removeEventListener(x,d),l=null}},createHref:e=>t(o,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=_.Push;let r=T(p.location,e,t);n&&n(r,e),c=u()+1;let d=E(r,c),h=p.createHref(r);try{s.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(h)}i&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a=_.Replace;let r=T(p.location,e,t);n&&n(r,e),c=u();let o=E(r,c),d=p.createHref(r);s.replaceState(o,"",d),i&&l&&l({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}var P,O;(O=P||(P={})).data="data",O.deferred="deferred",O.redirect="redirect",O.error="error";new Set(["lazy","caseSensitive","path","id","index","children"]);function N(e,t,n){return void 0===n&&(n="/"),M(e,t,n,!1)}function M(e,t,n,r){let o=$(("string"===typeof t?I(t):t).pathname||"/",n);if(null==o)return null;let i=D(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=G(o);s=q(i[a],e,r)}return s}function D(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(k(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=Z([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(k(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),D(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:H(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of j(e.path))o(e,t,r);else o(e,t)})),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=j(r.join("/")),a=[];return a.push(...s.map((e=>""===e?i:[i,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const L=/^:[\w-]+$/,F=3,z=2,U=1,B=10,V=-2,W=e=>"*"===e;function H(e,t){let n=e.split("/"),r=n.length;return n.some(W)&&(r+=V),t&&(r+=z),n.filter((e=>!W(e))).reduce(((e,t)=>e+(L.test(t)?F:""===t?U:B)),r)}function q(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=K({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=K({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:Z([i,u.pathname]),pathnameBase:ee(Z([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=Z([i,u.pathnameBase]))}return s}function K(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function G(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Y(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function X(e,t){let n=Y(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Q(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=I(e):(o=w({},e),k(!o.pathname||!o.pathname.includes("?"),J("?","pathname","search",o)),k(!o.pathname||!o.pathname.includes("#"),J("#","pathname","hash",o)),k(!o.search||!o.search.includes("#"),J("#","search","hash",o)));let i,s=""===e||""===o.pathname,a=s?"/":o.pathname;if(null==a)i=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?I(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:te(r),hash:ne(o)}}(o,i),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Z=e=>e.join("/").replace(/\/\/+/g,"/"),ee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),te=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ne=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const oe=["post","put","patch","delete"],ie=(new Set(oe),["get",...oe]);new Set(ie),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}const ae=e.createContext(null);const le=e.createContext(null);const ce=e.createContext(null);const ue=e.createContext(null);const de=e.createContext({outlet:null,matches:[],isDataRoute:!1});const he=e.createContext(null);function pe(){return null!=e.useContext(ue)}function fe(){return pe()||k(!1),e.useContext(ue).location}function me(t){e.useContext(ce).static||e.useLayoutEffect(t)}function ge(){let{isDataRoute:t}=e.useContext(de);return t?function(){let{router:t}=Ee(ke.UseNavigateStable),n=Ce(Ae.UseNavigateStable),r=e.useRef(!1);return me((()=>{r.current=!0})),e.useCallback((function(e,o){void 0===o&&(o={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,se({fromRouteId:n},o)))}),[t,n])}():function(){pe()||k(!1);let t=e.useContext(ae),{basename:n,future:r,navigator:o}=e.useContext(ce),{matches:i}=e.useContext(de),{pathname:s}=fe(),a=JSON.stringify(X(i,r.v7_relativeSplatPath)),l=e.useRef(!1);return me((()=>{l.current=!0})),e.useCallback((function(e,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof e)return void o.go(e);let i=Q(e,JSON.parse(a),s,"path"===r.relative);null==t&&"/"!==n&&(i.pathname="/"===i.pathname?n:Z([n,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)}),[n,o,a,s,t])}()}function ve(t,n){let{relative:r}=void 0===n?{}:n,{future:o}=e.useContext(ce),{matches:i}=e.useContext(de),{pathname:s}=fe(),a=JSON.stringify(X(i,o.v7_relativeSplatPath));return e.useMemo((()=>Q(t,JSON.parse(a),s,"path"===r)),[t,a,s,r])}function ye(t,n,r,o){pe()||k(!1);let{navigator:i}=e.useContext(ce),{matches:s}=e.useContext(de),a=s[s.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,d=fe();if(n){var h;let e="string"===typeof n?I(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||k(!1),u=e}else u=d;let p=u.pathname||"/",f=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=N(t,{pathname:f});let g=xe(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Z([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Z([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,o);return n&&g?e.createElement(ue.Provider,{value:{location:se({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:_.Pop}},g):g}function be(){let t=function(){var t;let n=e.useContext(he),r=Te(Ae.UseRouteError),o=Ce(Ae.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[o]}(),n=re(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,null)}const we=e.createElement(be,null);class _e extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(de.Provider,{value:this.props.routeContext},e.createElement(he.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Se(t){let{routeContext:n,match:r,children:o}=t,i=e.useContext(ae);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(de.Provider,{value:n},o)}function xe(t,n,r,o){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=null),null==t){var s;if(!r)return null;if(r.errors)t=r.matches;else{if(!(null!=(s=o)&&s.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;t=r.matches}}let a=t,l=null==(i=r)?void 0:i.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||k(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(r&&o&&o.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((t,o,i)=>{let s,d=!1,h=null,p=null;var f;r&&(s=l&&o.route.id?l[o.route.id]:void 0,h=o.route.errorElement||we,c&&(u<0&&0===i?(f="route-fallback",!1||Ie[f]||(Ie[f]=!0),d=!0,p=null):u===i&&(d=!0,p=o.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,i+1)),g=()=>{let n;return n=s?h:d?p:o.route.Component?e.createElement(o.route.Component,null):o.route.element?o.route.element:t,e.createElement(Se,{match:o,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?e.createElement(_e,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ke=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ke||{}),Ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ae||{});function Ee(t){let n=e.useContext(ae);return n||k(!1),n}function Te(t){let n=e.useContext(le);return n||k(!1),n}function Ce(t){let n=function(){let t=e.useContext(de);return t||k(!1),t}(),r=n.matches[n.matches.length-1];return r.route.id||k(!1),r.route.id}const Ie={};const Re={};const Pe=(e,t,n)=>{var r;Re[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(Re[r]=!0,console.warn(r))};function Oe(e,t){null!=e&&e.v7_startTransition||Pe("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),null!=e&&e.v7_relativeSplatPath||t&&t.v7_relativeSplatPath||Pe("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||Pe("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||Pe("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||Pe("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||Pe("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}t.startTransition;function Ne(t){let{to:n,replace:r,state:o,relative:i}=t;pe()||k(!1);let{future:s,static:a}=e.useContext(ce),{matches:l}=e.useContext(de),{pathname:c}=fe(),u=ge(),d=Q(n,X(l,s.v7_relativeSplatPath),c,"path"===i),h=JSON.stringify(d);return e.useEffect((()=>u(JSON.parse(h),{replace:r,state:o,relative:i})),[u,h,i,r,o]),null}function Me(e){k(!1)}function De(t){let{basename:n="/",children:r=null,location:o,navigationType:i=_.Pop,navigator:s,static:a=!1,future:l}=t;pe()&&k(!1);let c=n.replace(/^\/*/,"/"),u=e.useMemo((()=>({basename:c,navigator:s,static:a,future:se({v7_relativeSplatPath:!1},l)})),[c,l,s,a]);"string"===typeof o&&(o=I(o));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:m="default"}=o,g=e.useMemo((()=>{let e=$(d,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:f,key:m},navigationType:i}}),[c,d,h,p,f,m,i]);return null==g?null:e.createElement(ce.Provider,{value:u},e.createElement(ue.Provider,{children:r,value:g}))}function je(e){let{children:t,location:n}=e;return ye(Le(t),n)}new Promise((()=>{}));e.Component;function Le(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,o)=>{if(!e.isValidElement(t))return;let i=[...n,o];if(t.type===e.Fragment)return void r.push.apply(r,Le(t.props.children,i));t.type!==Me&&k(!1),t.props.index&&t.props.children&&k(!1);let s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=Le(t.props.children,i)),r.push(s)})),r}var Fe=n(7950),ze=n.t(Fe,2);function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(jB){}new Map;const We=t.startTransition;ze.flushSync,t.useId;function He(t){let{basename:n,children:r,future:o,window:i}=t,s=e.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),R((function(e,t){let{pathname:n="/",search:r="",hash:o=""}=I(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),T("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:C(t))}),(function(e,t){A("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=s.current,[c,u]=e.useState({action:l.action,location:l.location}),{v7_startTransition:d}=o||{},h=e.useCallback((e=>{d&&We?We((()=>u(e))):u(e)}),[u,d]);return e.useLayoutEffect((()=>l.listen(h)),[l,h]),e.useEffect((()=>Oe(o)),[o]),e.createElement(De,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:o})}const qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=e.forwardRef((function(t,n){let r,{onClick:o,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=Be(t,Ve),{basename:f}=e.useContext(ce),m=!1;if("string"===typeof u&&Ke.test(u)&&(r=u,qe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=$(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(jB){}let g=function(t,n){let{relative:r}=void 0===n?{}:n;pe()||k(!1);let{basename:o,navigator:i}=e.useContext(ce),{hash:s,pathname:a,search:l}=ve(t,{relative:r}),c=a;return"/"!==o&&(c="/"===a?o:Z([o,a])),i.createHref({pathname:c,search:l,hash:s})}(u,{relative:i}),v=function(t,n){let{target:r,replace:o,state:i,preventScrollReset:s,relative:a,viewTransition:l}=void 0===n?{}:n,c=ge(),u=fe(),d=ve(t,{relative:a});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,r)){e.preventDefault();let n=void 0!==o?o:C(u)===C(d);c(t,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l})}}),[u,c,d,o,i,r,t,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});return e.createElement("a",Ue({},p,{href:r||g,onClick:m||s?o:function(e){o&&o(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var $e,Je,Ye,Xe;(Je=$e||($e={})).UseScrollRestoration="useScrollRestoration",Je.UseSubmit="useSubmit",Je.UseSubmitFetcher="useSubmitFetcher",Je.UseFetcher="useFetcher",Je.useViewTransitionState="useViewTransitionState",(Xe=Ye||(Ye={})).UseFetcher="useFetcher",Xe.UseFetchers="useFetchers",Xe.UseScrollRestoration="useScrollRestoration";var Qe=n(8587),Ze=n(8387),et=n(3174),tt=n(8812),nt=n(8698);const rt=["className","component"];var ot=n(9386),it=n(7344),st=n(2532);const at=(0,st.A)("MuiBox",["root"]),lt=(0,it.A)(),ct=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:s}=t,a=(0,et.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(tt.A);return e.forwardRef((function(e,t){const l=d(r),c=(0,nt.A)(e),{className:u,component:p="div"}=c,f=(0,Qe.A)(c,rt);return(0,h.jsx)(a,(0,o.A)({as:p,ref:t,className:(0,Ze.A)(u,s?s(i):i),theme:n&&l[n]||l},f))}))}({themeId:m.A,defaultTheme:lt,defaultClassName:at.root,generateClassName:ot.A.generate}),ut=ct;function dt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ht=n(8610),pt=n(3290),ft=n(6803),mt=n(4535),gt=n(2372);function vt(e){return(0,gt.Ay)("MuiCircularProgress",e)}(0,st.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var yt,bt,wt,_t;const St=["className","color","disableShrink","size","style","thickness","value","variant"];let xt,kt,At,Et;const Tt=44,Ct=(0,pt.i7)(xt||(xt=yt||(yt=dt(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),It=(0,pt.i7)(kt||(kt=bt||(bt=dt(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),Rt=(0,mt.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat((0,ft.A)(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,pt.AH)(At||(At=wt||(wt=dt(["\n      animation: "," 1.4s linear infinite;\n    "]))),Ct)})),Pt=(0,mt.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Ot=(0,mt.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat((0,ft.A)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,pt.AH)(Et||(Et=_t||(_t=dt(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),It)})),Nt=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:a=!1,size:l=40,style:c,thickness:u=3.6,value:d=0,variant:p="indeterminate"}=n,f=(0,Qe.A)(n,St),m=(0,o.A)({},n,{color:s,disableShrink:a,size:l,thickness:u,value:d,variant:p}),g=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,"color".concat((0,ft.A)(r))],svg:["svg"],circle:["circle","circle".concat((0,ft.A)(n)),o&&"circleDisableShrink"]};return(0,ht.A)(i,vt,t)})(m),v={},y={},b={};if("determinate"===p){const e=2*Math.PI*((Tt-u)/2);v.strokeDasharray=e.toFixed(3),b["aria-valuenow"]=Math.round(d),v.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),y.transform="rotate(-90deg)"}return(0,h.jsx)(Rt,(0,o.A)({className:(0,Ze.A)(g.root,r),style:(0,o.A)({width:l,height:l},y,c),ownerState:m,ref:t,role:"progressbar"},b,f,{children:(0,h.jsx)(Pt,{className:g.svg,ownerState:m,viewBox:"".concat(22," ").concat(22," ").concat(Tt," ").concat(Tt),children:(0,h.jsx)(Ot,{className:g.circle,style:v,ownerState:m,cx:Tt,cy:Tt,r:(Tt-u)/2,fill:"none",strokeWidth:u})})}))})),Mt=Nt;const Dt=e.createContext(null);function jt(){return e.useContext(Dt)}const Lt="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const Ft=function(t){const{children:n,theme:r}=t,i=jt(),s=e.useMemo((()=>{const e=null===i?r:function(e,t){if("function"===typeof t)return t(e);return(0,o.A)({},e,t)}(i,r);return null!=e&&(e[Lt]=null!==i),e}),[r,i]);return(0,h.jsx)(Dt.Provider,{value:s,children:n})},zt=["value"],Ut=e.createContext();const Bt=()=>{const t=e.useContext(Ut);return null!=t&&t},Vt=function(e){let{value:t}=e,n=(0,Qe.A)(e,zt);return(0,h.jsx)(Ut.Provider,(0,o.A)({value:null==t||t},n))};var Wt=n(3654);const Ht={};function qt(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.useMemo((()=>{const e=t&&n[t]||n;if("function"===typeof r){const s=r(e),a=t?(0,o.A)({},n,{[t]:s}):s;return i?()=>a:a}return t?(0,o.A)({},n,{[t]:r}):(0,o.A)({},n,r)}),[t,n,r,i])}const Kt=function(e){const{children:t,theme:n,themeId:r}=e,o=c(Ht),i=jt()||Ht,s=qt(r,o,n),a=qt(r,i,n,!0),u="rtl"===s.direction;return(0,h.jsx)(Ft,{theme:a,children:(0,h.jsx)(l.T.Provider,{value:s,children:(0,h.jsx)(Vt,{value:u,children:(0,h.jsx)(Wt.A,{value:null==s?void 0:s.components,children:t})})})})},Gt=["theme"];function $t(e){let{theme:t}=e,n=(0,Qe.A)(e,Gt);const r=t[m.A];return(0,h.jsx)(Kt,(0,o.A)({},n,{themeId:r?m.A:void 0,theme:r||t}))}const Jt=(0,it.A)({palette:{primary:{main:"#2196f3",light:"#64b5f6",dark:"#1976d2"},secondary:{main:"#ff4081",light:"#ff79b0",dark:"#c60055"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none"}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}}}}});function Yt(){const e=d(f.A);return e[m.A]||e}var Xt=n(4440),Qt=n(3030);function Zt(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,Qt.A)(t.components[n].defaultProps,r):r}function en(t,n,r,o,i){const[s,a]=e.useState((()=>i&&r?r(t).matches:o?o(t).matches:n));return(0,Xt.A)((()=>{let e=!0;if(!r)return;const n=r(t),o=()=>{e&&a(n.matches)};return o(),n.addListener(o),()=>{e=!1,n.removeListener(o)}}),[t,r]),s}const tn=t.useSyncExternalStore;function nn(t,n,r,o,i){const s=e.useCallback((()=>n),[n]),a=e.useMemo((()=>{if(i&&r)return()=>r(t).matches;if(null!==o){const{matches:e}=o(t);return()=>e}return s}),[s,t,o,i,r]),[l,c]=e.useMemo((()=>{if(null===r)return[s,()=>()=>{}];const e=r(t);return[()=>e.matches,t=>(e.addListener(t),()=>{e.removeListener(t)})]}),[s,r,t]);return tn(c,l,a)}var rn=n(7266);const on=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function sn(e){return(0,gt.Ay)("MuiPaper",e)}(0,st.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const an=["className","component","elevation","square","variant"],ln=(0,mt.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,o.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,o.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,rn.X4)("#fff",on(n.elevation)),", ").concat((0,rn.X4)("#fff",on(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),cn=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiPaper"}),{className:r,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation"}=n,u=(0,Qe.A)(n,an),d=(0,o.A)({},n,{component:s,elevation:a,square:l,variant:c}),p=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,ht.A)(i,sn,o)})(d);return(0,h.jsx)(ln,(0,o.A)({as:s,ownerState:d,className:(0,Ze.A)(p.root,r),ref:t},u))})),un=cn;function dn(e){return(0,gt.Ay)("MuiAppBar",e)}(0,st.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const hn=["className","color","enableColorOnDark","position"],pn=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,fn=(0,mt.Ay)(un,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,ft.A)(n.position))],t["color".concat((0,ft.A)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,o.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,o.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,o.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,o.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:pn(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:pn(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:pn(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:pn(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),mn=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiAppBar"}),{className:r,color:s="primary",enableColorOnDark:a=!1,position:l="fixed"}=n,c=(0,Qe.A)(n,hn),u=(0,o.A)({},n,{color:s,position:l,enableColorOnDark:a}),d=(e=>{const{color:t,position:n,classes:r}=e,o={root:["root","color".concat((0,ft.A)(t)),"position".concat((0,ft.A)(n))]};return(0,ht.A)(o,dn,r)})(u);return(0,h.jsx)(fn,(0,o.A)({square:!0,component:"header",ownerState:u,elevation:4,className:(0,Ze.A)(d.root,r,"fixed"===l&&"mui-fixed"),ref:t},c))}));function gn(e){return(0,gt.Ay)("MuiToolbar",e)}(0,st.A)("MuiToolbar",["root","gutters","regular","dense"]);const vn=["className","component","disableGutters","variant"],yn=(0,mt.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),bn=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiToolbar"}),{className:r,component:s="div",disableGutters:a=!1,variant:l="regular"}=n,c=(0,Qe.A)(n,vn),u=(0,o.A)({},n,{component:s,disableGutters:a,variant:l}),d=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,ht.A)(o,gn,t)})(u);return(0,h.jsx)(yn,(0,o.A)({as:s,className:(0,Ze.A)(d.root,r),ref:t,ownerState:u},c))})),wn=bn;function _n(e){return(0,gt.Ay)("MuiTypography",e)}(0,st.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Sn=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],xn=(0,mt.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,ft.A)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),kn={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},An={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},En=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiTypography"}),r=(e=>An[e]||e)(n.color),s=(0,nt.A)((0,o.A)({},n,{color:r})),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:p=!1,variant:f="body1",variantMapping:m=kn}=s,g=(0,Qe.A)(s,Sn),v=(0,o.A)({},s,{align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:p,variant:f,variantMapping:m}),y=c||(p?"p":m[f]||kn[f])||"span",b=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e,a={root:["root",i,"inherit"!==e.align&&"align".concat((0,ft.A)(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,ht.A)(a,_n,s)})(v);return(0,h.jsx)(xn,(0,o.A)({as:y,ref:t,ownerState:v,className:(0,Ze.A)(b.root,l)},g))})),Tn=En;var Cn=n(5849),In=n(3319),Rn=n(3574);function Pn(e,t){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pn(e,t)}function On(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pn(e,t)}const Nn=e.createContext(null);function Mn(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function Dn(e,t,n){return null!=n[t]?n[t]:e.props[t]}function jn(t,n,r){var o=Mn(t.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(n,o);return Object.keys(i).forEach((function(s){var a=i[s];if((0,e.isValidElement)(a)){var l=s in n,c=s in o,u=n[s],d=(0,e.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,e.isValidElement)(u)&&(i[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:Dn(a,"exit",t),enter:Dn(a,"enter",t)})):i[s]=(0,e.cloneElement)(a,{in:!1}):i[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:Dn(a,"exit",t),enter:Dn(a,"enter",t)})}})),i}var Ln=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Fn=function(t){function n(e,n){var r,o=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}On(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,o,i=n.children,s=n.handleExited;return{children:n.firstRender?(r=t,o=s,Mn(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:o.bind(null,t),in:!0,appear:Dn(t,"appear",r),enter:Dn(t,"enter",r),exit:Dn(t,"exit",r)})}))):jn(t,i,s),firstRender:!1}},r.handleExited=function(e,t){var n=Mn(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,o.A)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,o=(0,Qe.A)(t,["component","childFactory"]),i=this.state.contextValue,s=Ln(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?e.createElement(Nn.Provider,{value:i},s):e.createElement(Nn.Provider,{value:i},e.createElement(n,o,s))},n}(e.Component);Fn.propTypes={},Fn.defaultProps={component:"div",childFactory:function(e){return e}};const zn=Fn;var Un=n(9303);const Bn=function(t){const{className:n,classes:r,pulsate:o=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=t,[d,p]=e.useState(!1),f=(0,Ze.A)(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),m={width:a,height:a,top:-a/2+s,left:-a/2+i},g=(0,Ze.A)(r.child,d&&r.childLeaving,o&&r.childPulsate);return l||d||p(!0),e.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,h.jsx)("span",{className:f,style:m,children:(0,h.jsx)("span",{className:g})})};const Vn=(0,st.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Wn,Hn,qn,Kn;const Gn=["center","classes","className"];let $n,Jn,Yn,Xn;const Qn=(0,pt.i7)($n||($n=Wn||(Wn=dt(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Zn=(0,pt.i7)(Jn||(Jn=Hn||(Hn=dt(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),er=(0,pt.i7)(Yn||(Yn=qn||(qn=dt(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),tr=(0,mt.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),nr=(0,mt.Ay)(Bn,{name:"MuiTouchRipple",slot:"Ripple"})(Xn||(Xn=Kn||(Kn=dt(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Vn.rippleVisible,Qn,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Vn.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),Vn.child,Vn.childLeaving,Zn,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Vn.childPulsate,er,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),rr=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:l}=r,c=(0,Qe.A)(r,Gn),[u,d]=e.useState([]),p=e.useRef(0),f=e.useRef(null);e.useEffect((()=>{f.current&&(f.current(),f.current=null)}),[u]);const m=e.useRef(!1),g=(0,Un.A)(),v=e.useRef(null),y=e.useRef(null),b=e.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:i}=e;d((e=>[...e,(0,h.jsx)(nr,{classes:{ripple:(0,Ze.A)(a.ripple,Vn.ripple),rippleVisible:(0,Ze.A)(a.rippleVisible,Vn.rippleVisible),ripplePulsate:(0,Ze.A)(a.ripplePulsate,Vn.ripplePulsate),child:(0,Ze.A)(a.child,Vn.child),childLeaving:(0,Ze.A)(a.childLeaving,Vn.childLeaving),childPulsate:(0,Ze.A)(a.childPulsate,Vn.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},p.current)])),p.current+=1,f.current=i}),[a]),w=e.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=s||t.pulsate,fakeElement:i=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&m.current)return void(m.current=!1);"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);const a=i?null:y.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===v.current&&(v.current=()=>{b({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},g.start(80,(()=>{v.current&&(v.current(),v.current=null)}))):b({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[s,b,g]),_=e.useCallback((()=>{w({},{pulsate:!0})}),[w]),S=e.useCallback(((e,t)=>{if(g.clear(),"touchend"===(null==e?void 0:e.type)&&v.current)return v.current(),v.current=null,void g.start(0,(()=>{S(e,t)}));v.current=null,d((e=>e.length>0?e.slice(1):e)),f.current=t}),[g]);return e.useImperativeHandle(n,(()=>({pulsate:_,start:w,stop:S})),[_,w,S]),(0,h.jsx)(tr,(0,o.A)({className:(0,Ze.A)(Vn.root,a.root,l),ref:y},c,{children:(0,h.jsx)(zn,{component:null,exit:!0,children:u})}))})),or=rr;function ir(e){return(0,gt.Ay)("MuiButtonBase",e)}const sr=(0,st.A)("MuiButtonBase",["root","disabled","focusVisible"]),ar=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],lr=(0,mt.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(sr.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),cr=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:l,className:c,component:u="button",disabled:d=!1,disableRipple:p=!1,disableTouchRipple:f=!1,focusRipple:m=!1,LinkComponent:g="a",onBlur:v,onClick:y,onContextMenu:b,onDragLeave:w,onFocus:_,onFocusVisible:S,onKeyDown:x,onKeyUp:k,onMouseDown:A,onMouseLeave:E,onMouseUp:T,onTouchEnd:C,onTouchMove:I,onTouchStart:R,tabIndex:P=0,TouchRippleProps:O,touchRippleRef:N,type:M}=r,D=(0,Qe.A)(r,ar),j=e.useRef(null),L=e.useRef(null),F=(0,Cn.A)(L,N),{isFocusVisibleRef:z,onFocus:U,onBlur:B,ref:V}=(0,Rn.A)(),[W,H]=e.useState(!1);d&&W&&H(!1),e.useImperativeHandle(s,(()=>({focusVisible:()=>{H(!0),j.current.focus()}})),[]);const[q,K]=e.useState(!1);e.useEffect((()=>{K(!0)}),[]);const G=q&&!p&&!d;function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;return(0,In.A)((r=>{t&&t(r);return!n&&L.current&&L.current[e](r),!0}))}e.useEffect((()=>{W&&m&&!p&&q&&L.current.pulsate()}),[p,m,W,q]);const J=$("start",A),Y=$("stop",b),X=$("stop",w),Q=$("stop",T),Z=$("stop",(e=>{W&&e.preventDefault(),E&&E(e)})),ee=$("start",R),te=$("stop",C),ne=$("stop",I),re=$("stop",(e=>{B(e),!1===z.current&&H(!1),v&&v(e)}),!1),oe=(0,In.A)((e=>{j.current||(j.current=e.currentTarget),U(e),!0===z.current&&(H(!0),S&&S(e)),_&&_(e)})),ie=()=>{const e=j.current;return u&&"button"!==u&&!("A"===e.tagName&&e.href)},se=e.useRef(!1),ae=(0,In.A)((e=>{m&&!se.current&&W&&L.current&&" "===e.key&&(se.current=!0,L.current.stop(e,(()=>{L.current.start(e)}))),e.target===e.currentTarget&&ie()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&ie()&&"Enter"===e.key&&!d&&(e.preventDefault(),y&&y(e))})),le=(0,In.A)((e=>{m&&" "===e.key&&L.current&&W&&!e.defaultPrevented&&(se.current=!1,L.current.stop(e,(()=>{L.current.pulsate(e)}))),k&&k(e),y&&e.target===e.currentTarget&&ie()&&" "===e.key&&!e.defaultPrevented&&y(e)}));let ce=u;"button"===ce&&(D.href||D.to)&&(ce=g);const ue={};"button"===ce?(ue.type=void 0===M?"button":M,ue.disabled=d):(D.href||D.to||(ue.role="button"),d&&(ue["aria-disabled"]=d));const de=(0,Cn.A)(n,V,j);const he=(0,o.A)({},r,{centerRipple:a,component:u,disabled:d,disableRipple:p,disableTouchRipple:f,focusRipple:m,tabIndex:P,focusVisible:W}),pe=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,ht.A)(i,ir,o);return n&&r&&(s.root+=" ".concat(r)),s})(he);return(0,h.jsxs)(lr,(0,o.A)({as:ce,className:(0,Ze.A)(pe.root,c),ownerState:he,onBlur:re,onClick:y,onContextMenu:Y,onFocus:oe,onKeyDown:ae,onKeyUp:le,onMouseDown:J,onMouseLeave:Z,onMouseUp:Q,onDragLeave:X,onTouchEnd:te,onTouchMove:ne,onTouchStart:ee,ref:de,tabIndex:d?-1:P,type:M},ue,D,{children:[l,G?(0,h.jsx)(or,(0,o.A)({ref:F,center:a},O)):null]}))}));function ur(e){return(0,gt.Ay)("MuiIconButton",e)}const dr=(0,st.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),hr=["edge","children","className","color","disabled","disableFocusRipple","size"],pr=(0,mt.Ay)(cr,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,ft.A)(n.color))],n.edge&&t["edge".concat((0,ft.A)(n.edge))],t["size".concat((0,ft.A)(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,rn.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,o.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,o.A)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,o.A)({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,rn.X4)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(dr.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),fr=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:a,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium"}=n,p=(0,Qe.A)(n,hr),f=(0,o.A)({},n,{edge:r,color:l,disabled:c,disableFocusRipple:u,size:d}),m=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,s={root:["root",n&&"disabled","default"!==r&&"color".concat((0,ft.A)(r)),o&&"edge".concat((0,ft.A)(o)),"size".concat((0,ft.A)(i))]};return(0,ht.A)(s,ur,t)})(f);return(0,h.jsx)(pr,(0,o.A)({className:(0,Ze.A)(m.root,a),centerRipple:!0,focusRipple:!u,disabled:c,ref:t},p,{ownerState:f,children:s}))}));n(2086);var mr=n(3462);const gr=function(e){return"string"===typeof e};const vr=function(e,t,n){return void 0===e||gr(e)?t:(0,o.A)({},t,{ownerState:(0,o.A)({},t.ownerState,n)})};const yr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const br=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const wr=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const e=(0,Ze.A)(null==n?void 0:n.className,s,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,o.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),a=(0,o.A)({},n,i,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=yr((0,o.A)({},i,r)),l=br(r),c=br(i),u=t(a),d=(0,Ze.A)(null==u?void 0:u.className,null==n?void 0:n.className,s,null==i?void 0:i.className,null==r?void 0:r.className),h=(0,o.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),p=(0,o.A)({},u,n,c,l);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:u.ref}};const _r=function(e,t,n){return"function"===typeof e?e(t,n):e},Sr=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const xr=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=e,a=(0,Qe.A)(e,Sr),l=s?{}:_r(r,i),{props:c,internalRef:u}=wr((0,o.A)({},a,{externalSlotProps:l})),d=(0,mr.A)(u,null==l?void 0:l.ref,null==(t=e.additionalProps)?void 0:t.ref);return vr(n,(0,o.A)({},c,{ref:d}),i)};var kr=n(2427);const Ar=e.createContext({});function Er(e){return(0,gt.Ay)("MuiList",e)}(0,st.A)("MuiList",["root","padding","dense","subheader"]);const Tr=["children","className","component","dense","disablePadding","subheader"],Cr=(0,mt.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,o.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Ir=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiList"}),{children:s,className:a,component:l="ul",dense:c=!1,disablePadding:u=!1,subheader:d}=r,p=(0,Qe.A)(r,Tr),f=e.useMemo((()=>({dense:c})),[c]),m=(0,o.A)({},r,{component:l,dense:c,disablePadding:u}),g=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e,i={root:["root",!n&&"padding",r&&"dense",o&&"subheader"]};return(0,ht.A)(i,Er,t)})(m);return(0,h.jsx)(Ar.Provider,{value:f,children:(0,h.jsxs)(Cr,(0,o.A)({as:l,className:(0,Ze.A)(g.root,a),ref:n,ownerState:m},p,{children:[d,s]}))})}));function Rr(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const Pr=Rr;var Or=n(5013);const Nr=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Mr(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Dr(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function jr(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Lr(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&jr(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const Fr=e.forwardRef((function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:l,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:d,variant:p="selectedMenu"}=t,f=(0,Qe.A)(t,Nr),m=e.useRef(null),g=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Or.A)((()=>{i&&m.current.focus()}),[i]),e.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(Pr((0,kr.A)(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}})),[]);const v=(0,Cn.A)(m,n);let y=-1;e.Children.forEach(a,((t,n)=>{e.isValidElement(t)?(t.props.disabled||("selectedMenu"===p&&t.props.selected||-1===y)&&(y=n),y===n&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(y+=1,y>=a.length&&(y=-1))):y===n&&(y+=1,y>=a.length&&(y=-1))}));const b=e.Children.map(a,((t,n)=>{if(n===y){const n={};return s&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===p&&(n.tabIndex=0),e.cloneElement(t,n)}return t}));return(0,h.jsx)(Ir,(0,o.A)({role:"menu",ref:v,className:l,onKeyDown:e=>{const t=m.current,n=e.key,r=(0,kr.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Lr(t,r,u,c,Mr);else if("ArrowUp"===n)e.preventDefault(),Lr(t,r,u,c,Dr);else if("Home"===n)e.preventDefault(),Lr(t,null,u,c,Mr);else if("End"===n)e.preventDefault(),Lr(t,null,u,c,Dr);else if(1===n.length){const o=g.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&jr(r,o);o.previousKeyMatched&&(a||Lr(t,r,!1,c,Mr,o))?e.preventDefault():o.previousKeyMatched=!1}d&&d(e)},tabIndex:i?0:-1},f,{children:b}))})),zr=Fr;var Ur=n(950),Br=n(6078);function Vr(t){var n;return parseInt(e.version,10)>=19?(null==t||null==(n=t.props)?void 0:n.ref)||null:(null==t?void 0:t.ref)||null}const Wr=!1;var Hr="unmounted",qr="exited",Kr="entering",Gr="entered",$r="exiting",Jr=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var o,i=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?i?(o=qr,r.appearStatus=Kr):o=Gr:o=e.unmountOnExit||e.mountOnEnter?Hr:qr,r.state={status:o},r.nextCallback=null,r}On(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Hr?{status:qr}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Kr&&n!==Gr&&(t=Kr):n!==Kr&&n!==Gr||(t=$r)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Kr){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Fe.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===qr&&this.setState({status:Hr})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[Fe.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Wr?this.safeSetState({status:Gr},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:Kr},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:Gr},(function(){t.props.onEntered(i,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Fe.findDOMNode(this);t&&!Wr?(this.props.onExit(r),this.safeSetState({status:$r},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:qr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:qr},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Fe.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===Hr)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,Qe.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Nn.Provider,{value:null},"function"===typeof r?r(t,o):e.cloneElement(e.Children.only(r),o))},n}(e.Component);function Yr(){}Jr.contextType=Nn,Jr.propTypes={},Jr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yr,onEntering:Yr,onEntered:Yr,onExit:Yr,onExiting:Yr,onExited:Yr},Jr.UNMOUNTED=Hr,Jr.EXITED=qr,Jr.ENTERING=Kr,Jr.ENTERED=Gr,Jr.EXITING=$r;const Xr=Jr,Qr=e=>e.scrollTop;function Zr(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}const eo=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function to(e){return"scale(".concat(e,", ").concat(e**2,")")}const no={entering:{opacity:1,transform:to(1)},entered:{opacity:1,transform:"none"}},ro="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),oo=e.forwardRef((function(t,n){const{addEndListener:r,appear:i=!0,children:s,easing:a,in:l,onEnter:c,onEntered:u,onEntering:d,onExit:p,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=Xr}=t,b=(0,Qe.A)(t,eo),w=(0,Un.A)(),_=e.useRef(),S=Yt(),x=e.useRef(null),k=(0,Cn.A)(x,Vr(s),n),A=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},E=A(d),T=A(((e,t)=>{Qr(e);const{duration:n,delay:r,easing:o}=Zr({style:g,timeout:v,easing:a},{mode:"enter"});let i;"auto"===v?(i=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=i):i=n,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:r}),S.transitions.create("transform",{duration:ro?i:.666*i,delay:r,easing:o})].join(","),c&&c(e,t)})),C=A(u),I=A(m),R=A((e=>{const{duration:t,delay:n,easing:r}=Zr({style:g,timeout:v,easing:a},{mode:"exit"});let o;"auto"===v?(o=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=o):o=t,e.style.transition=[S.transitions.create("opacity",{duration:o,delay:n}),S.transitions.create("transform",{duration:ro?o:.666*o,delay:ro?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=to(.75),p&&p(e)})),P=A(f);return(0,h.jsx)(y,(0,o.A)({appear:i,in:l,nodeRef:x,onEnter:T,onEntered:C,onEntering:E,onExit:R,onExited:P,onExiting:I,addEndListener:e=>{"auto"===v&&w.start(_.current||0,e),r&&r(x.current,e)},timeout:"auto"===v?null:v},b,{children:(t,n)=>e.cloneElement(s,(0,o.A)({style:(0,o.A)({opacity:0,transform:to(.75),visibility:"exited"!==t||l?void 0:"hidden"},no[t],g,s.props.style),ref:k},n))}))}));oo.muiSupportAuto=!0;const io=oo;var so=n(1668);const ao=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function lo(e){const t=[],n=[];return Array.from(e.querySelectorAll(ao)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function co(){return!0}const uo=function(t){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:s=lo,isEnabled:a=co,open:l}=t,c=e.useRef(!1),u=e.useRef(null),d=e.useRef(null),p=e.useRef(null),f=e.useRef(null),m=e.useRef(!1),g=e.useRef(null),v=(0,mr.A)(Vr(n),g),y=e.useRef(null);e.useEffect((()=>{l&&g.current&&(m.current=!r)}),[r,l]),e.useEffect((()=>{if(!l||!g.current)return;const e=(0,so.A)(g.current);return g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),m.current&&g.current.focus()),()=>{i||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}}),[l]),e.useEffect((()=>{if(!l||!g.current)return;const e=(0,so.A)(g.current),t=t=>{y.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===g.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=g.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!m.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(g.current)),n.length>0){var r,i;const e=Boolean((null==(r=y.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=y.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,o,i,a,l,s]);const b=e=>{null===p.current&&(p.current=e.relatedTarget),m.current=!0};return(0,h.jsxs)(e.Fragment,{children:[(0,h.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:u,"data-testid":"sentinelStart"}),e.cloneElement(n,{ref:v,onFocus:e=>{null===p.current&&(p.current=e.relatedTarget),m.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,h.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:d,"data-testid":"sentinelEnd"})]})};var ho=n(6564);const po=e.forwardRef((function(t,n){const{children:r,container:o,disablePortal:i=!1}=t,[s,a]=e.useState(null),l=(0,mr.A)(e.isValidElement(r)?Vr(r):null,n);if((0,Xt.A)((()=>{i||a(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,i]),(0,Xt.A)((()=>{if(s&&!i)return(0,ho.A)(n,s),()=>{(0,ho.A)(n,null)}}),[n,s,i]),i){if(e.isValidElement(r)){const t={ref:l};return e.cloneElement(r,t)}return(0,h.jsx)(e.Fragment,{children:r})}return(0,h.jsx)(e.Fragment,{children:s?Fe.createPortal(r,s):s})})),fo=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],mo={entering:{opacity:1},entered:{opacity:1}},go=e.forwardRef((function(t,n){const r=Yt(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,easing:c,in:u,onEnter:d,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=i,TransitionComponent:w=Xr}=t,_=(0,Qe.A)(t,fo),S=e.useRef(null),x=(0,Cn.A)(S,Vr(l),n),k=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},A=k(f),E=k(((e,t)=>{Qr(e);const n=Zr({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),d&&d(e,t)})),T=k(p),C=k(v),I=k((e=>{const t=Zr({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),R=k(g);return(0,h.jsx)(w,(0,o.A)({appear:a,in:u,nodeRef:S,onEnter:E,onEntered:T,onEntering:A,onExit:I,onExited:R,onExiting:C,addEndListener:e=>{s&&s(S.current,e)},timeout:b},_,{children:(t,n)=>e.cloneElement(l,(0,o.A)({style:(0,o.A)({opacity:0,visibility:"exited"!==t||u?void 0:"hidden"},mo[t],y,l.props.style),ref:x},n))}))})),vo=go;function yo(e){return(0,gt.Ay)("MuiBackdrop",e)}(0,st.A)("MuiBackdrop",["root","invisible"]);const bo=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],wo=(0,mt.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,o.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),_o=e.forwardRef((function(e,t){var n,r,s;const a=(0,i.b)({props:e,name:"MuiBackdrop"}),{children:l,className:c,component:u="div",components:d={},componentsProps:p={},invisible:f=!1,open:m,slotProps:g={},slots:v={},TransitionComponent:y=vo,transitionDuration:b}=a,w=(0,Qe.A)(a,bo),_=(0,o.A)({},a,{component:u,invisible:f}),S=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,ht.A)(r,yo,t)})(_),x=null!=(n=g.root)?n:p.root;return(0,h.jsx)(y,(0,o.A)({in:m,timeout:b},w,{children:(0,h.jsx)(wo,(0,o.A)({"aria-hidden":!0},x,{as:null!=(r=null!=(s=v.root)?s:d.Root)?r:u,className:(0,Ze.A)(S.root,c,null==x?void 0:x.className),ownerState:(0,o.A)({},_,null==x?void 0:x.ownerState),classes:S,ref:t,children:l}))}))}));var So=n(1782),xo=n(2456),ko=n(3940);function Ao(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Eo(e){return parseInt((0,ko.A)(e).getComputedStyle(e).paddingRight,10)||0}function To(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ao(e,o)}))}function Co(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function Io(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,so.A)(e);return t.body===e?(0,ko.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=Rr((0,so.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Eo(r)+e,"px");const t=(0,so.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(Eo(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,so.A)(r).body;else{const t=r.parentElement,n=(0,ko.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const Ro=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ao(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);To(t,e.mount,e.modalRef,r,!0);const o=Co(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Co(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=Io(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=Co(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&Ao(e.modalRef,t),To(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&Ao(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Po=function(t){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:s=Ro,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:p}=t,f=e.useRef({}),m=e.useRef(null),g=e.useRef(null),v=(0,mr.A)(g,p),[y,b]=e.useState(!h),w=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let _=!0;"false"!==t["aria-hidden"]&&!1!==t["aria-hidden"]||(_=!1);const S=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),x=()=>{s.mount(S(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},k=(0,So.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||(0,so.A)(m.current).body;s.add(S(),e),g.current&&x()})),A=e.useCallback((()=>s.isTopModal(S())),[s]),E=(0,So.A)((e=>{m.current=e,e&&(h&&A()?x():g.current&&Ao(g.current,_))})),T=e.useCallback((()=>{s.remove(S(),_)}),[_,s]);e.useEffect((()=>()=>{T()}),[T]),e.useEffect((()=>{h?k():w&&a||T()}),[h,T,w,a,k]);const C=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&A()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},I=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=yr(t);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,o.A)({},n,e);return(0,o.A)({role:"presentation"},r,{onKeyDown:C(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.A)({"aria-hidden":!0},e,{onClick:I(e),open:h})},getTransitionProps:()=>({onEnter:(0,xo.A)((()=>{b(!1),l&&l()}),null==u?void 0:u.props.onEnter),onExited:(0,xo.A)((()=>{b(!0),c&&c(),a&&T()}),null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:E,isTopModal:A,exited:y,hasTransition:w}};function Oo(e){return(0,gt.Ay)("MuiModal",e)}(0,st.A)("MuiModal",["root","hidden","backdrop"]);const No=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Mo=(0,mt.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Do=(0,mt.Ay)(_o,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),jo=e.forwardRef((function(t,n){var r,s,a,l,c,u;const d=(0,i.b)({name:"MuiModal",props:t}),{BackdropComponent:p=Do,BackdropProps:f,className:m,closeAfterTransition:g=!1,children:v,container:y,component:b,components:w={},componentsProps:_={},disableAutoFocus:S=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:k=!1,disablePortal:A=!1,disableRestoreFocus:E=!1,disableScrollLock:T=!1,hideBackdrop:C=!1,keepMounted:I=!1,onBackdropClick:R,open:P,slotProps:O,slots:N}=d,M=(0,Qe.A)(d,No),D=(0,o.A)({},d,{closeAfterTransition:g,disableAutoFocus:S,disableEnforceFocus:x,disableEscapeKeyDown:k,disablePortal:A,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:C,keepMounted:I}),{getRootProps:j,getBackdropProps:L,getTransitionProps:F,portalRef:z,isTopModal:U,exited:B,hasTransition:V}=Po((0,o.A)({},D,{rootRef:n})),W=(0,o.A)({},D,{exited:B}),H=(e=>{const{open:t,exited:n,classes:r}=e,o={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,ht.A)(o,Oo,r)})(W),q={};if(void 0===v.props.tabIndex&&(q.tabIndex="-1"),V){const{onEnter:e,onExited:t}=F();q.onEnter=e,q.onExited=t}const K=null!=(r=null!=(s=null==N?void 0:N.root)?s:w.Root)?r:Mo,G=null!=(a=null!=(l=null==N?void 0:N.backdrop)?l:w.Backdrop)?a:p,$=null!=(c=null==O?void 0:O.root)?c:_.root,J=null!=(u=null==O?void 0:O.backdrop)?u:_.backdrop,Y=xr({elementType:K,externalSlotProps:$,externalForwardedProps:M,getSlotProps:j,additionalProps:{ref:n,as:b},ownerState:W,className:(0,Ze.A)(m,null==$?void 0:$.className,null==H?void 0:H.root,!W.open&&W.exited&&(null==H?void 0:H.hidden))}),X=xr({elementType:G,externalSlotProps:J,additionalProps:f,getSlotProps:e=>L((0,o.A)({},e,{onClick:t=>{R&&R(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,Ze.A)(null==J?void 0:J.className,null==f?void 0:f.className,null==H?void 0:H.backdrop),ownerState:W});return I||P||V&&!B?(0,h.jsx)(po,{ref:z,container:y,disablePortal:A,children:(0,h.jsxs)(K,(0,o.A)({},Y,{children:[!C&&p?(0,h.jsx)(G,(0,o.A)({},X)):null,(0,h.jsx)(uo,{disableEnforceFocus:x,disableAutoFocus:S,disableRestoreFocus:E,isEnabled:U,open:P,children:e.cloneElement(v,q)})]}))}):null}));function Lo(e){return(0,gt.Ay)("MuiPopover",e)}(0,st.A)("MuiPopover",["root","paper"]);const Fo=["onEntering"],zo=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Uo=["slotProps"];function Bo(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Vo(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Wo(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function Ho(e){return"function"===typeof e?e():e}const qo=(0,mt.Ay)(jo,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ko=(0,mt.Ay)(un,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Go=e.forwardRef((function(t,n){var r,s,a;const l=(0,i.b)({props:t,name:"MuiPopover"}),{action:c,anchorEl:u,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:p,anchorReference:f="anchorEl",children:m,className:g,container:v,elevation:y=8,marginThreshold:b=16,open:w,PaperProps:_={},slots:S,slotProps:x,transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:A=io,transitionDuration:E="auto",TransitionProps:{onEntering:T}={},disableScrollLock:C=!1}=l,I=(0,Qe.A)(l.TransitionProps,Fo),R=(0,Qe.A)(l,zo),P=null!=(r=null==x?void 0:x.paper)?r:_,O=e.useRef(),N=(0,Cn.A)(O,P.ref),M=(0,o.A)({},l,{anchorOrigin:d,anchorReference:f,elevation:y,marginThreshold:b,externalPaperSlotProps:P,transformOrigin:k,TransitionComponent:A,transitionDuration:E,TransitionProps:I}),D=(e=>{const{classes:t}=e;return(0,ht.A)({root:["root"],paper:["paper"]},Lo,t)})(M),j=e.useCallback((()=>{if("anchorPosition"===f)return p;const e=Ho(u),t=(e&&1===e.nodeType?e:(0,kr.A)(O.current).body).getBoundingClientRect();return{top:t.top+Bo(t,d.vertical),left:t.left+Vo(t,d.horizontal)}}),[u,d.horizontal,d.vertical,p,f]),L=e.useCallback((e=>({vertical:Bo(e,k.vertical),horizontal:Vo(e,k.horizontal)})),[k.horizontal,k.vertical]),F=e.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=L(t);if("none"===f)return{top:null,left:null,transformOrigin:Wo(n)};const r=j();let o=r.top-n.vertical,i=r.left-n.horizontal;const s=o+t.height,a=i+t.width,l=(0,Br.A)(Ho(u)),c=l.innerHeight-b,d=l.innerWidth-b;if(null!==b&&o<b){const e=o-b;o-=e,n.vertical+=e}else if(null!==b&&s>c){const e=s-c;o-=e,n.vertical+=e}if(null!==b&&i<b){const e=i-b;i-=e,n.horizontal+=e}else if(a>d){const e=a-d;i-=e,n.horizontal+=e}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:Wo(n)}}),[u,f,j,L,b]),[z,U]=e.useState(w),B=e.useCallback((()=>{const e=O.current;if(!e)return;const t=F(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,U(!0)}),[F]);e.useEffect((()=>(C&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B))),[u,C,B]);e.useEffect((()=>{w&&B()})),e.useImperativeHandle(c,(()=>w?{updatePosition:()=>{B()}}:null),[w,B]),e.useEffect((()=>{if(!w)return;const e=(0,Ur.A)((()=>{B()})),t=(0,Br.A)(u);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[u,w,B]);let V=E;"auto"!==E||A.muiSupportAuto||(V=void 0);const W=v||(u?(0,kr.A)(Ho(u)).body:void 0),H=null!=(s=null==S?void 0:S.root)?s:qo,q=null!=(a=null==S?void 0:S.paper)?a:Ko,K=xr({elementType:q,externalSlotProps:(0,o.A)({},P,{style:z?P.style:(0,o.A)({},P.style,{opacity:0})}),additionalProps:{elevation:y,ref:N},ownerState:M,className:(0,Ze.A)(D.paper,null==P?void 0:P.className)}),G=xr({elementType:H,externalSlotProps:(null==x?void 0:x.root)||{},externalForwardedProps:R,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:W,open:w},ownerState:M,className:(0,Ze.A)(D.root,g)}),{slotProps:$}=G,J=(0,Qe.A)(G,Uo);return(0,h.jsx)(H,(0,o.A)({},J,!gr(H)&&{slotProps:$,disableScrollLock:C},{children:(0,h.jsx)(A,(0,o.A)({appear:!0,in:w,onEntering:(e,t)=>{T&&T(e,t),B()},onExited:()=>{U(!1)},timeout:V},I,{children:(0,h.jsx)(q,(0,o.A)({},K,{children:m}))}))}))}));var $o=n(1475);function Jo(e){return(0,gt.Ay)("MuiMenu",e)}(0,st.A)("MuiMenu",["root","paper","list"]);const Yo=["onEntering"],Xo=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Qo={vertical:"top",horizontal:"right"},Zo={vertical:"top",horizontal:"left"},ei=(0,mt.Ay)(Go,{shouldForwardProp:e=>(0,$o.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ti=(0,mt.Ay)(Ko,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ni=(0,mt.Ay)(zr,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),ri=e.forwardRef((function(t,n){var r,s;const a=(0,i.b)({props:t,name:"MuiMenu"}),{autoFocus:l=!0,children:c,className:u,disableAutoFocusItem:d=!1,MenuListProps:p={},onClose:f,open:m,PaperProps:g={},PopoverClasses:v,transitionDuration:y="auto",TransitionProps:{onEntering:b}={},variant:w="selectedMenu",slots:_={},slotProps:S={}}=a,x=(0,Qe.A)(a.TransitionProps,Yo),k=(0,Qe.A)(a,Xo),A=Bt(),E=(0,o.A)({},a,{autoFocus:l,disableAutoFocusItem:d,MenuListProps:p,onEntering:b,PaperProps:g,transitionDuration:y,TransitionProps:x,variant:w}),T=(e=>{const{classes:t}=e;return(0,ht.A)({root:["root"],paper:["paper"],list:["list"]},Jo,t)})(E),C=l&&!d&&m,I=e.useRef(null);let R=-1;e.Children.map(c,((t,n)=>{e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===w&&t.props.selected||-1===R)&&(R=n))}));const P=null!=(r=_.paper)?r:ti,O=null!=(s=S.paper)?s:g,N=xr({elementType:_.root,externalSlotProps:S.root,ownerState:E,className:[T.root,u]}),M=xr({elementType:P,externalSlotProps:O,ownerState:E,className:T.paper});return(0,h.jsx)(ei,(0,o.A)({onClose:f,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?Qo:Zo,slots:{paper:P,root:_.root},slotProps:{root:N,paper:M},open:m,ref:n,transitionDuration:y,TransitionProps:(0,o.A)({onEntering:(e,t)=>{I.current&&I.current.adjustStyleForScrollbar(e,{direction:A?"rtl":"ltr"}),b&&b(e,t)}},x),ownerState:E},k,{classes:v,children:(0,h.jsx)(ni,(0,o.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:I,autoFocus:l&&(-1===R||d),autoFocusItem:C,variant:w},p,{className:(0,Ze.A)(T.list,p.className),children:c}))}))})),oi=ri;function ii(e){return(0,gt.Ay)("MuiDivider",e)}const si=(0,st.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function ai(e){return(0,gt.Ay)("MuiListItemIcon",e)}const li=(0,st.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);function ci(e){return(0,gt.Ay)("MuiListItemText",e)}const ui=(0,st.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function di(e){return(0,gt.Ay)("MuiMenuItem",e)}const hi=(0,st.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),pi=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],fi=(0,mt.Ay)(cr,{shouldForwardProp:e=>(0,$o.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(hi.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,rn.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(hi.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,rn.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(hi.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,rn.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,rn.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(hi.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(hi.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(si.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(si.inset)]:{marginLeft:52},["& .".concat(ui.root)]:{marginTop:0,marginBottom:0},["& .".concat(ui.inset)]:{paddingLeft:36},["& .".concat(li.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(li.root," svg")]:{fontSize:"1.25rem"}}))})),mi=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:a="li",dense:l=!1,divider:c=!1,disableGutters:u=!1,focusVisibleClassName:d,role:p="menuitem",tabIndex:f,className:m}=r,g=(0,Qe.A)(r,pi),v=e.useContext(Ar),y=e.useMemo((()=>({dense:l||v.dense||!1,disableGutters:u})),[v.dense,l,u]),b=e.useRef(null);(0,Or.A)((()=>{s&&b.current&&b.current.focus()}),[s]);const w=(0,o.A)({},r,{dense:y.dense,divider:c,disableGutters:u}),_=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:s,classes:a}=e,l={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},c=(0,ht.A)(l,di,a);return(0,o.A)({},a,c)})(r),S=(0,Cn.A)(b,n);let x;return r.disabled||(x=void 0!==f?f:-1),(0,h.jsx)(Ar.Provider,{value:y,children:(0,h.jsx)(fi,(0,o.A)({ref:S,role:p,tabIndex:x,component:a,focusVisibleClassName:(0,Ze.A)(_.focusVisible,d),className:(0,Ze.A)(_.root,m)},g,{ownerState:w,classes:_}))})})),gi=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],vi=(0,mt.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,rn.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,o.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}})}),(e=>{let{ownerState:t}=e;return(0,o.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),yi=(0,mt.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),bi=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:a,component:l=(s?"div":"hr"),flexItem:c=!1,light:u=!1,orientation:d="horizontal",role:p=("hr"!==l?"separator":void 0),textAlign:f="center",variant:m="fullWidth"}=n,g=(0,Qe.A)(n,gi),v=(0,o.A)({},n,{absolute:r,component:l,flexItem:c,light:u,orientation:d,role:p,textAlign:f,variant:m}),y=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=e,c={root:["root",t&&"absolute",l,i&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,ht.A)(c,ii,r)})(v);return(0,h.jsx)(vi,(0,o.A)({as:l,className:(0,Ze.A)(y.root,a),role:p,ref:t,ownerState:v},g,{children:s?(0,h.jsx)(yi,{className:y.wrapper,ownerState:v,children:s}):null}))}));bi.muiSkipListHighlight=!0;const wi=bi;function _i(e){return(0,gt.Ay)("MuiButton",e)}const Si=(0,st.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const xi=e.createContext({});const ki=e.createContext(void 0),Ai=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Ei=e=>(0,o.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Ti=(0,mt.Ay)(cr,{shouldForwardProp:e=>(0,$o.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,ft.A)(n.color))],t["size".concat((0,ft.A)(n.size))],t["".concat(n.variant,"Size").concat((0,ft.A)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const s="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,o.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,o.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,rn.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,rn.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,rn.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,o.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(Si.focusVisible)]:(0,o.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(Si.disabled)]:(0,o.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,rn.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(Si.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(Si.disabled)]:{boxShadow:"none"}}})),Ci=(0,mt.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat((0,ft.A)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Ei(t))})),Ii=(0,mt.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat((0,ft.A)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Ei(t))})),Ri=e.forwardRef((function(t,n){const r=e.useContext(xi),s=e.useContext(ki),a=(0,Qt.A)(r,t),l=(0,i.b)({props:a,name:"MuiButton"}),{children:c,color:u="primary",component:d="button",className:p,disabled:f=!1,disableElevation:m=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:y,fullWidth:b=!1,size:w="medium",startIcon:_,type:S,variant:x="text"}=l,k=(0,Qe.A)(l,Ai),A=(0,o.A)({},l,{color:u,component:d,disabled:f,disableElevation:m,disableFocusRipple:g,fullWidth:b,size:w,type:S,variant:x}),E=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:a}=e,l={root:["root",s,"".concat(s).concat((0,ft.A)(t)),"size".concat((0,ft.A)(i)),"".concat(s,"Size").concat((0,ft.A)(i)),"color".concat((0,ft.A)(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,ft.A)(i))],endIcon:["icon","endIcon","iconSize".concat((0,ft.A)(i))]},c=(0,ht.A)(l,_i,a);return(0,o.A)({},a,c)})(A),T=_&&(0,h.jsx)(Ci,{className:E.startIcon,ownerState:A,children:_}),C=v&&(0,h.jsx)(Ii,{className:E.endIcon,ownerState:A,children:v}),I=s||"";return(0,h.jsxs)(Ti,(0,o.A)({ownerState:A,className:(0,Ze.A)(r.className,E.root,p,I),component:d,disabled:f,focusRipple:!g,focusVisibleClassName:(0,Ze.A)(E.focusVisible,y),ref:n,type:S},k,{classes:E,children:[T,c,C]}))})),Pi=Ri;var Oi=n(9662);const Ni=(0,Oi.A)((0,h.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Mi(e){return(0,gt.Ay)("MuiAvatar",e)}(0,st.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Di=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],ji=["component","slots","slotProps"],Li=["component"];function Fi(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:a,internalForwardedProps:l}=t,c=(0,Qe.A)(t,Di),{component:u,slots:d={[e]:void 0},slotProps:h={[e]:void 0}}=s,p=(0,Qe.A)(s,ji),f=d[e]||r,m=_r(h[e],i),g=wr((0,o.A)({className:n},c,{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:m})),{props:{component:v},internalRef:y}=g,b=(0,Qe.A)(g.props,Li),w=(0,mr.A)(y,null==m?void 0:m.ref,t.ref),_=a?a(b):{},S=(0,o.A)({},i,_),x="root"===e?v||u:v,k=vr(f,(0,o.A)({},"root"===e&&!u&&!d[e]&&l,"root"!==e&&!d[e]&&l,b,x&&{as:x},{ref:w}),S);return Object.keys(_).forEach((e=>{delete k[e]})),[f,k]}const zi=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],Ui=(0,mt.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,o.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,o.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),Bi=(0,mt.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Vi=(0,mt.Ay)(Ni,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const Wi=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiAvatar"}),{alt:s,children:a,className:l,component:c="div",slots:u={},slotProps:d={},imgProps:p,sizes:f,src:m,srcSet:g,variant:v="circular"}=r,y=(0,Qe.A)(r,zi);let b=null;const w=function(t){let{crossOrigin:n,referrerPolicy:r,src:o,srcSet:i}=t;const[s,a]=e.useState(!1);return e.useEffect((()=>{if(!o&&!i)return;a(!1);let e=!0;const t=new Image;return t.onload=()=>{e&&a("loaded")},t.onerror=()=>{e&&a("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=o,i&&(t.srcset=i),()=>{e=!1}}),[n,r,o,i]),s}((0,o.A)({},p,{src:m,srcSet:g})),_=m||g,S=_&&"error"!==w,x=(0,o.A)({},r,{colorDefault:!S,component:c,variant:v}),k=(e=>{const{classes:t,variant:n,colorDefault:r}=e,o={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,ht.A)(o,Mi,t)})(x),[A,E]=Fi("img",{className:k.img,elementType:Bi,externalForwardedProps:{slots:u,slotProps:{img:(0,o.A)({},p,d.img)}},additionalProps:{alt:s,src:m,srcSet:g,sizes:f},ownerState:x});return b=S?(0,h.jsx)(A,(0,o.A)({},E)):a||0===a?a:_&&s?s[0]:(0,h.jsx)(Vi,{ownerState:x,className:k.fallback}),(0,h.jsx)(Ui,(0,o.A)({as:c,ownerState:x,className:(0,Ze.A)(k.root,l),ref:n},y,{children:b}))})),Hi=Wi;var qi=n(6300),Ki=n(9611);function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function $i(e){var t=function(e,t){if("object"!=Gi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gi(t)?t:t+""}function Ji(e,t,n){return(t=$i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){Ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Qi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},Zi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qi(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const s=o<e.length?n[e.charAt(o)]:64;++o;const a=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==s||null==a)throw new es;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class es extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ts=function(e){return function(e){const t=Qi(e);return Zi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ns=function(e){try{return Zi.decodeString(e,!0)}catch(jB){console.error("base64Decode failed: ",jB)}return null};const rs=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,os=()=>{try{return rs()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"your_firebase_api_key",REACT_APP_FIREBASE_APP_ID:"your_app_id",REACT_APP_FIREBASE_AUTH_DOMAIN:"your_app.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"your_sender_id",REACT_APP_FIREBASE_PROJECT_ID:"your_project_id",REACT_APP_FIREBASE_STORAGE_BUCKET:"your_storage_bucket",REACT_APP_GITHUB_CLIENT_ID:"your_github_client_id",REACT_APP_GITHUB_CLIENT_SECRET:"your_github_client_secret",REACT_APP_GOOGLE_CLOUD_API_KEY:"your_google_cloud_api_key",REACT_APP_GOOGLE_CLOUD_PROJECT_ID:"your_project_id",REACT_APP_OPENAI_API_KEY:"your_openai_api_key",REACT_APP_STRIPE_PUBLISHABLE_KEY:"your_stripe_publishable_key",REACT_APP_STRIPE_SECRET_KEY:"your_stripe_secret_key",REACT_APP_SUPABASE_ANON_KEY:"your_supabase_anon_key",REACT_APP_SUPABASE_URL:"your_supabase_project_url"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(jB){return}const t=e&&ns(e[1]);return t&&JSON.parse(t)})()}catch(jB){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(jB))}},is=e=>{var t,n;return null===(n=null===(t=os())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ss=()=>{var e;return null===(e=os())||void 0===e?void 0:e.config},as=e=>{var t;return null===(t=os())||void 0===t?void 0:t["_".concat(e)]};class ls{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function cs(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function us(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ds(){return!function(){var e;const t=null===(e=os())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(jB){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hs(){try{return"object"===typeof indexedDB}catch(jB){return!1}}function ps(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class fs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ms.prototype.create)}}class ms{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(gs,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new fs(n,i,t)}}const gs=/\{\$([^}]+)}/g;function vs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(ys(n)&&ys(i)){if(!vs(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function ys(e){return null!==e&&"object"===typeof e}function bs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ws(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function _s(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ss{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=xs),void 0===r.error&&(r.error=xs),void 0===r.complete&&(r.complete=xs);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(jB){}})),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(jB){"undefined"!==typeof console&&console.error&&console.error(jB)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function xs(){}function ks(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function As(e){return e&&e._delegate?e._delegate:e}class Es{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ts="[DEFAULT]";class Cs{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ls;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(jB){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(jB){if(r)return null;throw jB}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch(jB){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(jB){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===Ts?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts;return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Is{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Cs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Rs=[];var Ps,Os;(Os=Ps||(Ps={}))[Os.DEBUG=0]="DEBUG",Os[Os.VERBOSE=1]="VERBOSE",Os[Os.INFO=2]="INFO",Os[Os.WARN=3]="WARN",Os[Os.ERROR=4]="ERROR",Os[Os.SILENT=5]="SILENT";const Ns={debug:Ps.DEBUG,verbose:Ps.VERBOSE,info:Ps.INFO,warn:Ps.WARN,error:Ps.ERROR,silent:Ps.SILENT},Ms=Ps.INFO,Ds={[Ps.DEBUG]:"log",[Ps.VERBOSE]:"log",[Ps.INFO]:"info",[Ps.WARN]:"warn",[Ps.ERROR]:"error"},js=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ds[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Ls{constructor(e){this.name=e,this._logLevel=Ms,this._logHandler=js,this._userLogHandler=null,Rs.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ps))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ns[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ps.DEBUG,...t),this._logHandler(this,Ps.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ps.VERBOSE,...t),this._logHandler(this,Ps.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ps.INFO,...t),this._logHandler(this,Ps.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ps.WARN,...t),this._logHandler(this,Ps.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ps.ERROR,...t),this._logHandler(this,Ps.ERROR,...t)}}let Fs,zs;const Us=new WeakMap,Bs=new WeakMap,Vs=new WeakMap,Ws=new WeakMap,Hs=new WeakMap;let qs={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Bs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Vs.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ks(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zs||(zs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Js(this),n),$s(Us.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $s(e.apply(Js(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(Js(this),t,...r);return Vs.set(i,t.sort?t.sort():[t]),$s(i)}}function Gs(e){return"function"===typeof e?Ks(e):(e instanceof IDBTransaction&&function(e){if(Bs.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));Bs.set(e,t)}(e),t=e,(Fs||(Fs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,qs):e);var t}function $s(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t($s(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&Us.set(t,e)})).catch((()=>{})),Hs.set(t,e),t}(e);if(Ws.has(e))return Ws.get(e);const t=Gs(e);return t!==e&&(Ws.set(e,t),Hs.set(t,e)),t}const Js=e=>Hs.get(e);function Ys(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=$s(s);return r&&s.addEventListener("upgradeneeded",(e=>{r($s(s.result),e.oldVersion,e.newVersion,$s(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const Xs=["get","getKey","getAll","getAllKeys","count"],Qs=["put","add","delete","clear"],Zs=new Map;function ea(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Zs.get(t))return Zs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Qs.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Xs.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return Zs.set(t,i),i}qs=(e=>Xi(Xi({},e),{},{get:(t,n,r)=>ea(t,n)||e.get(t,n,r),has:(t,n)=>!!ea(t,n)||e.has(t,n)}))(qs);class ta{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const na="@firebase/app",ra="0.10.13",oa=new Ls("@firebase/app"),ia="@firebase/app-compat",sa="@firebase/analytics-compat",aa="@firebase/analytics",la="@firebase/app-check-compat",ca="@firebase/app-check",ua="@firebase/auth",da="@firebase/auth-compat",ha="@firebase/database",pa="@firebase/data-connect",fa="@firebase/database-compat",ma="@firebase/functions",ga="@firebase/functions-compat",va="@firebase/installations",ya="@firebase/installations-compat",ba="@firebase/messaging",wa="@firebase/messaging-compat",_a="@firebase/performance",Sa="@firebase/performance-compat",xa="@firebase/remote-config",ka="@firebase/remote-config-compat",Aa="@firebase/storage",Ea="@firebase/storage-compat",Ta="@firebase/firestore",Ca="@firebase/vertexai-preview",Ia="@firebase/firestore-compat",Ra="firebase",Pa="[DEFAULT]",Oa={[na]:"fire-core",[ia]:"fire-core-compat",[aa]:"fire-analytics",[sa]:"fire-analytics-compat",[ca]:"fire-app-check",[la]:"fire-app-check-compat",[ua]:"fire-auth",[da]:"fire-auth-compat",[ha]:"fire-rtdb",[pa]:"fire-data-connect",[fa]:"fire-rtdb-compat",[ma]:"fire-fn",[ga]:"fire-fn-compat",[va]:"fire-iid",[ya]:"fire-iid-compat",[ba]:"fire-fcm",[wa]:"fire-fcm-compat",[_a]:"fire-perf",[Sa]:"fire-perf-compat",[xa]:"fire-rc",[ka]:"fire-rc-compat",[Aa]:"fire-gcs",[Ea]:"fire-gcs-compat",[Ta]:"fire-fst",[Ia]:"fire-fst-compat",[Ca]:"fire-vertex","fire-js":"fire-js",[Ra]:"fire-js-all"},Na=new Map,Ma=new Map,Da=new Map;function ja(e,t){try{e.container.addComponent(t)}catch(jB){oa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),jB)}}function La(e){const t=e.name;if(Da.has(t))return oa.debug("There were multiple attempts to register component ".concat(t,".")),!1;Da.set(t,e);for(const n of Na.values())ja(n,e);for(const n of Ma.values())ja(n,e);return!0}function Fa(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function za(e){return void 0!==e.settings}const Ua=new ms("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ba{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Es("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}const Va="10.14.1";function Wa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Pa,automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!==typeof o||!o)throw Ua.create("bad-app-name",{appName:String(o)});if(n||(n=ss()),!n)throw Ua.create("no-options");const i=Na.get(o);if(i){if(vs(n,i.options)&&vs(r,i.config))return i;throw Ua.create("duplicate-app",{appName:o})}const s=new Is(o);for(const l of Da.values())s.addComponent(l);const a=new Ba(n,r,s);return Na.set(o,a),a}function Ha(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa;const t=Na.get(e);if(!t&&e===Pa&&ss())return Wa();if(!t)throw Ua.create("no-app",{appName:e});return t}function qa(e,t,n){var r;let o=null!==(r=Oa[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),i&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void oa.warn(e.join(" "))}La(new Es("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}const Ka="firebase-heartbeat-store";let Ga=null;function $a(){return Ga||(Ga=Ys("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ka)}catch(jB){console.warn(jB)}}}).catch((e=>{throw Ua.create("idb-open",{originalErrorMessage:e.message})}))),Ga}async function Ja(e,t){try{const n=(await $a()).transaction(Ka,"readwrite"),r=n.objectStore(Ka);await r.put(t,Ya(e)),await n.done}catch(jB){if(jB instanceof fs)oa.warn(jB.message);else{const t=Ua.create("idb-set",{originalErrorMessage:null===jB||void 0===jB?void 0:jB.message});oa.warn(t.message)}}}function Ya(e){return"".concat(e.name,"!").concat(e.options.appId)}class Xa{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Za(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qa();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(jB){oa.warn(jB)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Qa(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),el(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),el(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=ts(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(jB){return oa.warn(jB),""}}}function Qa(){return(new Date).toISOString().substring(0,10)}class Za{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!hs()&&ps().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await $a()).transaction(Ka),n=await t.objectStore(Ka).get(Ya(e));return await t.done,n}catch(jB){if(jB instanceof fs)oa.warn(jB.message);else{const t=Ua.create("idb-get",{originalErrorMessage:null===jB||void 0===jB?void 0:jB.message});oa.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ja(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ja(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function el(e){return ts(JSON.stringify({version:2,heartbeats:e})).length}var tl;tl="",La(new Es("platform-logger",(e=>new ta(e)),"PRIVATE")),La(new Es("heartbeat",(e=>new Xa(e)),"PRIVATE")),qa(na,ra,tl),qa(na,ra,"esm2017"),qa("fire-js","");function nl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function rl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ol=rl,il=new ms("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sl=new Ls("@firebase/auth");function al(e){if(sl.logLevel<=Ps.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];sl.error("Auth (".concat(Va,"): ").concat(e),...n)}}function ll(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw hl(e,...n)}function cl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return hl(e,...n)}function ul(e,t,n){const r=Object.assign(Object.assign({},ol()),{[t]:n});return new ms("auth","Firebase",r).create(t,{appName:e.name})}function dl(e){return ul(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return il.create(e,...n)}function pl(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw hl(t,...r)}}function fl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw al(t),new Error(t)}function ml(e,t){e||fl(t)}function gl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function vl(){return"http:"===yl()||"https:"===yl()}function yl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class bl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ml(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cs())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(vl()||us()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function wl(e,t){ml(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class _l{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xl=new bl(3e4,6e4);function kl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Al(e,t,n,r){return El(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const s=bs(Object.assign({key:e.config.apiKey},i)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},o);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),_l.fetch()(Cl(e,e.config.apiHost,n,s),l)}))}async function El(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sl),t);try{const t=new Rl(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Pl(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Pl(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Pl(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Pl(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw ul(e,a,s);ll(e,a)}}catch(jB){if(jB instanceof fs)throw jB;ll(e,"network-request-failed",{message:String(jB)})}}async function Tl(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Al(e,t,n,r,o);return"mfaPendingCredential"in i&&ll(e,"multi-factor-auth-required",{_serverResponse:i}),i}function Cl(e,t,n,r){const o="".concat(t).concat(n,"?").concat(r);return e.config.emulator?wl(e.config,o):"".concat(e.config.apiScheme,"://").concat(o)}function Il(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rl{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(cl(this.auth,"network-request-failed"))),xl.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=cl(e,t,r);return o.customData._tokenResponse=n,o}function Ol(e){return void 0!==e&&void 0!==e.enterprise}class Nl{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Il(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ml(e,t){return Al(e,"GET","/v2/recaptchaConfig",kl(e,t))}async function Dl(e,t){return Al(e,"POST","/v1/accounts:lookup",t)}function jl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(jB){}}function Ll(e){return 1e3*Number(e)}function Fl(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return al("JWT malformed, contained fewer than 3 sections"),null;try{const e=ns(n);return e?JSON.parse(e):(al("Failed to decode base64 JWT payload"),null)}catch(jB){return al("Caught error parsing JWT payload as JSON",null===jB||void 0===jB?void 0:jB.toString()),null}}function zl(e){const t=Fl(e);return pl(t,"internal-error"),pl("undefined"!==typeof t.exp,"internal-error"),pl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ul(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(jB){throw jB instanceof fs&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(jB)&&e.auth.currentUser===e&&await e.auth.signOut(),jB}}class Bl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(jB){return void((null===jB||void 0===jB?void 0:jB.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Vl{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wl(e){var t;const n=e.auth,r=await e.getIdToken(),o=await Ul(e,Dl(n,{idToken:r}));pl(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Hl(i.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vl(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function Hl(e){return e.map((e=>{var{providerId:t}=e,n=nl(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pl(e.idToken,"internal-error"),pl("undefined"!==typeof e.idToken,"internal-error"),pl("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):zl(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pl(0!==e.length,"internal-error");const t=zl(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(pl(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await El(e,{},(async()=>{const n=bs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=Cl(e,r,"/v1/token","key=".concat(o)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",_l.fetch()(i,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new ql;return n&&(pl("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(pl("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(pl("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return fl("not implemented")}}function Kl(e,t){pl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Gl{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=nl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vl(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return pl(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=As(e),r=await n.getIdToken(t),o=Fl(r);pl(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:jl(Ll(o.auth_time)),issuedAtTime:jl(Ll(o.iat)),expirationTime:jl(Ll(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=As(e);await Wl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(pl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Wl(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(za(this.auth.app))return Promise.reject(dl(this.auth));const e=await this.getIdToken();return await Ul(this,async function(e,t){return Al(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;pl(y&&S,e,"internal-error");const x=ql.fromJSON(this.name,S);pl("string"===typeof y,e,"internal-error"),Kl(u,e.name),Kl(d,e.name),pl("boolean"===typeof b,e,"internal-error"),pl("boolean"===typeof w,e,"internal-error"),Kl(h,e.name),Kl(p,e.name),Kl(f,e.name),Kl(m,e.name),Kl(g,e.name),Kl(v,e.name);const k=new Gl({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:x,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ql;r.updateFromServerResponse(t);const o=new Gl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Wl(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];pl(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Hl(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length),s=new ql;s.updateFromIdToken(n);const a=new Gl({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Vl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length)};return Object.assign(a,l),a}}const $l=new Map;function Jl(e){ml(e instanceof Function,"Expected a class definition");let t=$l.get(e);return t?(ml(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$l.set(e,t),t)}class Yl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yl.type="NONE";const Xl=Yl;function Ql(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Zl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=Ql(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ql("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Zl(Jl(Xl),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=r[0]||Jl(Xl);const i=Ql(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){const n=Gl._fromJSON(e,t);c!==o&&(s=n),o=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==o)try{await e._remove(i)}catch(l){}}))),new Zl(o,e,n)):new Zl(o,e,n)}}function ec(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sc(t))return"Blackberry";if(ac(t))return"Webos";if(nc(t))return"Safari";if((t.includes("chrome/")||rc(t))&&!t.includes("edge/"))return"Chrome";if(ic(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function tc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/firefox\//i.test(e)}function nc(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/crios\//i.test(e)}function oc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/iemobile/i.test(e)}function ic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/android/i.test(e)}function sc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/blackberry/i.test(e)}function ac(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/webos/i.test(e)}function lc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cc(){return function(){const e=cs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function uc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return lc(e)||ic(e)||ac(e)||sc(e)||/windows phone/i.test(e)||oc(e)}function dc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ec(cs());break;case"Worker":t="".concat(ec(cs()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Va,"/").concat(r)}class hc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(jB){r(jB)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(jB){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===jB||void 0===jB?void 0:jB.message})}}}class pc{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class fc{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gc(this),this.idTokenSubscription=new gc(this),this.beforeStateQueue=new hc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=il,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jl(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Zl.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(jB){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Dl(this,{idToken:e}),n=await Gl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(za(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==i||!(null===s||void 0===s?void 0:s.user)||(r=s.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(jB){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(jB)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(jB){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wl(e)}catch(jB){if((null===jB||void 0===jB?void 0:jB.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(za(this.app))return Promise.reject(dl(this));const t=e?As(e):null;return t&&pl(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&pl(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return za(this.app)?Promise.reject(dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return za(this.app)?Promise.reject(dl(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Jl(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Al(e,"GET","/v2/passwordPolicy",kl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new pc(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ms("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Al(e,"POST","/v2/accounts:revokeToken",kl(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jl(e)||this._popupRedirectResolver;pl(t,this,"argument-error"),this.redirectPersistenceManager=await Zl.create(this,[Jl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pl(s,this,"internal-error"),s.then((()=>{i||o(this.currentUser)})),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(sl.logLevel<=Ps.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];sl.warn("Auth (".concat(Va,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function mc(e){return As(e)}class gc{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ss(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return pl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yc(e){return vc.loadJS(e)}function bc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class wc{constructor(e){this.type="recaptcha-enterprise",this.auth=mc(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;Ol(o)?o.enterprise.ready((()=>{o.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ml(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Nl(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((o=>{if(!t&&Ol(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=vc.recaptchaEnterpriseScript;0!==t.length&&(t+=o),yc(t).then((()=>{n(o,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function _c(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new wc(e);let i;try{i=await o.verify(n)}catch(a){i=await o.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Sc(e,t,n,r){var o;if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await _c(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch((async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await _c(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)}))}function xc(e,t,n){const r=mc(e);pl(r._canInitEmulator,r,"emulator-config-failed"),pl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null===n||void 0===n?void 0:n.disableWarnings),i=kc(t),{host:s,port:a}=function(e){const t=kc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Ac(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ac(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(i,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function kc(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ac(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ec{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fl("not implemented")}_getIdTokenResponse(e){return fl("not implemented")}_linkToIdToken(e,t){return fl("not implemented")}_getReauthenticationResolver(e){return fl("not implemented")}}async function Tc(e,t){return Al(e,"POST","/v1/accounts:signUp",t)}async function Cc(e,t){return Tl(e,"POST","/v1/accounts:signInWithPassword",kl(e,t))}class Ic extends Ec{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ic(e,t,"password")}static _fromEmailAndCode(e,t){return new Ic(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Sc(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Cc);case"emailLink":return async function(e,t){return Tl(e,"POST","/v1/accounts:signInWithEmailLink",kl(e,t))}(e,{email:this._email,oobCode:this._password});default:ll(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Sc(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tc);case"emailLink":return async function(e,t){return Tl(e,"POST","/v1/accounts:signInWithEmailLink",kl(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ll(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Rc(e,t){return Tl(e,"POST","/v1/accounts:signInWithIdp",kl(e,t))}class Pc extends Ec{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ll("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=nl(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new Pc(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return Rc(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Rc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rc(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bs(t)}return e}}const Oc={USER_NOT_FOUND:"user-not-found"};class Nc extends Ec{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Nc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Nc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Tl(e,"POST","/v1/accounts:signInWithPhoneNumber",kl(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Tl(e,"POST","/v1/accounts:signInWithPhoneNumber",kl(e,t));if(n.temporaryProof)throw Pl(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Tl(e,"POST","/v1/accounts:signInWithPhoneNumber",kl(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Oc)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Nc({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Mc{constructor(e){var t,n,r,o,i,s;const a=ws(_s(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);pl(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(o=a.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=a.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=ws(_s(e)).link,n=t?ws(_s(t)).deep_link_id:null,r=ws(_s(e)).deep_link_id;return(r?ws(_s(r)).link:null)||r||n||t||e}(e);try{return new Mc(t)}catch(n){return null}}}class Dc{constructor(){this.providerId=Dc.PROVIDER_ID}static credential(e,t){return Ic._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Mc.parseLink(t);return pl(n,"argument-error"),Ic._fromEmailAndCode(e,n.code,n.tenantId)}}Dc.PROVIDER_ID="password",Dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lc extends jc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fc extends Lc{constructor(){super("facebook.com")}static credential(e){return Pc._fromParams({providerId:Fc.PROVIDER_ID,signInMethod:Fc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fc.credentialFromTaggedObject(e)}static credentialFromError(e){return Fc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Fc.credential(t.oauthAccessToken)}catch(n){return null}}}Fc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Fc.PROVIDER_ID="facebook.com";class zc extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pc._fromParams({providerId:zc.PROVIDER_ID,signInMethod:zc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zc.credentialFromTaggedObject(e)}static credentialFromError(e){return zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zc.credential(n,r)}catch(o){return null}}}zc.GOOGLE_SIGN_IN_METHOD="google.com",zc.PROVIDER_ID="google.com";class Uc extends Lc{constructor(){super("github.com")}static credential(e){return Pc._fromParams({providerId:Uc.PROVIDER_ID,signInMethod:Uc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uc.credentialFromTaggedObject(e)}static credentialFromError(e){return Uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Uc.credential(t.oauthAccessToken)}catch(n){return null}}}Uc.GITHUB_SIGN_IN_METHOD="github.com",Uc.PROVIDER_ID="github.com";class Bc extends Lc{constructor(){super("twitter.com")}static credential(e,t){return Pc._fromParams({providerId:Bc.PROVIDER_ID,signInMethod:Bc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bc.credentialFromTaggedObject(e)}static credentialFromError(e){return Bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Bc.credential(n,r)}catch(o){return null}}}async function Vc(e,t){return Tl(e,"POST","/v1/accounts:signUp",kl(e,t))}Bc.TWITTER_SIGN_IN_METHOD="twitter.com",Bc.PROVIDER_ID="twitter.com";class Wc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await Gl._fromIdTokenResponse(e,n,r),i=Hc(n);return new Wc({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Hc(n);return new Wc({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Hc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class qc extends fs{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new qc(e,t,n,r)}}function Kc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw qc._fromErrorAndOperation(e,n,t,r);throw n}))}async function Gc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ul(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Wc._forOperation(e,"link",r)}async function $c(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(za(r.app))return Promise.reject(dl(r));const o="reauthenticate";try{const i=await Ul(e,Kc(r,o,t,e),n);pl(i.idToken,r,"internal-error");const s=Fl(i.idToken);pl(s,r,"internal-error");const{sub:a}=s;return pl(e.uid===a,r,"user-mismatch"),Wc._forOperation(e,o,i)}catch(jB){throw(null===jB||void 0===jB?void 0:jB.code)==="auth/".concat("user-not-found")&&ll(r,"user-mismatch"),jB}}async function Jc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(za(e.app))return Promise.reject(dl(e));const r="signIn",o=await Kc(e,r,t),i=await Wc._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function Yc(e,t){return Jc(mc(e),t)}async function Xc(e){const t=mc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Qc(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=As(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Ul(o,async function(e,t){return Al(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const a=o.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=o.displayName,a.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}new WeakMap;const Zc="__sak";class eu{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tu extends eu{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);cc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tu.type="LOCAL";const nu=tu;class ru extends eu{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ru.type="SESSION";const ou=ru;class iu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new iu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map((async e=>e(t.origin,o))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function su(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}iu.receivers=[];class au{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise(((s,a)=>{const l=su("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function lu(){return window}function cu(){return"undefined"!==typeof lu().WorkerGlobalScope&&"function"===typeof lu().importScripts}const uu="firebaseLocalStorageDb",du="firebaseLocalStorage",hu="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function fu(e,t){return e.transaction([du],t?"readwrite":"readonly").objectStore(du)}function mu(){const e=indexedDB.open(uu,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(du,{keyPath:hu})}catch(jB){n(jB)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(du)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(uu);return new pu(e).toPromise()}(),t(await mu()))}))}))}async function gu(e,t,n){const r=fu(e,!0).put({[hu]:t,value:n});return new pu(r).toPromise()}function vu(e,t){const n=fu(e,!0).delete(t);return new pu(n).toPromise()}class yu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await mu()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(jB){if(t++>3)throw jB;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iu._getInstance(cu()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new au(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mu();return await gu(e,Zc,"1"),await vu(e,Zc),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>gu(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=fu(e,!1).get(t),r=await new pu(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>vu(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=fu(e,!1).getAll();return new pu(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}yu.type="LOCAL";const bu=yu;bc("rcb"),new bl(3e4,6e4);const wu="recaptcha";async function _u(e,t,n){var r;const o=await n.verify();try{let i;if(pl("string"===typeof o,e,"argument-error"),pl(n.type===wu,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){pl("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Al(e,"POST","/v2/accounts/mfaEnrollment:start",kl(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:o}});return n.phoneSessionInfo.sessionInfo}{pl("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;pl(n,e,"missing-multi-factor-info");const s=await function(e,t){return Al(e,"POST","/v2/accounts/mfaSignIn:start",kl(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:o}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Al(e,"POST","/v1/accounts:sendVerificationCode",kl(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:o});return t}}finally{n._reset()}}class Su{constructor(e){this.providerId=Su.PROVIDER_ID,this.auth=mc(e)}verifyPhoneNumber(e,t){return _u(this.auth,e,As(t))}static credential(e,t){return Nc._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Su.credentialFromTaggedObject(t)}static credentialFromError(e){return Su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Nc._fromTokenResponse(n,r):null}}function xu(e,t){return t?Jl(t):(pl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Su.PROVIDER_ID="phone",Su.PHONE_SIGN_IN_METHOD="phone";class ku extends Ec{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Au(e){return Jc(e.auth,new ku(e),e.bypassAuthState)}function Eu(e){const{auth:t,user:n}=e;return pl(n,t,"internal-error"),$c(n,new ku(e),e.bypassAuthState)}async function Tu(e){const{auth:t,user:n}=e;return pl(n,t,"internal-error"),Gc(n,new ku(e),e.bypassAuthState)}class Cu{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(jB){this.reject(jB)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(jB){this.reject(jB)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Au;case"linkViaPopup":case"linkViaRedirect":return Tu;case"reauthViaPopup":case"reauthViaRedirect":return Eu;default:ll(this.auth,"internal-error")}}resolve(e){ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Iu=new bl(2e3,1e4);class Ru extends Cu{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Ru.currentPopupAction&&Ru.currentPopupAction.cancel(),Ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pl(e,this.auth,"internal-error"),e}async onExecution(){ml(1===this.filter.length,"Popup operations only handle one event");const e=su();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(cl(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(cl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(cl(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Iu.get())};e()}}Ru.currentPopupAction=null;const Pu=new Map;class Ou extends Cu{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Du(t),r=Mu(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(jB){e=()=>Promise.reject(jB)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Nu(e,t){Pu.set(e._key(),t)}function Mu(e){return Jl(e._redirectPersistence)}function Du(e){return Ql("pendingRedirect",e.config.apiKey,e.name)}async function ju(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(za(e.app))return Promise.reject(dl(e));const r=mc(e),o=xu(r,t),i=new Ou(r,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Lu{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zu(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(cl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fu(e))}saveEventToCache(e){this.cachedEventUids.add(Fu(e)),this.lastProcessedEventTime=Date.now()}}function Fu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function zu(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Uu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bu=/^https?/;async function Vu(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Al(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Wu(r))return}catch(n){}ll(e,"unauthorized-domain")}function Wu(e){const t=gl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Bu.test(n))return!1;if(Uu.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Hu=new bl(3e4,6e4);function qu(){const e=lu().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ku(e){return new Promise(((t,n)=>{var r,o,i;function s(){qu(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qu(),n(cl(e,"network-request-failed"))},timeout:Hu.get()})}if(null===(o=null===(r=lu().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=lu().gapi)||void 0===i?void 0:i.load)){const t=bc("iframefcb");return lu()[t]=()=>{gapi.load?s():n(cl(e,"network-request-failed"))},yc("".concat(vc.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Gu=null,e}))}let Gu=null;const $u=new bl(5e3,15e3),Ju={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xu(e){const t=e.config;pl(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?wl(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Va},o=Yu.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(bs(r).slice(1))}async function Qu(e){const t=await function(e){return Gu=Gu||Ku(e),Gu}(e),n=lu().gapi;return pl(n,e,"internal-error"),t.open({where:document.body,url:Xu(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ju,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=cl(e,"network-request-failed"),i=lu().setTimeout((()=>{r(o)}),$u.get());function s(){lu().clearTimeout(i),n(t)}t.ping(s).then(s,(()=>{r(o)}))}))))}const Zu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ed{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(jB){}}}function td(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Zu),{width:r.toString(),height:o.toString(),top:i,left:s}),c=cs().toLowerCase();n&&(a=rc(c)?"_blank":n),tc(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return lc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ed(null);const d=window.open(t||"",a,u);pl(d,e,"popup-blocked");try{d.focus()}catch(jB){}return new ed(d)}const nd="__/auth/handler",rd="emulator/auth/handler",od=encodeURIComponent("fac");async function id(e,t,n,r,o,i){pl(e.config.authDomain,e,"auth-domain-config-required"),pl(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Va,eventId:o};if(t instanceof jc){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof Lc){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(od,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(nd);return wl(t,rd)}(e),"?").concat(bs(a).slice(1)).concat(c)}const sd="webStorageSupport";const ad=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ou,this._completeRedirectFn=ju,this._overrideRedirectResult=Nu}async _openPopup(e,t,n,r){var o;ml(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return td(e,await id(e,t,n,gl(),r),su())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){lu().location.href=e}(await id(e,t,n,gl(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ml(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Qu(e),n=new Lu(e);return t.register("authEvent",(t=>{pl(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sd,{type:sd},(n=>{var r;const o=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[sd];void 0!==o&&t(!!o),ll(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vu(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uc()||nc()||lc()}};var ld="@firebase/auth",cd="1.7.9";class ud{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const dd=as("authIdTokenMaxAge")||300;let hd=null;var pd;vc={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=cl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},pd="Browser",La(new Es("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;pl(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:pd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dc(pd)},c=new fc(r,o,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),La(new Es("auth-internal",(e=>(e=>new ud(e))(mc(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),qa(ld,cd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(pd)),qa(ld,cd,"esm2017");var fd,md,gd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},vd={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],s=t+(i^n&(o^i))+r[0]+3614090360&4294967295;s=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((o=i+((s=o+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function i(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,o=0;e>=n;o++)t[o]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],o=0;o<t;o++)n[o]=~e.g[o];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var o=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(o=o.add(n),i=c),r=y(r,1),n=y(n,1)}return t=p(e,o.j(t)),new m(o,t)}for(o=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),o=o.add(i),e=p(e,c)}return new m(o,e)}function v(e){for(var t=e.g.length+1,n=[],o=0;o<t;o++)n[o]=e.i(o)<<1|e.i(o-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var o=e.g.length-n,i=[],s=0;s<o;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var o=g(n,t).g,i=((0<(n=p(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0,i=0;i<=t;i++){var s=o+(65535&this.i(i))+(65535&e.i(i)),a=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);o=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var i=0;i<e.g.length;i++){var l=this.i(o)>>>16,p=65535&this.i(o),m=e.i(i)>>>16,g=65535&e.i(i);n[2*o+2*i]+=p*g,f(n,2*o+2*i),n[2*o+2*i+1]+=l*g,f(n,2*o+2*i+1),n[2*o+2*i+1]+=p*m,f(n,2*o+2*i+1),n[2*o+2*i+2]+=l*m,f(n,2*o+2*i+2)}for(o=0;o<t;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=t;o<2*t;o++)n[o]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)&e.i(o);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)|e.i(o);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)^e.i(o);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,md=vd.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),o=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),o=o.j(l).add(s(c))):o=(o=o.j(r)).add(s(c))}return o},fd=vd.Integer=r}).apply("undefined"!==typeof gd?gd:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var yd,bd,wd,_d,Sd,xd,kd,Ad,Ed="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Td={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ed&&Ed];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e,t){return t}))}}));var r=r||{},o=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){o.setTimeout((()=>{throw e}),0)}function k(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var A=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new E),(e=>e.reset()));class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=A.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=o.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){x(n)}var t=A;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function O(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,N);var j={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function W(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}B.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=W(e,t,r,o);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new z(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function K(e,t,n,r,o){if(r&&r.once)return $(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,o);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!1,r,o)}function G(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=s(o)?!!o.capture:!!o,l=Z(e);if(l||(e[H]=l=new B(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Q;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)$(e,t[i],n,r,o);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!0,r,o)}function J(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)J(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=W(i=e.g[t],n,r,o))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=W(t,n,r,o)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function Q(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var o=t;_(t=new N(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];o=oe(s,r,!0,t)&&o}if(o=oe(s=t.g=e,r,!0,t)&&o,o=oe(s,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=oe(s=t.g=n[i],r,!1,t)&&o}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&V(e.i,s),o=!1!==a.call(l,r)&&o}}return o&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function se(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,O),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}d(le,O);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=o.JSON.stringify,he=o.JSON.parse,pe=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){N.call(this,"d")}function be(){N.call(this,"c")}d(ye,N),d(be,N);var we={},_e=null;function Se(){return _e=_e||new ne}function xe(e){N.call(this,we.La,e)}function ke(e){const t=Se();re(t,new xe(t))}function Ae(e,t){N.call(this,we.STAT_EVENT,e),this.stat=t}function Ee(e){const t=Se();re(t,new Ae(t,e))}function Te(e,t){N.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(xe,N),we.STAT_EVENT="statevent",d(Ae,N),we.Ma="timingevent",d(Te,N),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Pe,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}d(Me,fe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Pe=new Me;var Le={},Fe={};function ze(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),We(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),At(n.i,"t",r),e.C=0,n=e.j.J,e.h=new je,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(ce[0]=o.toString()),o=ce);for(var i=0;i<o.length;i++){var s=K(n,o[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,o,i){e.info((function(){if(e.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function qe(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function $e(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}rn(n),Ee(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Qe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!f(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=c[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(qe(a),We(a)),r.g=s}else nn(r);0<n.i.length&&Qt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Jt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Kt(this.g);e="";var i=r.length,s=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Ge(this),Ke(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$e(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Fe){4==h&&(this.s=4,Ee(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ee(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),$e(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(d),d.M=!0,Ee(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Re(this.i,this.l,a,null),$e(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=S(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ge(this),Ke(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ee(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function st(e){return new it(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),At(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){St(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=Et(e,t),e.g.has(t)}function At(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function Ct(){this.g=new pe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let o=e;s(e)&&(o=de(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(jB){throw t.push(r+"type="+encodeURIComponent("_badmap")),jB}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Nt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Mt(e)}function Mt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){St(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var o=i;""!==s[r]&&(o+="="+encodeURIComponent(String(s[r]))),e.push(o)}}return this.i=e.join("&")},d(Rt,fe),Rt.prototype.g=function(){return new Pt(this.l,this.j)},Rt.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Mt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mt(this)),this.g&&(this.readyState=3,Mt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nt(this):Mt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Nt(this))},e.Qa=function(e){this.g&&(this.response=e,Nt(this))},e.ga=function(){this.g&&Nt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Lt,ne);var Ft=/^https?$/i,zt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Wt(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(ot)[1]||null;!s&&o.self&&o.self.location&&(s=o.self.location.protocol.slice(0,-1)),i=!Ft.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Bt(e)}}finally{Wt(e)}}}function Wt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(jB){}}}function Ht(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $t(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jt(e){if(Xt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}dn(e)}function Yt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(o.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&o.clearTimeout(e.s),e.s=null)}function Qt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||R(),C||(T(),C=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&jt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=o[a].g;const l=o[a].map;if(n-=t,0>n)t=Math.max(0,o[a].g-100),s=!1;else try{It(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||R(),C||(T(),C=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&jt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;re(r=Se(),new Te(r,n)),Qt(e)}else nn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(Qe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(o.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);r&&at(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new Rt({eb:n})):new Lt(e.pa)).Ha(e.J),t}function fn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new $t(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ut(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Ut(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Wt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=$t.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Qt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new De(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),_(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,o,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Dt(i)))+"&"+t:this.m&&jt(n,this.m,i)),et(this.h,o),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),o.T=!0,ze(o,n,null)):ze(o,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&Qt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,fn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ad=Td.createWebChannelTransport=function(){return new mn},kd=Td.getStatEventTarget=function(){return Se()},xd=Td.Event=we,Sd=Td.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,_d=Td.ErrorCode=Oe,Ne.COMPLETE="complete",wd=Td.EventType=Ne,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,bd=Td.WebChannel=ge,Td.FetchXmlHttpFactory=Rt,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,yd=Td.XhrIo=Lt}).apply("undefined"!==typeof Ed?Ed:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Cd="@firebase/firestore";class Id{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Id.UNAUTHENTICATED=new Id(null),Id.GOOGLE_CREDENTIALS=new Id("google-credentials-uid"),Id.FIRST_PARTY=new Id("first-party-uid"),Id.MOCK_USER=new Id("mock-user");let Rd="10.14.0";const Pd=new Ls("@firebase/firestore");function Od(){return Pd.logLevel}function Nd(e){if(Pd.logLevel<=Ps.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(jd);Pd.debug("Firestore (".concat(Rd,"): ").concat(e),...o)}}function Md(e){if(Pd.logLevel<=Ps.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(jd);Pd.error("Firestore (".concat(Rd,"): ").concat(e),...o)}}function Dd(e){if(Pd.logLevel<=Ps.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(jd);Pd.warn("Firestore (".concat(Rd,"): ").concat(e),...o)}}function jd(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Rd,") INTERNAL ASSERTION FAILED: ")+e;throw Md(t),new Error(t)}function Fd(e,t){e||Ld()}function zd(e,t){return e}const Ud={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bd extends fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Vd{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Wd{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Hd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Id.UNAUTHENTICATED)))}shutdown(){}}class qd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Kd{constructor(e){this.t=e,this.currentUser=Id.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fd(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new Vd;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vd,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=o;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Nd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Nd("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vd)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Nd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Fd("string"==typeof t.accessToken),new Wd(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fd(null===e||"string"==typeof e),new Id(e)}}class Gd{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Id.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $d{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Gd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Id.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yd{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fd(void 0===this.o);const n=e=>{null!=e.error&&Nd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Nd("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Nd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Nd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Fd("string"==typeof e.token),this.R=e.token,new Jd(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Qd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Xd(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%62))}return n}}function Zd(e,t){return e<t?-1:e>t?1:0}function eh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class th{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bd(Ud.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bd(Ud.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bd(Ud.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bd(Ud.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return th.fromMillis(Date.now())}static fromDate(e){return th.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new th(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zd(this.nanoseconds,e.nanoseconds):Zd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nh(e)}static min(){return new nh(new th(0,0))}static max(){return new nh(new th(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rh{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ld(),void 0===n?n=e.length-t:n>e.length-t&&Ld(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===rh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),o=t.get(r);if(n<o)return-1;if(n>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oh extends rh{construct(e,t,n){return new oh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new Bd(Ud.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push(...o.split("/").filter((e=>e.length>0)))}return new oh(e)}static emptyPath(){return new oh([])}}const ih=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sh extends rh{construct(e,t,n){return new sh(e,t,n)}static isValidIdentifier(e){return ih.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Bd(Ud.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Bd(Ud.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Bd(Ud.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new Bd(Ud.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sh(t)}static emptyPath(){return new sh([])}}class ah{constructor(e){this.path=e}static fromPath(e){return new ah(oh.fromString(e))}static fromName(e){return new ah(oh.fromString(e).popFirst(5))}static empty(){return new ah(oh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ah(new oh(e.slice()))}}class lh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}lh.UNKNOWN_ID=-1;function ch(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=nh.fromTimestamp(1e9===r?new th(n+1,0):new th(n,r));return new dh(o,ah.empty(),t)}function uh(e){return new dh(e.readTime,e.key,-1)}class dh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new dh(nh.min(),ah.empty(),-1)}static max(){return new dh(nh.max(),ah.empty(),-1)}}function hh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ah.comparator(e.documentKey,t.documentKey),0!==n?n:Zd(e.largestBatchId,t.largestBatchId))}const ph="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mh(e){if(e.code!==Ud.FAILED_PRECONDITION||e.message!==ph)throw e;Nd("LocalStore","Unexpectedly lost primary lease")}class gh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ld(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof gh?t:gh.resolve(t)}catch(e){return gh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):gh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):gh.reject(t)}static resolve(e){return new gh(((t,n)=>{t(e)}))}static reject(e){return new gh(((t,n)=>{n(e)}))}static waitFor(e){return new gh(((t,n)=>{let r=0,o=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++o,i&&o===r&&t()}),(e=>n(e)))})),i=!0,o===r&&t()}))}static or(e){let t=gh.resolve(!1);for(const n of e)t=t.next((e=>e?gh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new gh(((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next((e=>{i[l]=e,++s,s===o&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new gh(((n,r)=>{const o=()=>{!0===e()?t().next((()=>{o()}),r):n()};o()}))}}function vh(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yh(e){return"IndexedDbTransactionError"===e.name}class bh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function wh(e){return null==e}function _h(e){return 0===e&&1/e==-1/0}function Sh(e){return"number"==typeof e&&Number.isInteger(e)&&!_h(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}bh.oe=-1;const xh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ah=kh,Eh=[...Ah,"indexConfiguration","indexState","indexEntries"];function Th(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ch(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ih(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Rh{constructor(e,t){this.comparator=e,this.root=t||Oh.EMPTY}insert(e,t){return new Rh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oh.BLACK,null,null))}remove(e){return new Rh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oh{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Oh.RED,this.left=null!=r?r:Oh.EMPTY,this.right=null!=o?o:Oh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new Oh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Oh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Oh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ld();if(this.right.isRed())throw Ld();const e=this.left.check();if(e!==this.right.check())throw Ld();return e+(this.isRed()?0:1)}}Oh.EMPTY=null,Oh.RED=!0,Oh.BLACK=!1,Oh.EMPTY=new class{constructor(){this.size=0}get key(){throw Ld()}get value(){throw Ld()}get color(){throw Ld()}get left(){throw Ld()}get right(){throw Ld()}copy(e,t,n,r,o){return this}insert(e,t,n){return new Oh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nh{constructor(e){this.comparator=e,this.data=new Rh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mh(this.data.getIterator())}getIteratorFrom(e){return new Mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Nh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nh(this.comparator);return t.data=e,t}}class Mh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dh{constructor(e){this.fields=e,e.sort(sh.comparator)}static empty(){return new Dh([])}unionWith(e){let t=new Nh(sh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Dh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return eh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class jh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new jh("Invalid base64 string: "+e):e}}(e);return new Lh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Lh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lh.EMPTY_BYTE_STRING=new Lh("");const Fh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zh(e){if(Fd(!!e),"string"==typeof e){let t=0;const n=Fh.exec(e);if(Fd(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Uh(e.seconds),nanos:Uh(e.nanos)}}function Uh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bh(e){return"string"==typeof e?Lh.fromBase64String(e):Lh.fromUint8Array(e)}function Vh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wh(e){const t=e.mapValue.fields.__previous_value__;return Vh(t)?Wh(t):t}function Hh(e){const t=zh(e.mapValue.fields.__local_write_time__.timestampValue);return new th(t.seconds,t.nanos)}class qh{constructor(e,t,n,r,o,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Kh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kh&&e.projectId===this.projectId&&e.database===this.database}}const Gh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $h(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vh(e)?4:cp(e)?9007199254740991:ap(e)?10:11:Ld()}function Jh(e,t){if(e===t)return!0;const n=$h(e);if(n!==$h(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hh(e).isEqual(Hh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=zh(e.timestampValue),r=zh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bh(e.bytesValue).isEqual(Bh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uh(e.geoPointValue.latitude)===Uh(t.geoPointValue.latitude)&&Uh(e.geoPointValue.longitude)===Uh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uh(e.integerValue)===Uh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Uh(e.doubleValue),r=Uh(t.doubleValue);return n===r?_h(n)===_h(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return eh(e.arrayValue.values||[],t.arrayValue.values||[],Jh);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Th(n)!==Th(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!Jh(n[o],r[o])))return!1;return!0}(e,t);default:return Ld()}}function Yh(e,t){return void 0!==(e.values||[]).find((e=>Jh(e,t)))}function Xh(e,t){if(e===t)return 0;const n=$h(e),r=$h(t);if(n!==r)return Zd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Uh(e.integerValue||e.doubleValue),r=Uh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qh(e.timestampValue,t.timestampValue);case 4:return Qh(Hh(e),Hh(t));case 5:return Zd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Bh(e),r=Bh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=Zd(n[o],r[o]);if(0!==e)return e}return Zd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zd(Uh(e.latitude),Uh(t.latitude));return 0!==n?n:Zd(Uh(e.longitude),Uh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Zh(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,i;const s=e.fields||{},a=t.fields||{},l=null===(n=s.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=Zd((null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Zh(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Gh.mapValue&&t===Gh.mapValue)return 0;if(e===Gh.mapValue)return 1;if(t===Gh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=Zd(r[s],i[s]);if(0!==e)return e;const t=Xh(n[r[s]],o[i[s]]);if(0!==t)return t}return Zd(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Ld()}}function Qh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zd(e,t);const n=zh(e),r=zh(t),o=Zd(n.seconds,r.seconds);return 0!==o?o:Zd(n.nanos,r.nanos)}function Zh(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=Xh(n[o],r[o]);if(e)return e}return Zd(n.length,r.length)}function ep(e){return tp(e)}function tp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=zh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Bh(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ah.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=tp(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+="".concat(o,":").concat(tp(e.fields[o]));return n+"}"}(e.mapValue):Ld()}function np(e){return!!e&&"integerValue"in e}function rp(e){return!!e&&"arrayValue"in e}function op(e){return!!e&&"nullValue"in e}function ip(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sp(e){return!!e&&"mapValue"in e}function ap(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ch(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=lp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=lp(e.arrayValue.values[n]);return t}return Object.assign({},e)}function cp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class up{constructor(e){this.value=e}static empty(){return new up({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!sp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lp(t)}setAll(e){let t=sh.emptyPath(),n={},r=[];e.forEach(((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=lp(e):r.push(o.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());sp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];sp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ch(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new up(lp(this.value))}}function dp(e){const t=[];return Ch(e.fields,((e,n)=>{const r=new sh([e]);if(sp(n)){const e=dp(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Dh(t)}class hp{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new hp(e,0,nh.min(),nh.min(),nh.min(),up.empty(),0)}static newFoundDocument(e,t,n,r){return new hp(e,1,t,nh.min(),n,r,0)}static newNoDocument(e,t){return new hp(e,2,t,nh.min(),nh.min(),up.empty(),0)}static newUnknownDocument(e,t){return new hp(e,3,t,nh.min(),nh.min(),up.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=up.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=up.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hp(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class pp{constructor(e,t){this.position=e,this.inclusive=t}}function fp(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?ah.comparator(ah.fromName(s.referenceValue),n.key):Xh(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function mp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Jh(e.position[n],t.position[n]))return!1;return!0}class gp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function vp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class yp{}class bp extends yp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Tp(e,t,n):"array-contains"===t?new Pp(e,n):"in"===t?new Op(e,n):"not-in"===t?new Np(e,n):"array-contains-any"===t?new Mp(e,n):new bp(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Cp(e,n):new Ip(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xh(t,this.value)):null!==t&&$h(this.value)===$h(t)&&this.matchesComparison(Xh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ld()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wp extends yp{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new wp(e,t)}matches(e){return _p(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _p(e){return"and"===e.op}function Sp(e){return xp(e)&&_p(e)}function xp(e){for(const t of e.filters)if(t instanceof wp)return!1;return!0}function kp(e){if(e instanceof bp)return e.field.canonicalString()+e.op.toString()+ep(e.value);if(Sp(e))return e.filters.map((e=>kp(e))).join(",");{const t=e.filters.map((e=>kp(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ap(e,t){return e instanceof bp?function(e,t){return t instanceof bp&&e.op===t.op&&e.field.isEqual(t.field)&&Jh(e.value,t.value)}(e,t):e instanceof wp?function(e,t){return t instanceof wp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ap(n,t.filters[r])),!0)}(e,t):void Ld()}function Ep(e){return e instanceof bp?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ep(e.value))}(e):e instanceof wp?function(e){return e.op.toString()+" {"+e.getFilters().map(Ep).join(" ,")+"}"}(e):"Filter"}class Tp extends bp{constructor(e,t,n){super(e,t,n),this.key=ah.fromName(n.referenceValue)}matches(e){const t=ah.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cp extends bp{constructor(e,t){super(e,"in",t),this.keys=Rp("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ip extends bp{constructor(e,t){super(e,"not-in",t),this.keys=Rp("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Rp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ah.fromName(e.referenceValue)))}class Pp extends bp{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rp(t)&&Yh(t.arrayValue,this.value)}}class Op extends bp{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yh(this.value.arrayValue,t)}}class Np extends bp{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yh(this.value.arrayValue,t)}}class Mp extends bp{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Yh(this.value.arrayValue,e)))}}class Dp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.ue=null}}function jp(e){return new Dp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Lp(e){const t=zd(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>kp(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),wh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ep(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ep(e))).join(",")),t.ue=e}return t.ue}function Fp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!vp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ap(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!mp(e.startAt,t.startAt)&&mp(e.endAt,t.endAt)}function zp(e){return ah.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Up{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Bp(e,t,n,r,o,i,s,a){return new Up(e,t,n,r,o,i,s,a)}function Vp(e){return new Up(e)}function Wp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hp(e){return null!==e.collectionGroup}function qp(e){const t=zd(e);if(null===t.ce){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Nh(sh.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new gp(r,n))})),e.has(sh.keyField().canonicalString())||t.ce.push(new gp(sh.keyField(),n))}return t.ce}function Kp(e){const t=zd(e);return t.le||(t.le=Gp(t,qp(e))),t.le}function Gp(e,t){if("F"===e.limitType)return jp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new gp(e.field,t)}));const n=e.endAt?new pp(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pp(e.startAt.position,e.startAt.inclusive):null;return jp(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $p(e,t,n){return new Up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jp(e,t){return Fp(Kp(e),Kp(t))&&e.limitType===t.limitType}function Yp(e){return"".concat(Lp(Kp(e)),"|lt:").concat(e.limitType)}function Xp(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ep(e))).join(", "),"]")),wh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ep(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ep(e))).join(",")),"Target(".concat(t,")")}(Kp(e)),"; limitType=").concat(e.limitType,")")}function Qp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ah.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of qp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=fp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qp(e),t))&&!(e.endAt&&!function(e,t,n){const r=fp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qp(e),t))}(e,t)}function Zp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ef(e){return(t,n)=>{let r=!1;for(const o of qp(e)){const e=tf(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function tf(e,t,n){const r=e.field.isKeyField()?ah.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?Xh(r,o):Ld()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ld()}}class nf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ch(this.inner,((t,n)=>{for(const[r,o]of n)e(r,o)}))}isEmpty(){return Ih(this.inner)}size(){return this.innerSize}}const rf=new Rh(ah.comparator);function of(){return rf}const sf=new Rh(ah.comparator);function af(){let e=sf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function lf(e){let t=sf;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function cf(){return df()}function uf(){return df()}function df(){return new nf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const hf=new Rh(ah.comparator),pf=new Nh(ah.comparator);function ff(){let e=pf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const mf=new Nh(Zd);function gf(){return mf}function vf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(t)?"-0":t}}function yf(e){return{integerValue:""+e}}function bf(e,t){return Sh(t)?yf(t):vf(e,t)}class wf{constructor(){this._=void 0}}function _f(e,t,n){return e instanceof kf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Vh(t)&&(t=Wh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Af?Ef(e,t):e instanceof Tf?Cf(e,t):function(e,t){const n=xf(e,t),r=Rf(n)+Rf(e.Pe);return np(n)&&np(e.Pe)?yf(r):vf(e.serializer,r)}(e,t)}function Sf(e,t,n){return e instanceof Af?Ef(e,t):e instanceof Tf?Cf(e,t):n}function xf(e,t){return e instanceof If?function(e){return np(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class kf extends wf{}class Af extends wf{constructor(e){super(),this.elements=e}}function Ef(e,t){const n=Pf(t);for(const r of e.elements)n.some((e=>Jh(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Tf extends wf{constructor(e){super(),this.elements=e}}function Cf(e,t){let n=Pf(t);for(const r of e.elements)n=n.filter((e=>!Jh(e,r)));return{arrayValue:{values:n}}}class If extends wf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Rf(e){return Uh(e.integerValue||e.doubleValue)}function Pf(e){return rp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Of{constructor(e,t){this.version=e,this.transformResults=t}}class Nf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nf}static exists(e){return new Nf(void 0,e)}static updateTime(e){return new Nf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Df{}function jf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Kf(e.key,Nf.none()):new Bf(e.key,e.data,Nf.none());{const n=e.data,r=up.empty();let o=new Nh(sh.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new Vf(e.key,r,new Dh(o.toArray()),Nf.none())}}function Lf(e,t,n){e instanceof Bf?function(e,t,n){const r=e.value.clone(),o=Hf(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vf?function(e,t,n){if(!Mf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Hf(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(Wf(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ff(e,t,n,r){return e instanceof Bf?function(e,t,n,r){if(!Mf(e.precondition,t))return n;const o=e.value.clone(),i=qf(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vf?function(e,t,n,r){if(!Mf(e.precondition,t))return n;const o=qf(e.fieldTransforms,r,t),i=t.data;return i.setAll(Wf(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Mf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=xf(r.transform,e||null);null!=o&&(null===n&&(n=up.empty()),n.set(r.field,o))}return n||null}function Uf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&eh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Af&&t instanceof Af||e instanceof Tf&&t instanceof Tf?eh(e.elements,t.elements,Jh):e instanceof If&&t instanceof If?Jh(e.Pe,t.Pe):e instanceof kf&&t instanceof kf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bf extends Df{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vf extends Df{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Wf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Hf(e,t,n){const r=new Map;Fd(e.length===n.length);for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,Sf(s,a,n[o]))}return r}function qf(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,_f(e,i,t))}return r}class Kf extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gf extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $f{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Lf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ff(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ff(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=uf();return this.mutations.forEach((r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=jf(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(nh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ff())}isEqual(e){return this.batchId===e.batchId&&eh(this.mutations,e.mutations,((e,t)=>Uf(e,t)))&&eh(this.baseMutations,e.baseMutations,((e,t)=>Uf(e,t)))}}class Jf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Fd(e.mutations.length===n.length);let r=hf;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new Jf(e,t,n,r)}}class Yf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Xf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qf,Zf;function em(e){switch(e){default:return Ld();case Ud.CANCELLED:case Ud.UNKNOWN:case Ud.DEADLINE_EXCEEDED:case Ud.RESOURCE_EXHAUSTED:case Ud.INTERNAL:case Ud.UNAVAILABLE:case Ud.UNAUTHENTICATED:return!1;case Ud.INVALID_ARGUMENT:case Ud.NOT_FOUND:case Ud.ALREADY_EXISTS:case Ud.PERMISSION_DENIED:case Ud.FAILED_PRECONDITION:case Ud.ABORTED:case Ud.OUT_OF_RANGE:case Ud.UNIMPLEMENTED:case Ud.DATA_LOSS:return!0}}function tm(e){if(void 0===e)return Md("GRPC error has no .code"),Ud.UNKNOWN;switch(e){case Qf.OK:return Ud.OK;case Qf.CANCELLED:return Ud.CANCELLED;case Qf.UNKNOWN:return Ud.UNKNOWN;case Qf.DEADLINE_EXCEEDED:return Ud.DEADLINE_EXCEEDED;case Qf.RESOURCE_EXHAUSTED:return Ud.RESOURCE_EXHAUSTED;case Qf.INTERNAL:return Ud.INTERNAL;case Qf.UNAVAILABLE:return Ud.UNAVAILABLE;case Qf.UNAUTHENTICATED:return Ud.UNAUTHENTICATED;case Qf.INVALID_ARGUMENT:return Ud.INVALID_ARGUMENT;case Qf.NOT_FOUND:return Ud.NOT_FOUND;case Qf.ALREADY_EXISTS:return Ud.ALREADY_EXISTS;case Qf.PERMISSION_DENIED:return Ud.PERMISSION_DENIED;case Qf.FAILED_PRECONDITION:return Ud.FAILED_PRECONDITION;case Qf.ABORTED:return Ud.ABORTED;case Qf.OUT_OF_RANGE:return Ud.OUT_OF_RANGE;case Qf.UNIMPLEMENTED:return Ud.UNIMPLEMENTED;case Qf.DATA_LOSS:return Ud.DATA_LOSS;default:return Ld()}}(Zf=Qf||(Qf={}))[Zf.OK=0]="OK",Zf[Zf.CANCELLED=1]="CANCELLED",Zf[Zf.UNKNOWN=2]="UNKNOWN",Zf[Zf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zf[Zf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zf[Zf.NOT_FOUND=5]="NOT_FOUND",Zf[Zf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zf[Zf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zf[Zf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zf[Zf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zf[Zf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zf[Zf.ABORTED=10]="ABORTED",Zf[Zf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zf[Zf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zf[Zf.INTERNAL=13]="INTERNAL",Zf[Zf.UNAVAILABLE=14]="UNAVAILABLE",Zf[Zf.DATA_LOSS=15]="DATA_LOSS";let nm=null;function rm(){return new TextEncoder}const om=new fd([4294967295,4294967295],0);function im(e){const t=rm().encode(e),n=new md;return n.update(t),new Uint8Array(n.digest())}function sm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new fd([n,r],0),new fd([o,i],0)]}class am{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new lm("Invalid padding: ".concat(t));if(n<0)throw new lm("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new lm("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new lm("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=fd.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(fd.fromNumber(n)));return 1===r.compare(om)&&(r=new fd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=im(e),[n,r]=sm(t);for(let o=0;o<this.hashCount;o++){const e=this.Ee(n,r,o);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new am(o,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.Ie)return;const t=im(e),[n,r]=sm(t);for(let o=0;o<this.hashCount;o++){const e=this.Ee(n,r,o);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class lm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cm{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,um.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cm(nh.min(),r,new Rh(Zd),of(),ff())}}class um{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new um(n,t,ff(),ff(),ff())}}class dm{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class hm{constructor(e,t){this.targetId=e,this.me=t}}class pm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fm{constructor(){this.fe=0,this.ge=vm(),this.pe=Lh.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ff(),t=ff(),n=ff();return this.ge.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ld()}})),new um(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=vm()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fd(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mm{constructor(e){this.Le=e,this.Be=new Map,this.ke=of(),this.qe=gm(),this.Qe=new Rh(Zd)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ld()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const o=r.target;if(zp(o))if(0===n){const e=new ah(o.path);this.Ue(t,e,hp.newNoDocument(e,nh.min()))}else Fd(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),o=n?this.Xe(n,e,r):1;if(0!==o){this.je(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==nm||nm.et(function(e,t,n,r,o){var i,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===o,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,o))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=Bh(n).toUint8Array()}catch(e){if(e instanceof jh)return Dd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new am(i,r,o)}catch(e){return Dd(e instanceof lm?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const o=this.Le.tt(),i="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const o=this.Je(r);if(o){if(n.current&&zp(o.target)){const t=new ah(o.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,hp.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=ff();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new cm(e,t,this.Qe,this.ke,n);return this.ke=of(),this.qe=gm(),this.Qe=new Rh(Zd),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new fm,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Nh(Zd),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Nd("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fm),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function gm(){return new Rh(ah.comparator)}function vm(){return new Rh(ah.comparator)}const ym={asc:"ASCENDING",desc:"DESCENDING"},bm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wm={and:"AND",or:"OR"};class _m{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sm(e,t){return e.useProto3Json||wh(t)?t:{value:t}}function xm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function km(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Am(e,t){return xm(e,t.toTimestamp())}function Em(e){return Fd(!!e),nh.fromTimestamp(function(e){const t=zh(e);return new th(t.seconds,t.nanos)}(e))}function Tm(e,t){return Cm(e,t).canonicalString()}function Cm(e,t){const n=function(e){return new oh(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Im(e){const t=oh.fromString(e);return Fd(Jm(t)),t}function Rm(e,t){return Tm(e.databaseId,t.path)}function Pm(e,t){const n=Im(t);if(n.get(1)!==e.databaseId.projectId)throw new Bd(Ud.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bd(Ud.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ah(Dm(n))}function Om(e,t){return Tm(e.databaseId,t)}function Nm(e){const t=Im(e);return 4===t.length?oh.emptyPath():Dm(t)}function Mm(e){return new oh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dm(e){return Fd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jm(e,t,n){return{name:Rm(e,t),fields:n.value.mapValue.fields}}function Lm(e,t){let n;if(t instanceof Bf)n={update:jm(e,t.key,t.value)};else if(t instanceof Kf)n={delete:Rm(e,t.key)};else if(t instanceof Vf)n={update:jm(e,t.key,t.data),updateMask:$m(t.fieldMask)};else{if(!(t instanceof Gf))return Ld();n={verify:Rm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof kf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Af)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof If)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Ld()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Am(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ld()}(e,t.precondition)),n}function Fm(e,t){return{documents:[Om(e,t.path)]}}function zm(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Om(e,o);const i=function(e){if(0!==e.length)return Gm(wp.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:qm(e.field),direction:Vm(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Sm(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:o}}function Um(e){let t=Nm(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Fd(1===r);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Bm(e);return t instanceof wp&&Sp(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new gp(Km(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,wh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new pp(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new pp(n,t)}(n.endAt)),Bp(t,o,s,i,a,"F",l,c)}function Bm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Km(e.unaryFilter.field);return bp.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Km(e.unaryFilter.field);return bp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Km(e.unaryFilter.field);return bp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Km(e.unaryFilter.field);return bp.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ld()}}(e):void 0!==e.fieldFilter?function(e){return bp.create(Km(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ld()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wp.create(e.compositeFilter.filters.map((e=>Bm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ld()}}(e.compositeFilter.op))}(e):Ld()}function Vm(e){return ym[e]}function Wm(e){return bm[e]}function Hm(e){return wm[e]}function qm(e){return{fieldPath:e.canonicalString()}}function Km(e){return sh.fromServerFormat(e.fieldPath)}function Gm(e){return e instanceof bp?function(e){if("=="===e.op){if(ip(e.value))return{unaryFilter:{field:qm(e.field),op:"IS_NAN"}};if(op(e.value))return{unaryFilter:{field:qm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ip(e.value))return{unaryFilter:{field:qm(e.field),op:"IS_NOT_NAN"}};if(op(e.value))return{unaryFilter:{field:qm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qm(e.field),op:Wm(e.op),value:e.value}}}(e):e instanceof wp?function(e){const t=e.getFilters().map((e=>Gm(e)));return 1===t.length?t[0]:{compositeFilter:{op:Hm(e.op),filters:t}}}(e):Ld()}function $m(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Jm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ym{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nh.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nh.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lh.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Ym(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ym(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ym(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ym(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xm{constructor(e){this.ct=e}}function Qm(e){const t=Um({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$p(t,t.limit,"L"):t}class Zm{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Uh(e.integerValue));else if("doubleValue"in e){const n=Uh(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),_h(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=zh(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Bh(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?cp(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ap(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ld()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const o=e.fields||{};this.dt(t,53);const i="value",s=(null===(r=null===(n=o[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Uh(s)),this.Vt(i,t),this.Tt(o[i],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),ah.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Zm.vt=new Zm;class eg{constructor(){this.un=new tg}addToCollectionParentIndex(e,t){return this.un.add(t),gh.resolve()}getCollectionParents(e,t){return gh.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return gh.resolve()}deleteFieldIndex(e,t){return gh.resolve()}deleteAllFieldIndexes(e){return gh.resolve()}createTargetIndexes(e,t){return gh.resolve()}getDocumentsMatchingTarget(e,t){return gh.resolve(null)}getIndexType(e,t){return gh.resolve(0)}getFieldIndexes(e,t){return gh.resolve([])}getNextCollectionGroupToUpdate(e){return gh.resolve(null)}getMinOffset(e,t){return gh.resolve(dh.min())}getMinOffsetFromCollectionGroup(e,t){return gh.resolve(dh.min())}updateCollectionGroup(e,t,n){return gh.resolve()}updateIndexEntries(e,t){return gh.resolve()}}class tg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nh(oh.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Nh(oh.comparator)).toArray()}}new Uint8Array(0);class ng{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ng(e,ng.DEFAULT_COLLECTION_PERCENTILE,ng.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ng.DEFAULT_COLLECTION_PERCENTILE=10,ng.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ng.DEFAULT=new ng(41943040,ng.DEFAULT_COLLECTION_PERCENTILE,ng.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ng.DISABLED=new ng(-1,0,0);class rg{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new rg(0)}static kn(){return new rg(-1)}}class og{constructor(){this.changes=new nf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?gh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ig{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sg{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ff(n.mutation,e,Dh.empty(),th.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ff()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ff();const r=cf();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=af();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=cf();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ff())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let o=of();const i=df(),s=df();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Vf)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),Ff(s.mutation,t,s.mutation.getFieldMask(),th.now())):i.set(t.key,Dh.empty())})),this.recalculateAndSaveOverlays(e,o).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ig(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=df();let r=new Rh(((e,t)=>e-t)),o=ff();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const o of e)o.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||Dh.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||ff()).add(e);r=r.insert(o.batchId,a)}))})).next((()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=uf();l.forEach((e=>{if(!o.has(e)){const r=jf(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return gh.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ah.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):gh.resolve(cf());let s=-1,a=o;return i.next((t=>gh.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?gh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,o))).next((()=>this.computeViews(e,a,t,ff()))).next((e=>({batchId:s,changes:lf(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ah(t)).next((e=>{let t=af();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=af();return this.indexManager.getCollectionParents(e,o).next((s=>gh.forEach(s,(s=>{const a=function(e,t){return new Up(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r)))).next((e=>{o.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,hp.newInvalidDocument(r)))}));let n=af();return e.forEach(((e,r)=>{const i=o.get(e);void 0!==i&&Ff(i.mutation,r,Dh.empty(),th.now()),Qp(t,r)&&(n=n.insert(e,r))})),n}))}}class ag{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return gh.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Em(e.createTime)}}(t)),gh.resolve()}getNamedQuery(e,t){return gh.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Qm(e.bundledQuery),readTime:Em(e.readTime)}}(t)),gh.resolve()}}class lg{constructor(){this.overlays=new Rh(ah.comparator),this.Ir=new Map}getOverlay(e,t){return gh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cf();return gh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),gh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),gh.resolve()}getOverlaysForCollection(e,t,n){const r=cf(),o=t.length+1,i=new ah(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return gh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new Rh(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=cf(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=cf(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return gh.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Yf(t,n));let o=this.Ir.get(t);void 0===o&&(o=ff(),this.Ir.set(t,o)),this.Ir.set(t,o.add(n.key))}}class cg{constructor(){this.sessionToken=Lh.EMPTY_BYTE_STRING}getSessionToken(e){return gh.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,gh.resolve()}}class ug{constructor(){this.Tr=new Nh(dg.Er),this.dr=new Nh(dg.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new dg(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new dg(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new ah(new oh([])),n=new dg(t,e),r=new dg(t,e+1),o=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),o.push(e.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ah(new oh([])),n=new dg(t,e),r=new dg(t,e+1);let o=ff();return this.dr.forEachInRange([n,r],(e=>{o=o.add(e.key)})),o}containsKey(e){const t=new dg(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dg{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ah.comparator(e.key,t.key)||Zd(e.wr,t.wr)}static Ar(e,t){return Zd(e.wr,t.wr)||ah.comparator(e.key,t.key)}}class hg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Nh(dg.Er)}checkEmpty(e){return gh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new $f(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.br=this.br.add(new dg(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return gh.resolve(i)}lookupMutationBatch(e,t){return gh.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),o=r<0?0:r;return gh.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return gh.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return gh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dg(t,0),r=new dg(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);o.push(t)})),gh.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nh(Zd);return t.forEach((e=>{const t=new dg(e,0),r=new dg(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),gh.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;ah.isDocumentKey(o)||(o=o.child(""));const i=new dg(new ah(o),0);let s=new Nh(Zd);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.wr)),!0)}),i),gh.resolve(this.Cr(s))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Fd(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return gh.forEach(t.mutations,(r=>{const o=new dg(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new dg(t,0),r=this.br.firstAfterOrEqual(n);return gh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,gh.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pg{constructor(e){this.Mr=e,this.docs=new Rh(ah.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return gh.resolve(n?n.document.mutableCopy():hp.newInvalidDocument(t))}getEntries(e,t){let n=of();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():hp.newInvalidDocument(e))})),gh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=of();const i=t.path,s=new ah(i.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||hh(uh(s),n)<=0||(r.has(s.key)||Qp(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return gh.resolve(o)}getAllFromCollectionGroup(e,t,n,r){Ld()}Or(e,t){return gh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new fg(this)}getSize(e){return gh.resolve(this.size)}}class fg extends og{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),gh.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class mg{constructor(e){this.persistence=e,this.Nr=new nf((e=>Lp(e)),Fp),this.lastRemoteSnapshotVersion=nh.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ug,this.targetCount=0,this.kr=rg.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),gh.resolve()}getLastRemoteSnapshotVersion(e){return gh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gh.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),gh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),gh.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new rg(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,gh.resolve()}updateTargetData(e,t){return this.Kn(t),gh.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,gh.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.Nr.forEach(((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Nr.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),gh.waitFor(o).next((()=>r))}getTargetCount(e){return gh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return gh.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),gh.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((t=>{o.push(r.markPotentiallyOrphaned(e,t))})),gh.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),gh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return gh.resolve(n)}containsKey(e,t){return gh.resolve(this.Br.containsKey(t))}}class gg{constructor(e,t){this.qr={},this.overlays={},this.Qr=new bh(0),this.Kr=!1,this.Kr=!0,this.$r=new cg,this.referenceDelegate=e(this),this.Ur=new mg(this),this.indexManager=new eg,this.remoteDocumentCache=function(e){return new pg(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Xm(t),this.Gr=new ag(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new hg(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Nd("MemoryPersistence","Starting transaction:",e);const r=new vg(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return gh.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class vg extends fh{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Jr=new ug,this.Yr=null}static Zr(e){return new yg(e)}get Xr(){if(this.Yr)return this.Yr;throw Ld()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),gh.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),gh.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),gh.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gh.forEach(this.Xr,(n=>{const r=ah.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,nh.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return gh.or([()=>gh.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class bg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=ff(),r=ff();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new bg(e,t.fromCache,n,r)}}class wg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _g{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=ds()?8:vh(cs())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.Yi(e,t).next((e=>{o.result=e})).next((()=>{if(!o.result)return this.Zi(e,t,r,n).next((e=>{o.result=e}))})).next((()=>{if(o.result)return;const n=new wg;return this.Xi(e,t,n).next((r=>{if(o.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>o.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(Od()<=Ps.DEBUG&&Nd("QueryEngine","SDK will not create cache indexes for query:",Xp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),gh.resolve()):(Od()<=Ps.DEBUG&&Nd("QueryEngine","Query:",Xp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Od()<=Ps.DEBUG&&Nd("QueryEngine","The SDK decides to create cache indexes for query:",Xp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kp(t))):gh.resolve())}Yi(e,t){if(Wp(t))return gh.resolve(null);let n=Kp(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=$p(t,null,"F"),n=Kp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const o=ff(...r);return this.Ji.getDocuments(e,o).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.ts(t,r);return this.ns(t,i,o,n.readTime)?this.Yi(e,$p(t,null,"F")):this.rs(e,i,t,n)}))))})))))}Zi(e,t,n,r){return Wp(t)||r.isEqual(nh.min())?gh.resolve(null):this.Ji.getDocuments(e,n).next((o=>{const i=this.ts(t,o);return this.ns(t,i,n,r)?gh.resolve(null):(Od()<=Ps.DEBUG&&Nd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xp(t)),this.rs(e,i,t,ch(r,-1)).next((e=>e)))}))}ts(e,t){let n=new Nh(ef(e));return t.forEach(((t,r)=>{Qp(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,t,n){return Od()<=Ps.DEBUG&&Nd("QueryEngine","Using full collection scan to execute query:",Xp(t)),this.Ji.getDocumentsMatchingQuery(e,t,dh.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Sg{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Rh(Zd),this._s=new nf((e=>Lp(e)),Fp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function xg(e,t,n,r){return new Sg(e,t,n,r)}async function kg(e,t){const n=zd(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((o=>(r=o,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const o=[],i=[];let s=ff();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({hs:e,removedBatchIds:o,addedBatchIds:i})))}))}))}function Ag(e){const t=zd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function Eg(e,t,n){let r=ff(),o=ff();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=of();return n.forEach(((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(nh.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Nd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),{Ps:r,Is:o}}))}function Tg(e,t){const n=zd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Cg(e,t){const n=zd(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((o=>o?(r=o,gh.resolve(r)):n.Ur.allocateTargetId(e).next((o=>(r=new Ym(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function Ig(e,t,n){const r=zd(e),o=r.os.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,o)))}catch(e){if(!yh(e))throw e;Nd("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(o.target)}function Rg(e,t,n){const r=zd(e);let o=nh.min(),i=ff();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=zd(e),o=r._s.get(n);return void 0!==o?gh.resolve(r.os.get(o)):r.Ur.getTargetData(t,n)}(r,e,Kp(t)).next((t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?o:nh.min(),n?i:ff()))).next((e=>(Pg(r,Zp(t),e),{documents:e,Ts:i})))))}function Pg(e,t,n){let r=e.us.get(t)||nh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class Og{constructor(){this.activeTargetIds=gf()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ng{constructor(){this.so=new Og,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Og,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mg{_o(e){}shutdown(){}}class Dg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Nd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Nd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jg=null;function Lg(){return null===jg?jg=268435456+Math.round(2147483648*Math.random()):jg++,"0x"+jg.toString(16)}const Fg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zg{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ug="WebChannelConnection";class Bg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,o){const i=Lg(),s=this.xo(e,t.toUriEncodedString());Nd("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,o),this.No(e,s,a,n).then((t=>(Nd("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw Dd("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t}))}Lo(e,t,n,r,o,i){return this.Mo(e,t,n,r,o)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=Fg[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const o=Lg();return new Promise(((i,s)=>{const a=new yd;a.setWithCredentials(!0),a.listenOnce(wd.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case _d.NO_ERROR:const t=a.getResponseJson();Nd(Ug,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(t)),i(t);break;case _d.TIMEOUT:Nd(Ug,"RPC '".concat(e,"' ").concat(o," timed out")),s(new Bd(Ud.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const n=a.getStatus();if(Nd(Ug,"RPC '".concat(e,"' ").concat(o," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ud).indexOf(t)>=0?t:Ud.UNKNOWN}(t.status);s(new Bd(e,t.message))}else s(new Bd(Ud.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Bd(Ud.UNAVAILABLE,"Connection failed."));break;default:Ld()}}finally{Nd(Ug,"RPC '".concat(e,"' ").concat(o," completed."))}}));const l=JSON.stringify(r);Nd(Ug,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=Lg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ad(),s=kd(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");Nd(Ug,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=i.createWebChannel(c,a);let d=!1,h=!1;const p=new zg({Io:t=>{h?Nd(Ug,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Nd(Ug,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Nd(Ug,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,bd.EventType.OPEN,(()=>{h||(Nd(Ug,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.yo())})),f(u,bd.EventType.CLOSE,(()=>{h||(h=!0,Nd(Ug,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.So())})),f(u,bd.EventType.ERROR,(t=>{h||(h=!0,Dd(Ug,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.So(new Bd(Ud.UNAVAILABLE,"The operation could not be completed")))})),f(u,bd.EventType.MESSAGE,(t=>{var n;if(!h){const o=t.data[0];Fd(!!o);const i=o,s=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){Nd(Ug,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Qf[e];if(void 0!==t)return tm(t)}(t),o=s.message;void 0===n&&(n=Ud.INTERNAL,o="Unknown error status: "+t+" with message "+s.message),h=!0,p.So(new Bd(n,o)),u.close()}else Nd(Ug,"RPC '".concat(e,"' stream ").concat(r," received:"),o),p.bo(o)}})),f(s,xd.STAT_EVENT,(t=>{t.stat===Sd.PROXY?Nd(Ug,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Sd.NOPROXY&&Nd(Ug,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.wo()}),0),p}}function Vg(){return"undefined"!=typeof document?document:null}function Wg(e){return new _m(e,!0)}class Hg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Nd("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class qg{constructor(e,t,n,r,o,i,s,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Hg(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Ud.RESOURCE_EXHAUSTED?(Md(t.toString()),Md("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Ud.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new Bd(Ud.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Nd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(Nd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kg extends qg{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ld()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Fd(void 0===t||"string"==typeof t),Lh.fromBase64String(t||"")):(Fd(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Lh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ud.UNKNOWN:tm(e.code);return new Bd(t,e.message||"")}(s);n=new pm(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Pm(e,r.document.name),i=Em(r.document.updateTime),s=r.document.createTime?Em(r.document.createTime):nh.min(),a=new up({mapValue:{fields:r.document.fields}}),l=hp.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new dm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Pm(e,r.document),i=r.readTime?Em(r.readTime):nh.min(),s=hp.newNoDocument(o,i),a=r.removedTargetIds||[];n=new dm([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Pm(e,r.document),i=r.removedTargetIds||[];n=new dm([],i,o,null)}else{if(!("filter"in t))return Ld();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new Xf(r,o),s=e.targetId;n=new hm(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return nh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?nh.min():t.readTime?Em(t.readTime):nh.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Mm(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=zp(r)?{documents:Fm(e,r)}:{query:zm(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=km(e,t.resumeToken);const r=Sm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(nh.min())>0){n.readTime=xm(e,t.snapshotVersion.toTimestamp());const r=Sm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ld()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Mm(this.serializer),t.removeTarget=e,this.a_(t)}}class Gg extends qg{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Fd(!!e.streamToken),this.lastStreamToken=e.streamToken,Fd(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Fd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Fd(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Em(e.updateTime):Em(t);return n.isEqual(nh.min())&&(n=Em(t)),new Of(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Em(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Mm(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Lm(this.serializer,e)))};this.a_(t)}}class $g extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Bd(Ud.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[i,s]=o;return this.connection.Mo(e,Cm(t,n),r,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ud.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bd(Ud.UNKNOWN,e.toString())}))}Lo(e,t,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Lo(e,Cm(t,n),r,s,a,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ud.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bd(Ud.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Jg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Md(t),this.D_=!1):Nd("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Yg{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((e=>{n.enqueueAndForget((async()=>{iv(this)&&(Nd("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=zd(e);t.L_.add(4),await Qg(t),t.q_.set("Unknown"),t.L_.delete(4),await Xg(t)}(this))}))})),this.q_=new Jg(n,r)}}async function Xg(e){if(iv(e))for(const t of e.B_)await t(!0)}async function Qg(e){for(const t of e.B_)await t(!1)}function Zg(e,t){const n=zd(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),ov(n)?rv(n):kv(n).r_()&&tv(n,t))}function ev(e,t){const n=zd(e),r=kv(n);n.N_.delete(t),r.r_()&&nv(n,t),0===n.N_.size&&(r.r_()?r.o_():iv(n)&&n.q_.set("Unknown"))}function tv(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}kv(e).A_(t)}function nv(e,t){e.Q_.xe(t),kv(e).R_(t)}function rv(e){e.Q_=new mm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),kv(e).start(),e.q_.v_()}function ov(e){return iv(e)&&!kv(e).n_()&&e.N_.size>0}function iv(e){return 0===zd(e).L_.size}function sv(e){e.Q_=void 0}async function av(e){e.q_.set("Online")}async function lv(e){e.N_.forEach(((t,n)=>{tv(e,t)}))}async function cv(e,t){sv(e),ov(e)?(e.q_.M_(t),rv(e)):e.q_.set("Unknown")}async function uv(e,t,n){if(e.q_.set("Online"),t instanceof pm&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Nd("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await dv(e,n)}else if(t instanceof dm?e.Q_.Ke(t):t instanceof hm?e.Q_.He(t):e.Q_.We(t),!n.isEqual(nh.min()))try{const t=await Ag(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.N_.get(r);o&&e.N_.set(r,o.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Lh.EMPTY_BYTE_STRING,r.snapshotVersion)),nv(e,t);const o=new Ym(r.target,t,n,r.sequenceNumber);tv(e,o)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Nd("RemoteStore","Failed to raise snapshot:",t),await dv(e,t)}}async function dv(e,t,n){if(!yh(t))throw t;e.L_.add(1),await Qg(e),e.q_.set("Offline"),n||(n=()=>Ag(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Nd("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Xg(e)}))}function hv(e,t){return t().catch((n=>dv(e,n,t)))}async function pv(e){const t=zd(e),n=Av(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;fv(t);)try{const e=await Tg(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,mv(t,e)}catch(e){await dv(t,e)}gv(t)&&vv(t)}function fv(e){return iv(e)&&e.O_.length<10}function mv(e,t){e.O_.push(t);const n=Av(e);n.r_()&&n.V_&&n.m_(t.mutations)}function gv(e){return iv(e)&&!Av(e).n_()&&e.O_.length>0}function vv(e){Av(e).start()}async function yv(e){Av(e).p_()}async function bv(e){const t=Av(e);for(const n of e.O_)t.m_(n.mutations)}async function wv(e,t,n){const r=e.O_.shift(),o=Jf.from(r,t,n);await hv(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await pv(e)}async function _v(e,t){t&&Av(e).V_&&await async function(e,t){if(function(e){return em(e)&&e!==Ud.ABORTED}(t.code)){const n=e.O_.shift();Av(e).s_(),await hv(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await pv(e)}}(e,t),gv(e)&&vv(e)}async function Sv(e,t){const n=zd(e);n.asyncQueue.verifyOperationInProgress(),Nd("RemoteStore","RemoteStore received new credentials");const r=iv(n);n.L_.add(3),await Qg(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Xg(n)}async function xv(e,t){const n=zd(e);t?(n.L_.delete(2),await Xg(n)):t||(n.L_.add(2),await Qg(n),n.q_.set("Unknown"))}function kv(e){return e.K_||(e.K_=function(e,t,n){const r=zd(e);return r.w_(),new Kg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:av.bind(null,e),Ro:lv.bind(null,e),mo:cv.bind(null,e),d_:uv.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),ov(e)?rv(e):e.q_.set("Unknown")):(await e.K_.stop(),sv(e))}))),e.K_}function Av(e){return e.U_||(e.U_=function(e,t,n){const r=zd(e);return r.w_(),new Gg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yv.bind(null,e),mo:_v.bind(null,e),f_:bv.bind(null,e),g_:wv.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await pv(e)):(await e.U_.stop(),e.O_.length>0&&(Nd("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))}))),e.U_}class Ev{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Vd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new Ev(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bd(Ud.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(e,t){if(Md("AsyncQueue","".concat(t,": ").concat(e)),yh(e))return new Bd(Ud.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Cv{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ah.comparator(t.key,n.key):(e,t)=>ah.comparator(e.key,t.key),this.keyedMap=af(),this.sortedSet=new Rh(this.comparator)}static emptySet(e){return new Cv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cv))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Cv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Iv{constructor(){this.W_=new Rh(ah.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ld():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Rv{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Rv(e,t,Cv.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Pv{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Ov{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=zd(e),r=n.queries;n.queries=Nv(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new Bd(Ud.ABORTED,"Firestore shutting down"))}}function Nv(){return new nf((e=>Yp(e)),Jp)}async function Mv(e,t){const n=zd(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.H_()&&t.J_()&&(r=2):(i=new Pv,r=t.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(o,!0);break;case 1:i.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=Tv(e,"Initialization of query '".concat(Xp(t.query),"' failed"));return void t.onError(n)}n.queries.set(o,i),i.j_.push(t),t.Z_(n.onlineState),i.z_&&t.X_(i.z_)&&Fv(n)}async function Dv(e,t){const n=zd(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.j_.indexOf(t);e>=0&&(i.j_.splice(e,1),0===i.j_.length?o=t.J_()?0:1:!i.H_()&&t.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jv(e,t){const n=zd(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(o)&&(r=!0);t.z_=o}}r&&Fv(n)}function Lv(e,t,n){const r=zd(e),o=r.queries.get(t);if(o)for(const i of o.j_)i.onError(n);r.queries.delete(t)}function Fv(e){e.Y_.forEach((e=>{e.next()}))}var zv,Uv;(Uv=zv||(zv={})).ea="default",Uv.Cache="cache";class Bv{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Rv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Rv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zv.Cache}}class Vv{constructor(e){this.key=e}}class Wv{constructor(e){this.key=e}}class Hv{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ff(),this.mutatedKeys=ff(),this.Aa=ef(e),this.Ra=new Cv(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Iv,r=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Qp(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.ga(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Aa(u,a)>0||l&&this.Aa(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{Ra:i,fa:n,ns:s,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const i=e.fa.G_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ld()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const s=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==i.length||l?{snapshot:new Rv(this.query,e.Ra,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Iv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ff(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Wv(e))})),this.da.forEach((n=>{e.has(n)||t.push(new Vv(n))})),t}ba(e){this.Ta=e.Ts,this.da=ff();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Rv.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class qv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Kv{constructor(e){this.key=e,this.va=!1}}class Gv{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new nf((e=>Yp(e)),Jp),this.Ma=new Map,this.xa=new Set,this.Oa=new Rh(ah.comparator),this.Na=new Map,this.La=new ug,this.Ba={},this.ka=new Map,this.qa=rg.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function $v(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=my(e);let o;const i=r.Fa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Da()):o=await Yv(r,t,n,!0),o}async function Jv(e,t){const n=my(e);await Yv(n,t,!0,!1)}async function Yv(e,t,n,r){const o=await Cg(e.localStore,Kp(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Xv(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&Zg(e.remoteStore,o),a}async function Xv(e,t,n,r,o){e.Ka=(t,n,r)=>async function(e,t,n,r){let o=t.view.ma(n);o.ns&&(o=await Rg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,o)})));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return cy(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const i=await Rg(e.localStore,t,!0),s=new Hv(t,i.Ts),a=s.ma(i.documents),l=um.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);cy(e,n,c.wa);const u=new qv(t,n,s);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Qv(e,t,n){const r=zd(e),o=r.Fa.get(t),i=r.Ma.get(o.targetId);if(i.length>1)return r.Ma.set(o.targetId,i.filter((e=>!Jp(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ig(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&ev(r.remoteStore,o.targetId),ay(r,o.targetId)})).catch(mh)):(ay(r,o.targetId),await Ig(r.localStore,o.targetId,!0))}async function Zv(e,t){const n=zd(e),r=n.Fa.get(t),o=n.Ma.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ev(n.remoteStore,r.targetId))}async function ey(e,t){const n=zd(e);try{const e=await function(e,t){const n=zd(e),r=t.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const s=[];t.targetChanges.forEach(((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.Ur.removeMatchingKeys(e,i.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,i.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Lh.EMPTY_BYTE_STRING,nh.min()).withLastLimboFreeSnapshotVersion(nh.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&s.push(n.Ur.updateTargetData(e,c))}));let a=of(),l=ff();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Eg(e,i,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(nh.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return gh.waitFor(s).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=o,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(Fd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Fd(r.va):e.removedDocuments.size>0&&(Fd(r.va),r.va=!1))})),await hy(n,e,t)}catch(e){await mh(e)}}function ty(e,t,n){const r=zd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const o=r.view.Z_(t);o.snapshot&&e.push(o.snapshot)})),function(e,t){const n=zd(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const o of n.j_)o.Z_(t)&&(r=!0)})),r&&Fv(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ny(e,t,n){const r=zd(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Na.get(t),i=o&&o.key;if(i){let e=new Rh(ah.comparator);e=e.insert(i,hp.newNoDocument(i,nh.min()));const n=ff().add(i),o=new cm(nh.min(),new Map,new Rh(Zd),e,n);await ey(r,o),r.Oa=r.Oa.remove(i),r.Na.delete(t),dy(r)}else await Ig(r.localStore,t,!1).then((()=>ay(r,t,n))).catch(mh)}async function ry(e,t){const n=zd(e),r=t.batch.batchId;try{const e=await function(e,t){const n=zd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=gh.resolve();return i.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Fd(null!==i),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,o)))}(n,e,t,o).next((()=>o.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ff();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);sy(n,r,null),iy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hy(n,e)}catch(e){await mh(e)}}async function oy(e,t,n){const r=zd(e);try{const e=await function(e,t){const n=zd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Fd(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);sy(r,t,n),iy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hy(r,e)}catch(n){await mh(n)}}function iy(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function sy(e,t,n){const r=zd(e);let o=r.Ba[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Ba[r.currentUser.toKey()]=o}}function ay(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||ly(e,t)}))}function ly(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(ev(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),dy(e))}function cy(e,t,n){for(const r of n)r instanceof Vv?(e.La.addReference(r.key,t),uy(e,r)):r instanceof Wv?(Nd("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||ly(e,r.key)):Ld()}function uy(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Nd("SyncEngine","New document in limbo: "+n),e.xa.add(r),dy(e))}function dy(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ah(oh.fromString(t)),r=e.qa.next();e.Na.set(r,new Kv(n)),e.Oa=e.Oa.insert(n,r),Zg(e.remoteStore,new Ym(Kp(Vp(n.path)),r,"TargetPurposeLimboResolution",bh.oe))}}async function hy(e,t,n){const r=zd(e),o=[],i=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{s.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const o=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,o?"current":"not-current")}if(e){o.push(e);const t=bg.Wi(a.targetId,e);i.push(t)}})))})),await Promise.all(s),r.Ca.d_(o),await async function(e,t){const n=zd(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>gh.forEach(t,(t=>gh.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>gh.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!yh(e))throw e;Nd("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,o)}}}(r.localStore,i))}async function py(e,t){const n=zd(e);if(!n.currentUser.isEqual(t)){Nd("SyncEngine","User change. New user:",t.toKey());const e=await kg(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new Bd(Ud.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await hy(n,e.hs)}}function fy(e,t){const n=zd(e),r=n.Na.get(t);if(r&&r.va)return ff().add(r.key);{let e=ff();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function my(e){const t=zd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ey.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ny.bind(null,t),t.Ca.d_=jv.bind(null,t.eventManager),t.Ca.$a=Lv.bind(null,t.eventManager),t}function gy(e){const t=zd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ry.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oy.bind(null,t),t}class vy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return xg(this.persistence,new _g,e.initialUser,this.serializer)}Ga(e){return new gg(yg.Zr,this.serializer)}Wa(e){return new Ng}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vy.provider={build:()=>new vy};class yy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ty(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=py.bind(null,this.syncEngine),await xv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ov}createDatastore(e){const t=Wg(e.databaseInfo.databaseId),n=function(e){return new Bg(e)}(e.databaseInfo);return function(e,t,n,r){return new $g(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new Yg(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,(e=>ty(this.syncEngine,e,0)),Dg.D()?new Dg:new Mg)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new Gv(e,t,n,r,o,i);return s&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=zd(e);Nd("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Qg(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}yy.provider={build:()=>new yy};class by{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Md("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class wy{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Id.UNAUTHENTICATED,this.clientId=Qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async e=>{Nd("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Nd("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Tv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function _y(e,t){e.asyncQueue.verifyOperationInProgress(),Nd("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await kg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Sy(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xy(e);Nd("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Sv(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Sv(t.remoteStore,n))),e._onlineComponents=t}async function xy(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Nd("FirestoreClient","Using user provided OfflineComponentProvider");try{await _y(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ud.FAILED_PRECONDITION||e.code===Ud.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Dd("Error using user provided cache. Falling back to memory cache: "+n),await _y(e,new vy)}}else Nd("FirestoreClient","Using default OfflineComponentProvider"),await _y(e,new vy);return e._offlineComponents}async function ky(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Nd("FirestoreClient","Using user provided OnlineComponentProvider"),await Sy(e,e._uninitializedComponentsProvider._online)):(Nd("FirestoreClient","Using default OnlineComponentProvider"),await Sy(e,new yy))),e._onlineComponents}function Ay(e){return ky(e).then((e=>e.syncEngine))}async function Ey(e){const t=await ky(e),n=t.eventManager;return n.onListen=$v.bind(null,t.syncEngine),n.onUnlisten=Qv.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Jv.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Zv.bind(null,t.syncEngine),n}function Ty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vd;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,o){const i=new by({next:a=>{i.Za(),t.enqueueAndForget((()=>Dv(e,s)));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new Bd(Ud.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new Bd(Ud.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new Bv(Vp(n.path),i,{includeMetadataChanges:!0,_a:!0});return Mv(e,s)}(await Ey(e),e.asyncQueue,t,n,r))),r.promise}function Cy(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Iy=new Map;function Ry(e,t,n){if(!n)throw new Bd(Ud.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Py(e){if(!ah.isDocumentKey(e))throw new Bd(Ud.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Oy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ld()}function Ny(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bd(Ud.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oy(e);throw new Bd(Ud.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class My{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Bd(Ud.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bd(Ud.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Bd(Ud.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cy(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bd(Ud.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Bd(Ud.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Bd(Ud.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dy{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new My({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bd(Ud.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bd(Ud.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new My(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hd;switch(e.type){case"firstParty":return new $d(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bd(Ud.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iy.get(e);t&&(Nd("ComponentProvider","Removing Datastore"),Iy.delete(e),t.terminate())}(this),Promise.resolve()}}function jy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o;const i=(e=Ny(e,Dy))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==s&&Dd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Id.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ts(JSON.stringify({alg:"none",type:"JWT"})),ts(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Bd(Ud.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Id(i)}e._authCredentials=new qd(new Wd(t,n))}}class Ly{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ly(this.firestore,e,this._query)}}class Fy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fy(this.firestore,e,this._key)}}class zy extends Ly{constructor(e,t,n){super(e,t,Vp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fy(this.firestore,null,new ah(e))}withConverter(e){return new zy(this.firestore,e,this._path)}}function Uy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=As(e),1===arguments.length&&(t=Qd.newId()),Ry("doc","path",t),e instanceof Dy){const n=oh.fromString(t,...r);return Py(n),new Fy(e,null,new ah(n))}{if(!(e instanceof Fy||e instanceof zy))throw new Bd(Ud.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oh.fromString(t,...r));return Py(n),new Fy(e.firestore,e instanceof zy?e.converter:null,new ah(n))}}class By{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Hg(this,"async_queue_retry"),this.Vu=()=>{const e=Vg();e&&Nd("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Vg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Vd;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(jB){if(!yh(jB))throw jB;Nd("AsyncQueue","Operation failed with retryable error: "+jB)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Md("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=Ev.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&Ld()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Vy extends Dy{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new By,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new By(e),this._firestoreClient=void 0,await e}}}function Wy(e,t){const n="string"==typeof e?e:t||"(default)",r=Fa("object"==typeof e?e:Ha(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=is(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&jy(r,...e)}return r}function Hy(e){if(e._terminated)throw new Bd(Ud.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||qy(e),e._firestoreClient}function qy(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new qh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Cy(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||(null===(n=o.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=o.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new wy(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Ky{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ky(Lh.fromBase64String(e))}catch(e){throw new Bd(Ud.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ky(Lh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Bd(Ud.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $y{constructor(e){this._methodName=e}}class Jy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bd(Ud.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bd(Ud.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zd(this._lat,e._lat)||Zd(this._long,e._long)}}class Yy{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Xy=/^__.*__$/;class Qy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Vf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bf(e,this.data,t,this.fieldTransforms)}}function Zy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ld()}}class eb{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new eb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return db(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Zy(this.Cu)&&Xy.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Wg(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new eb({Cu:e,methodName:t,qu:n,path:sh.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nb(e){const t=e._freezeSettings(),n=Wg(e._databaseId);return new tb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rb(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Qu(i.merge||i.mergeFields?2:0,t,n,o);ab("Data must be an object, but it was:",s,r);const a=ib(r,s);let l,c;if(i.merge)l=new Dh(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=lb(t,r,n);if(!s.contains(o))throw new Bd(Ud.INVALID_ARGUMENT,"Field '".concat(o,"' is specified in your field mask but missing from your input data."));hb(e,o)||e.push(o)}l=new Dh(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Qy(new up(a),l,c)}function ob(e,t){if(sb(e=As(e)))return ab("Unsupported field value:",t,e),ib(e,t);if(e instanceof $y)return function(e,t){if(!Zy(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=ob(o,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=As(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=th.fromDate(e);return{timestampValue:xm(t.serializer,n)}}if(e instanceof th){const n=new th(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xm(t.serializer,n)}}if(e instanceof Jy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ky)return{bytesValue:km(t.serializer,e._byteString)};if(e instanceof Fy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Tm(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Yy)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return vf(t.serializer,e)}))}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Oy(e)))}(e,t)}function ib(e,t){const n={};return Ih(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ch(e,((e,r)=>{const o=ob(r,t.Mu(e));null!=o&&(n[e]=o)})),{mapValue:{fields:n}}}function sb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof th||e instanceof Jy||e instanceof Ky||e instanceof Fy||e instanceof $y||e instanceof Yy)}function ab(e,t,n){if(!sb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Oy(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function lb(e,t,n){if((t=As(t))instanceof Gy)return t._internalPath;if("string"==typeof t)return ub(e,t);throw db("Field path arguments must be of type string or ",e,!1,void 0,n)}const cb=new RegExp("[~\\*/\\[\\]]");function ub(e,t,n){if(t.search(cb)>=0)throw db("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Gy(...t.split("."))._internalPath}catch(r){throw db("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function db(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(o)),l+=")"),new Bd(Ud.INVALID_ARGUMENT,a+e+l)}function hb(e,t){return e.some((e=>e.isEqual(t)))}class pb{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fb extends pb{data(){return super.data()}}function mb(e,t){return"string"==typeof t?ub(e,t):t instanceof Gy?t._internalPath:t._delegate._internalPath}class gb{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($h(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ld()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ch(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const o=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Uh(e.doubleValue)));return new Yy(o)}convertGeoPoint(e){return new Jy(Uh(e.latitude),Uh(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Wh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hh(e));default:return null}}convertTimestamp(e){const t=zh(e);return new th(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oh.fromString(e);Fd(Jm(n));const r=new Kh(n.get(1),n.get(3)),o=new ah(n.popFirst(5));return r.isEqual(t)||Md("Document ".concat(o," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),o}}function vb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class yb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bb extends pb{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(mb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class wb extends bb{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class _b extends gb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ky(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fy(this.firestore,null,t)}}function Sb(e,t,n){e=Ny(e,Fy);const r=Ny(e.firestore,Vy),o=vb(e.converter,t,n);return xb(r,[rb(nb(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,Nf.none())])}function xb(e,t){return function(e,t){const n=new Vd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=gy(e);try{const e=await function(e,t){const n=zd(e),r=th.now(),o=t.reduce(((e,t)=>e.add(t.key)),ff());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=of(),l=ff();return n.cs.getEntries(e,o).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((o=>{i=o;const s=[];for(const e of t){const t=zf(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new Vf(e.key,t,dp(t.value.mapValue),Nf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:lf(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Rh(Zd)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await hy(r,e.changes),await pv(r.remoteStore)}catch(e){const t=Tv(e,"Failed to persist write");n.reject(t)}}(await Ay(e),t,n))),n.promise}(Hy(e),t)}function kb(e,t,n){const r=n.docs.get(t._key),o=new _b(e);return new bb(e,o,t._key,r,new yb(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Rd=e}(Va),La(new Es("firestore",((e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),s=new Vy(new Kd(e.getProvider("auth-internal")),new Yd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bd(Ud.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kh(e.options.projectId,t)}(i,r),i);return o=Object.assign({useFetchStreams:t},o),s._setSettings(o),s}),"PUBLIC").setMultipleInstances(!0)),qa(Cd,"4.7.3",e),qa(Cd,"4.7.3","esm2017")}();qa("firebase","10.14.1","app");const Ab="@firebase/installations",Eb="0.6.9",Tb=1e4,Cb="w:".concat(Eb),Ib="FIS_v2",Rb=36e5,Pb=new ms("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ob(e){return e instanceof fs&&e.code.includes("request-failed")}function Nb(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Mb(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Db(e,t){const n=(await t.json()).error;return Pb.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function jb(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Lb(e,t){let{refreshToken:n}=t;const r=jb(e);return r.append("Authorization",function(e){return"".concat(Ib," ").concat(e)}(n)),r}async function Fb(e){const t=await e();return t.status>=500&&t.status<600?e():t}function zb(e){return new Promise((t=>{setTimeout(t,e)}))}const Ub=/^[cdef][\w-]{21}$/;function Bb(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ub.test(t)?t:""}catch(e){return""}}function Vb(e){return"".concat(e.appName,"!").concat(e.appId)}const Wb=new Map;function Hb(e,t){const n=Vb(e);qb(n,t),function(e,t){const n=Gb();n&&n.postMessage({key:e,fid:t});$b()}(n,t)}function qb(e,t){const n=Wb.get(e);if(n)for(const r of n)r(t)}let Kb=null;function Gb(){return!Kb&&"BroadcastChannel"in self&&(Kb=new BroadcastChannel("[Firebase] FID Change"),Kb.onmessage=e=>{qb(e.data.key,e.data.fid)}),Kb}function $b(){0===Wb.size&&Kb&&(Kb.close(),Kb=null)}const Jb="firebase-installations-store";let Yb=null;function Xb(){return Yb||(Yb=Ys("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Jb)}})),Yb}async function Qb(e,t){const n=Vb(e),r=(await Xb()).transaction(Jb,"readwrite"),o=r.objectStore(Jb),i=await o.get(n);return await o.put(t,n),await r.done,i&&i.fid===t.fid||Hb(e,t.fid),t}async function Zb(e){const t=Vb(e),n=(await Xb()).transaction(Jb,"readwrite");await n.objectStore(Jb).delete(t),await n.done}async function ew(e,t){const n=Vb(e),r=(await Xb()).transaction(Jb,"readwrite"),o=r.objectStore(Jb),i=await o.get(n),s=t(i);return void 0===s?await o.delete(n):await o.put(s,n),await r.done,!s||i&&i.fid===s.fid||Hb(e,s.fid),s}async function tw(e){let t;const n=await ew(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Bb(),registrationStatus:0};return ow(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Pb.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:o}=t;const i=Nb(n),s=jb(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:o,authVersion:Ib,appId:n.appId,sdkVersion:Cb},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Fb((()=>fetch(i,c)));if(u.ok){const e=await u.json();return{fid:e.fid||o,registrationStatus:2,refreshToken:e.refreshToken,authToken:Mb(e.authToken)}}throw await Db("Create Installation",u)}(e,t);return Qb(e.appConfig,n)}catch(jB){throw Ob(jB)&&409===jB.customData.serverCode?await Zb(e.appConfig):await Qb(e.appConfig,{fid:t.fid,registrationStatus:0}),jB}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:nw(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function nw(e){let t=await rw(e.appConfig);for(;1===t.registrationStatus;)await zb(100),t=await rw(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await tw(e);return n||t}return t}function rw(e){return ew(e,(e=>{if(!e)throw Pb.create("installation-not-found");return ow(e)}))}function ow(e){return 1===(t=e).registrationStatus&&t.registrationTime+Tb<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function iw(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const o=function(e,t){let{fid:n}=t;return"".concat(Nb(e),"/").concat(n,"/authTokens:generate")}(n,t),i=Lb(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:Cb,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await Fb((()=>fetch(o,l)));if(c.ok){return Mb(await c.json())}throw await Db("Generate Auth Token",c)}async function sw(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ew(e.appConfig,(r=>{if(!lw(r))throw Pb.create("not-registered");const o=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Rb}(e)}(o))return r;if(1===o.requestStatus)return t=async function(e,t){let n=await aw(e.appConfig);for(;1===n.authToken.requestStatus;)await zb(100),n=await aw(e.appConfig);const r=n.authToken;return 0===r.requestStatus?sw(e,t):r}(e,n),r;{if(!navigator.onLine)throw Pb.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await iw(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Qb(e.appConfig,r),n}catch(jB){if(!Ob(jB)||401!==jB.customData.serverCode&&404!==jB.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Qb(e.appConfig,n)}else await Zb(e.appConfig);throw jB}}(e,n),n}}));return t?await t:r.authToken}function aw(e){return ew(e,(e=>{if(!lw(e))throw Pb.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Tb<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function lw(e){return void 0!==e&&2===e.registrationStatus}async function cw(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await tw(e);t&&await t}(n);return(await sw(n,t)).token}function uw(e){return Pb.create("missing-app-config-values",{valueName:e})}const dw="installations",hw=e=>{const t=Fa(e.getProvider("app").getImmediate(),dw).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await tw(t);return r?r.catch(console.error):sw(t).catch(console.error),n.fid}(t),getToken:e=>cw(t,e)}};La(new Es(dw,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw uw("App Configuration");if(!e.name)throw uw("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw uw(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Fa(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),La(new Es("installations-internal",hw,"PRIVATE")),qa(Ab,Eb),qa(Ab,Eb,"esm2017");const pw="analytics",fw="https://www.googletagmanager.com/gtag/js",mw=new Ls("@firebase/analytics"),gw=new ms("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function vw(e){if(!e.startsWith(fw)){const t=gw.create("invalid-gtag-resource",{gtagURL:e});return mw.warn(t.message),""}return e}function yw(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function bw(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:vw}),r=document.createElement("script"),o="".concat(fw,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function ww(e,t,n,r){return async function(o){try{for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if("event"===o){const[r,o]=s;await async function(e,t,n,r,o){try{let i=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const r=await yw(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),o=e&&t[e.appId];if(!o){i=[];break}i.push(o)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,o||{})}catch(jB){mw.error(jB)}}(e,t,n,r,o)}else if("config"===o){const[o,i]=s;await async function(e,t,n,r,o,i){const s=r[o];try{if(s)await t[s];else{const e=(await yw(n)).find((e=>e.measurementId===o));e&&await t[e.appId]}}catch(jB){mw.error(jB)}e("config",o,i)}(e,t,n,r,o,i)}else if("consent"===o){const[t,n]=s;e("consent",t,n)}else if("get"===o){const[t,n,r]=s;e("get",t,n,r)}else if("set"===o){const[t]=s;e("set",t)}else e(o,...s)}catch(jB){mw.error(jB)}}}const _w=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Sw(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function xw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_w,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:o,measurementId:i}=e.options;if(!r)throw gw.create("no-app-id");if(!o){if(i)return{measurementId:i,appId:r};throw gw.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Aw;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),kw({appId:r,apiKey:o,measurementId:i},s,a,t)}async function kw(e,t,n){let{throttleEndTimeMillis:r,backoffCount:o}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_w;var s;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener((()=>{clearTimeout(i),r(gw.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(jB){if(l)return mw.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===jB||void 0===jB?void 0:jB.message,"]")),{appId:a,measurementId:l};throw jB}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,o={method:"GET",headers:Sw(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(i,o);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw gw.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return i.deleteThrottleMetadata(a),t}catch(jB){const r=jB;if(!function(e){if(!(e instanceof fs)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(a),l)return mw.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:l};throw jB}const c=503===Number(null===(s=null===r||void 0===r?void 0:r.customData)||void 0===s?void 0:s.httpStatus)?ks(o,i.intervalMillis,30):ks(o,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:o+1};return i.setThrottleMetadata(a,u),mw.debug("Calling attemptFetch again in ".concat(c," millis")),kw(e,u,n,i)}}class Aw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Ew,Tw;function Cw(e){Tw=e}function Iw(e){Ew=e}async function Rw(e,t,n,r,o,i,s){var a;const l=xw(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&mw.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>mw.error(e))),t.push(l);const c=async function(){if(!hs())return mw.warn(gw.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await ps()}catch(jB){return mw.warn(gw.create("indexeddb-unavailable",{errorInfo:null===jB||void 0===jB?void 0:jB.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(fw)&&n.src.includes(e))return n;return null})(i)||bw(i,u.measurementId),Tw&&(o("consent","default",Tw),Cw(void 0)),o("js",new Date);const h=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),o("config",u.measurementId,h),Ew&&(o("set",Ew),Iw(void 0)),u.measurementId}class Pw{constructor(e){this.app=e}_delete(){return delete Ow[this.app.options.appId],Promise.resolve()}}let Ow={},Nw=[];const Mw={};let Dw,jw,Lw="dataLayer",Fw="gtag",zw=!1;function Uw(){const e=[];if(us()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=gw.create("invalid-analytics-context",{errorInfo:t});mw.warn(n.message)}}function Bw(e,t,n){Uw();const r=e.options.appId;if(!r)throw gw.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw gw.create("no-api-key");mw.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ow[r])throw gw.create("already-exists",{id:r});if(!zw){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Lw);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(i=window[o]),window[o]=ww(i,e,t,n),{gtagCore:i,wrappedGtag:window[o]}}(Ow,Nw,Mw,Lw,Fw);jw=e,Dw=t,zw=!0}Ow[r]=Rw(e,Nw,Mw,t,Dw,Lw,n);return new Pw(e)}function Vw(e,t,n,r){e=As(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:o}))}}(jw,Ow[e.app.options.appId],t,n,r).catch((e=>mw.error(e)))}const Ww="@firebase/analytics",Hw="0.10.8";La(new Es(pw,((e,t)=>{let{options:n}=t;return Bw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),La(new Es("analytics-internal",(function(e){try{const t=e.getProvider(pw).getImmediate();return{logEvent:(e,n,r)=>Vw(t,e,n,r)}}catch(jB){throw gw.create("interop-component-reg-failed",{reason:jB})}}),"PRIVATE")),qa(Ww,Hw),qa(Ww,Hw,"esm2017");const qw={apiKey:"AIzaSyCr2w1q-fgqcN921YD_zarfq2CkjhBrz4M",authDomain:"englishlearningapp-86c7a.firebaseapp.com",projectId:"englishlearningapp-86c7a",storageBucket:"englishlearningapp-86c7a.firebasestorage.app",messagingSenderId:"654860796672",appId:"1:654860796672:web:6bb8fc737067eacc76e9e5",measurementId:"G-FT3MNQ8653"};let Kw;try{if(Kw=Wa(qw),"undefined"!==typeof window)try{(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha();e=As(e);const t=Fa(e,pw);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Fa(e,pw);if(n.isInitialized()){const e=n.getImmediate();if(vs(t,n.getOptions()))return e;throw gw.create("already-initialized")}n.initialize({options:t})}(e)})(Kw)}catch(LB){console.error("Analytics initialization error:",LB)}}catch(LB){throw console.error("Firebase initialization error:",LB),LB}const Gw=Kw,$w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha();const t=Fa(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Fa(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(vs(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ll(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ad,persistence:[bu,nu,ou]}),r=as("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(o=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>dd)return;const r=null===t||void 0===t?void 0:t.token;hd!==r&&(hd=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){As(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){As(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var o;const i=is("auth");return i&&xc(n,"http://".concat(i)),n}(Gw),Jw=Wy(Gw),Yw=async()=>{try{return await window.grecaptcha.execute("6LdLQZcqAAAAPoN-1lizbX5kMCvXwiVV4qFBHL7",{action:"submit"})}catch(LB){throw console.error("reCAPTCHA error:",LB),new Error("Failed to verify reCAPTCHA")}},Xw=async(e,t,n)=>{try{await Yw();const r=await async function(e,t,n){if(za(e.app))return Promise.reject(dl(e));const r=mc(e),o=Sc(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vc),i=await o.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Xc(e),t})),s=await Wc._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}($w,e,t),o=r.user;return n.display_name&&await Qc(o,{displayName:n.display_name}),await Sb(Uy(Jw,"user_profiles",o.uid),{email:n.email,display_name:n.display_name,native_language:n.native_language,target_language:"en",learning_level:1,xp_points:0,streak_count:0,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),last_login:(new Date).toISOString(),is_premium:!1}),o}catch(LB){throw LB}},Qw=async(e,t)=>{try{await Yw();const n=await function(e,t,n){return za(e.app)?Promise.reject(dl(e)):Yc(As(e),Dc.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Xc(e),t}))}($w,e,t);return await Sb(Uy(Jw,"user_profiles",n.user.uid),{last_login:(new Date).toISOString()},{merge:!0}),n.user}catch(LB){throw LB}},Zw=async()=>{try{await(e=$w,As(e).signOut())}catch(LB){throw LB}var e},e_=e=>{return t=e,As($w).onAuthStateChanged(t,n,r);var t,n,r},t_=(0,e.createContext)({}),n_=()=>(0,e.useContext)(t_),r_=t=>{let{children:n}=t;const[r,o]=(0,e.useState)(null),[i,s]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null);(0,e.useEffect)((()=>{try{const e=e_((async e=>{if(e){const t=Wy(Gw);try{const n=(await function(e){e=Ny(e,Fy);const t=Ny(e.firestore,Vy);return Ty(Hy(t),e._key).then((n=>kb(t,e,n)))}(Uy(t,"user_profiles",e.uid))).data();o(Xi(Xi({},e),n))}catch(a){console.error("Error fetching user data:",a),o(e)}}else o(null);s(!1)}));return()=>e()}catch(a){console.error("Auth state change error:",a),s(!1),l(a.message)}}),[]);const c={user:r,loading:i,error:a,signUp:async(e,t,n)=>{try{l(null);return await Xw(e,t,n)}catch(a){throw console.error("Sign up error:",a),l(a.message),a}},signIn:async(e,t)=>{try{l(null);return await Qw(e,t)}catch(a){throw console.error("Sign in error:",a),l(a.message),a}},signOut:async()=>{try{l(null),await Zw(),o(null)}catch(a){throw console.error("Sign out error:",a),l(a.message),a}}};return(0,h.jsx)(t_.Provider,{value:c,children:!i&&n})},o_=[{text:"Home",path:"/"},{text:"Scenarios",path:"/scenarios"},{text:"Vocabulary",path:"/vocabulary"},{text:"Grammar",path:"/grammar"},{text:"Progress",path:"/progress"}];const i_=function(){const[t,n]=(0,e.useState)(null),[r,o]=(0,e.useState)(null),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=c(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:i=(r?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:a=!1}=Zt({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;return l=l.replace(/^@media( ?)/m,""),(void 0!==tn?nn:en)(l,o,i,s,a)}(Yt().breakpoints.down("sm")),{user:s,signOut:a}=n_(),l=ge(),u=()=>{n(null)},d=()=>{o(null)},p=async()=>{try{await a(),l("/login")}catch(LB){console.error("Logout failed:",LB)}d()};return(0,h.jsx)(mn,{position:"static",children:(0,h.jsxs)(wn,{children:[(0,h.jsx)(qi.A,{sx:{mr:2}}),(0,h.jsx)(Tn,{variant:"h6",component:"div",sx:{flexGrow:1},children:"English Learning App"}),i?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(fr,{size:"large",edge:"end",color:"inherit","aria-label":"menu",onClick:e=>{n(e.currentTarget)},children:(0,h.jsx)(Ki.A,{})}),(0,h.jsxs)(oi,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(t),onClose:u,children:[o_.map((e=>(0,h.jsx)(mi,{onClick:u,component:Ge,to:e.path,children:e.text},e.text))),s&&(0,h.jsx)(wi,{}),s&&(0,h.jsx)(mi,{onClick:p,children:"Logout"})]})]}):(0,h.jsxs)(ut,{sx:{display:"flex",gap:2,alignItems:"center"},children:[o_.map((e=>(0,h.jsx)(Pi,{color:"inherit",component:Ge,to:e.path,children:e.text},e.text))),s?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(fr,{onClick:e=>{o(e.currentTarget)},sx:{ml:2},children:(0,h.jsx)(Hi,{alt:s.display_name||"User",src:s.avatar_url,sx:{width:32,height:32}})}),(0,h.jsxs)(oi,{anchorEl:r,open:Boolean(r),onClose:d,children:[(0,h.jsx)(mi,{onClick:()=>{d(),l("/profile")},children:"Profile"}),(0,h.jsx)(mi,{onClick:p,children:"Logout"})]})]}):(0,h.jsx)(Pi,{color:"inherit",component:Ge,to:"/login",children:"Login"})]})]})})};var s_=n(7598);function a_(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=d(r);o&&(i=i[o]||i);return Zt({theme:i,name:n,props:t})}var l_=n(9172);const c_=["ownerState"],u_=["variants"],d_=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h_(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const p_=(0,a.A)(),f_=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function m_(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function g_(e){return e?(t,n)=>n[e]:null}function v_(e,t){let{ownerState:n}=t,r=(0,Qe.A)(t,c_);const i="function"===typeof e?e((0,o.A)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap((e=>v_(e,(0,o.A)({ownerState:n},r))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,Qe.A)(i,u_);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,o.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.A)({ownerState:n},r,n)):e.style))})),t}return i}const y_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=p_,rootShouldForwardProp:r=h_,slotShouldForwardProp:i=h_}=e,s=e=>(0,tt.A)((0,o.A)({},e,{theme:m_((0,o.A)({},e,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,et.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=g_(f_(c))}=a,p=(0,Qe.A)(a,d_),f=void 0!==u?u:c&&"Root"!==c&&"root"!==c||!1,m=d||!1;let g=h_;"Root"===c||"root"===c?g=r:c?g=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);const v=(0,et.default)(e,(0,o.A)({shouldForwardProp:g,label:undefined},p)),y=e=>"function"===typeof e&&e.__emotion_real!==e||(0,l_.Q)(e)?r=>v_(e,(0,o.A)({},r,{theme:m_({theme:r.theme,defaultTheme:n,themeId:t})})):e,b=function(r){let i=y(r);for(var a=arguments.length,c=new Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];const d=c?c.map(y):[];l&&h&&d.push((e=>{const r=m_((0,o.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[l]||!r.components[l].styleOverrides)return null;const i=r.components[l].styleOverrides,s={};return Object.entries(i).forEach((t=>{let[n,i]=t;s[n]=v_(i,(0,o.A)({},e,{theme:r}))})),h(e,s)})),l&&!f&&d.push((e=>{var r;const i=m_((0,o.A)({},e,{defaultTheme:n,themeId:t}));return v_({variants:null==i||null==(r=i.components)||null==(r=r[l])?void 0:r.variants},(0,o.A)({},e,{theme:i}))})),m||d.push(s);const p=d.length-c.length;if(Array.isArray(r)&&p>0){const e=new Array(p).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const g=v(i,...d);return e.muiName&&(g.muiName=e.muiName),g};return v.withConfig&&(b.withConfig=v.withConfig),b}}(),b_=y_,w_=["className","component","disableGutters","fixed","maxWidth","classes"],__=(0,a.A)(),S_=b_("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,s_.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),x_=e=>a_({props:e,name:"MuiContainer",defaultTheme:__});const k_=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=S_,useThemeProps:r=x_,componentName:i="MuiContainer"}=t,s=n((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})}));return e.forwardRef((function(e,t){const n=r(e),{className:a,component:l="div",disableGutters:c=!1,fixed:u=!1,maxWidth:d="lg"}=n,p=(0,Qe.A)(n,w_),f=(0,o.A)({},n,{component:l,disableGutters:c,fixed:u,maxWidth:d}),m=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e,s={root:["root",i&&"maxWidth".concat((0,s_.A)(String(i))),r&&"fixed",o&&"disableGutters"]};return(0,ht.A)(s,(e=>(0,gt.Ay)(t,e)),n)})(f,i);return(0,h.jsx)(s,(0,o.A)({as:l,ownerState:f,className:(0,Ze.A)(m.root,a),ref:t},p))}))}({createStyledComponent:(0,mt.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,ft.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,i.b)({props:e,name:"MuiContainer"})}),A_=k_;function E_(e){return(0,gt.Ay)("MuiAlert",e)}const T_=(0,st.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),C_=(0,Oi.A)((0,h.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),I_=(0,Oi.A)((0,h.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),R_=(0,Oi.A)((0,h.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),P_=(0,Oi.A)((0,h.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),O_=(0,Oi.A)((0,h.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),N_=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],M_=(0,mt.Ay)(un,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,ft.A)(n.color||n.severity))]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?rn.e$:rn.a,r="light"===t.palette.mode?rn.a:rn.e$;return(0,o.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:r(t.palette[o].light,.9),["& .".concat(T_.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(T_.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,o.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),D_=(0,mt.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),j_=(0,mt.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),L_=(0,mt.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),F_={success:(0,h.jsx)(C_,{fontSize:"inherit"}),warning:(0,h.jsx)(I_,{fontSize:"inherit"}),error:(0,h.jsx)(R_,{fontSize:"inherit"}),info:(0,h.jsx)(P_,{fontSize:"inherit"})},z_=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiAlert"}),{action:r,children:s,className:a,closeText:l="Close",color:c,components:u={},componentsProps:d={},icon:p,iconMapping:f=F_,onClose:m,role:g="alert",severity:v="success",slotProps:y={},slots:b={},variant:w="standard"}=n,_=(0,Qe.A)(n,N_),S=(0,o.A)({},n,{color:c,severity:v,variant:w,colorSeverity:c||v}),x=(e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root","color".concat((0,ft.A)(n||r)),"".concat(t).concat((0,ft.A)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,ht.A)(i,E_,o)})(S),k={slots:(0,o.A)({closeButton:u.CloseButton,closeIcon:u.CloseIcon},b),slotProps:(0,o.A)({},d,y)},[A,E]=Fi("closeButton",{elementType:fr,externalForwardedProps:k,ownerState:S}),[T,C]=Fi("closeIcon",{elementType:O_,externalForwardedProps:k,ownerState:S});return(0,h.jsxs)(M_,(0,o.A)({role:g,elevation:0,ownerState:S,className:(0,Ze.A)(x.root,a),ref:t},_,{children:[!1!==p?(0,h.jsx)(D_,{ownerState:S,className:x.icon,children:p||f[v]||F_[v]}):null,(0,h.jsx)(j_,{ownerState:S,className:x.message,children:s}),null!=r?(0,h.jsx)(L_,{ownerState:S,className:x.action,children:r}):null,null==r&&m?(0,h.jsx)(L_,{ownerState:S,className:x.action,children:(0,h.jsx)(A,(0,o.A)({size:"small","aria-label":l,title:l,color:"inherit",onClick:m},E,{children:(0,h.jsx)(T,(0,o.A)({fontSize:"small"},C))}))}):null]}))})),U_=z_;var B_=n(9751);const V_=e.createContext();function W_(e){return(0,gt.Ay)("MuiGrid",e)}const H_=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],q_=(0,st.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...H_.map((e=>"grid-xs-".concat(e))),...H_.map((e=>"grid-sm-".concat(e))),...H_.map((e=>"grid-md-".concat(e))),...H_.map((e=>"grid-lg-".concat(e))),...H_.map((e=>"grid-xl-".concat(e)))]),K_=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function G_(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function $_(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const o=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return o.slice(0,o.indexOf(r))}const J_=(0,mt.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&r.push(n["spacing-".concat(t,"-").concat(String(o))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...u,"row"!==o&&t["direction-xs-".concat(String(o))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return(0,o.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,B_.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,B_.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(q_.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,B_.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=$_({breakpoints:t.breakpoints.values,values:e})),i=(0,B_.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{marginTop:"-".concat(G_(i)),["& > .".concat(q_.item)]:{paddingTop:G_(i)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,["& > .".concat(q_.item)]:{paddingTop:0}}}))}return i}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,B_.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=$_({breakpoints:t.breakpoints.values,values:e})),i=(0,B_.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{width:"calc(100% + ".concat(G_(i),")"),marginLeft:"-".concat(G_(i)),["& > .".concat(q_.item)]:{paddingLeft:G_(i)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(q_.item)]:{paddingLeft:0}}}))}return i}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let s={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=(0,B_.kW)({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof a?a[i]:a;if(void 0===l||null===l)return e;const c="".concat(Math.round(t/l*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(c," + ").concat(G_(e),")");u={flexBasis:t,maxWidth:t}}}s=(0,o.A)({flexBasis:c,flexGrow:0,maxWidth:c},u)}return 0===n.breakpoints.values[i]?Object.assign(e,s):e[n.breakpoints.up(i)]=s,e}),{})}));const Y_=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(i,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));const d={root:["root",n&&"container",o&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]};return(0,ht.A)(d,W_,t)};const X_=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiGrid"}),{breakpoints:s}=Yt(),a=(0,nt.A)(r),{className:l,columns:c,columnSpacing:u,component:d="div",container:p=!1,direction:f="row",item:m=!1,rowSpacing:g,spacing:v=0,wrap:y="wrap",zeroMinWidth:b=!1}=a,w=(0,Qe.A)(a,K_),_=g||v,S=u||v,x=e.useContext(V_),k=p?c||12:x,A={},E=(0,o.A)({},w);s.keys.forEach((e=>{null!=w[e]&&(A[e]=w[e],delete E[e])}));const T=(0,o.A)({},a,{columns:k,container:p,direction:f,item:m,rowSpacing:_,columnSpacing:S,wrap:y,zeroMinWidth:b,spacing:v},A,{breakpoints:s.keys}),C=Y_(T);return(0,h.jsx)(V_.Provider,{value:k,children:(0,h.jsx)(J_,(0,o.A)({ownerState:T,className:(0,Ze.A)(C.root,l),as:d,ref:n},E))})}));function Q_(e){return(0,gt.Ay)("MuiCard",e)}(0,st.A)("MuiCard",["root"]);const Z_=["className","raised"],eS=(0,mt.Ay)(un,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),tS=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiCard"}),{className:r,raised:s=!1}=n,a=(0,Qe.A)(n,Z_),l=(0,o.A)({},n,{raised:s}),c=(e=>{const{classes:t}=e;return(0,ht.A)({root:["root"]},Q_,t)})(l);return(0,h.jsx)(eS,(0,o.A)({className:(0,Ze.A)(c.root,r),elevation:s?8:void 0,ref:t,ownerState:l},a))}));function nS(e){return(0,gt.Ay)("MuiCardContent",e)}(0,st.A)("MuiCardContent",["root"]);const rS=["className","component"],oS=(0,mt.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),iS=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiCardContent"}),{className:r,component:s="div"}=n,a=(0,Qe.A)(n,rS),l=(0,o.A)({},n,{component:s}),c=(e=>{const{classes:t}=e;return(0,ht.A)({root:["root"]},nS,t)})(l);return(0,h.jsx)(oS,(0,o.A)({as:s,className:(0,Ze.A)(c.root,r),ownerState:l,ref:t},a))}));function sS(e){return(0,gt.Ay)("MuiCardActions",e)}(0,st.A)("MuiCardActions",["root","spacing"]);const aS=["disableSpacing","className"],lS=(0,mt.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),cS=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:s}=n,a=(0,Qe.A)(n,aS),l=(0,o.A)({},n,{disableSpacing:r}),c=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,ht.A)(r,sS,t)})(l);return(0,h.jsx)(lS,(0,o.A)({className:(0,Ze.A)(c.root,s),ownerState:l,ref:t},a))}));var uS=n(569),dS=n(5398),hS=n(5415);const pS=function(){const e=ge(),{user:t,loading:n,error:r}=n_(),o=[{title:"Vocabulary Practice",description:"Build your English vocabulary through interactive exercises and flashcards.",icon:(0,h.jsx)(uS.A,{sx:{fontSize:40}}),path:"/vocabulary"},{title:"Grammar Exercises",description:"Master English grammar with our comprehensive practice modules.",icon:(0,h.jsx)(dS.A,{sx:{fontSize:40}}),path:"/grammar"},{title:"Track Progress",description:"Monitor your learning journey with detailed progress tracking.",icon:(0,h.jsx)(hS.A,{sx:{fontSize:40}}),path:"/progress"}];return n?(0,h.jsx)(ut,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,h.jsx)(Mt,{})}):r?(0,h.jsx)(A_,{maxWidth:"lg",sx:{mt:4},children:(0,h.jsx)(U_,{severity:"error",children:r})}):(0,h.jsxs)(A_,{maxWidth:"lg",sx:{mt:4},children:[(0,h.jsx)(Tn,{variant:"h2",component:"h1",gutterBottom:!0,align:"center",children:t?"Welcome back, ".concat(t.display_name||"Learner","!"):"Welcome to English Learning"}),t?(0,h.jsx)(Tn,{variant:"h5",color:"textSecondary",paragraph:!0,align:"center",children:"Continue your learning journey"}):(0,h.jsxs)(ut,{sx:{mb:4},children:[(0,h.jsx)(Tn,{variant:"h5",color:"textSecondary",paragraph:!0,align:"center",children:"Start your journey to English mastery today"}),(0,h.jsxs)(ut,{sx:{display:"flex",justifyContent:"center",gap:2},children:[(0,h.jsx)(Pi,{variant:"contained",color:"primary",onClick:()=>e("/login"),children:"Log In"}),(0,h.jsx)(Pi,{variant:"outlined",color:"primary",onClick:()=>e("/signup"),children:"Sign Up"})]})]}),(0,h.jsx)(X_,{container:!0,spacing:4,sx:{mt:4},children:o.map(((n,r)=>(0,h.jsx)(X_,{item:!0,xs:12,md:4,children:(0,h.jsxs)(tS,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,h.jsxs)(iS,{sx:{flexGrow:1,textAlign:"center"},children:[n.icon,(0,h.jsx)(Tn,{variant:"h5",component:"h2",sx:{mt:2},children:n.title}),(0,h.jsx)(Tn,{variant:"body1",color:"textSecondary",sx:{mt:2},children:n.description})]}),(0,h.jsx)(cS,{sx:{justifyContent:"center",pb:2},children:(0,h.jsx)(Pi,{variant:"contained",color:"primary",onClick:()=>{t?e(n.path):e("/login",{state:{returnTo:n.path}})},children:t?"Continue Learning":"Get Started"})})]})},r)))}),t&&(0,h.jsxs)(ut,{sx:{mt:6,textAlign:"center"},children:[(0,h.jsx)(Tn,{variant:"h4",gutterBottom:!0,children:"Your Progress"}),(0,h.jsxs)(X_,{container:!0,spacing:3,justifyContent:"center",children:[(0,h.jsx)(X_,{item:!0,xs:12,md:4,children:(0,h.jsx)(tS,{children:(0,h.jsxs)(iS,{children:[(0,h.jsx)(Tn,{variant:"h6",children:"Daily Streak"}),(0,h.jsxs)(Tn,{variant:"h3",color:"primary",children:[t.streak||0," days"]})]})})}),(0,h.jsx)(X_,{item:!0,xs:12,md:4,children:(0,h.jsx)(tS,{children:(0,h.jsxs)(iS,{children:[(0,h.jsx)(Tn,{variant:"h6",children:"XP Points"}),(0,h.jsxs)(Tn,{variant:"h3",color:"primary",children:[t.xp||0," XP"]})]})})})]})]})]})};let fS;function mS(){if(fS)return fS;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),fS="reverse",e.scrollLeft>0?fS="default":(e.scrollLeft=1,0===e.scrollLeft&&(fS="negative")),document.body.removeChild(e),fS}function gS(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(mS()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function vS(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const yS=["onChange"],bS={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const wS=(0,Oi.A)((0,h.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),_S=(0,Oi.A)((0,h.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function SS(e){return(0,gt.Ay)("MuiTabScrollButton",e)}const xS=(0,st.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),kS=["className","slots","slotProps","direction","orientation","disabled"],AS=(0,mt.Ay)(cr,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((e=>{let{ownerState:t}=e;return(0,o.A)({width:40,flexShrink:0,opacity:.8,["&.".concat(xS.disabled)]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),ES=e.forwardRef((function(e,t){var n,r;const s=(0,i.b)({props:e,name:"MuiTabScrollButton"}),{className:a,slots:l={},slotProps:c={},direction:u}=s,d=(0,Qe.A)(s,kS),p=Bt(),f=(0,o.A)({isRtl:p},s),m=(e=>{const{classes:t,orientation:n,disabled:r}=e,o={root:["root",n,r&&"disabled"]};return(0,ht.A)(o,SS,t)})(f),g=null!=(n=l.StartScrollButtonIcon)?n:wS,v=null!=(r=l.EndScrollButtonIcon)?r:_S,y=xr({elementType:g,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),b=xr({elementType:v,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return(0,h.jsx)(AS,(0,o.A)({component:"div",className:(0,Ze.A)(m.root,a),ref:t,role:null,ownerState:f,tabIndex:null},d,{children:"left"===u?(0,h.jsx)(g,(0,o.A)({},y)):(0,h.jsx)(v,(0,o.A)({},b))}))}));function TS(e){return(0,gt.Ay)("MuiTabs",e)}const CS=(0,st.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),IS=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],RS=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,PS=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,OS=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},NS=(0,mt.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(CS.scrollButtons)]:t.scrollButtons},{["& .".concat(CS.scrollButtons)]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{["& .".concat(CS.scrollButtons)]:{[n.breakpoints.down("sm")]:{display:"none"}}})})),MS=(0,mt.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((e=>{let{ownerState:t}=e;return(0,o.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),DS=(0,mt.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),jS=(0,mt.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),LS=(0,mt.Ay)((function(t){const{onChange:n}=t,r=(0,Qe.A)(t,yS),i=e.useRef(),s=e.useRef(null),a=()=>{i.current=s.current.offsetHeight-s.current.clientHeight};return(0,Or.A)((()=>{const e=(0,Ur.A)((()=>{const e=i.current;a(),e!==i.current&&n(i.current)})),t=(0,Br.A)(s.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[n]),e.useEffect((()=>{a(),n(i.current)}),[n]),(0,h.jsx)("div",(0,o.A)({style:bS},r,{ref:s}))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),FS={};const zS=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiTabs"}),s=Yt(),a=Bt(),{"aria-label":l,"aria-labelledby":c,action:u,centered:d=!1,children:p,className:f,component:m="div",allowScrollButtonsMobile:g=!1,indicatorColor:v="primary",onChange:y,orientation:b="horizontal",ScrollButtonComponent:w=ES,scrollButtons:_="auto",selectionFollowsFocus:S,slots:x={},slotProps:k={},TabIndicatorProps:A={},TabScrollButtonProps:E={},textColor:T="primary",value:C,variant:I="standard",visibleScrollbar:R=!1}=r,P=(0,Qe.A)(r,IS),O="scrollable"===I,N="vertical"===b,M=N?"scrollTop":"scrollLeft",D=N?"top":"left",j=N?"bottom":"right",L=N?"clientHeight":"clientWidth",F=N?"height":"width",z=(0,o.A)({},r,{component:m,allowScrollButtonsMobile:g,indicatorColor:v,orientation:b,vertical:N,scrollButtons:_,textColor:T,variant:I,visibleScrollbar:R,fixed:!O,hideScrollbar:O&&!R,scrollableX:O&&!N,scrollableY:O&&N,centered:d&&!O,scrollButtonsHideMobile:!g}),U=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:l}=e,c={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,ht.A)(c,TS,l)})(z),B=xr({elementType:x.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:z}),V=xr({elementType:x.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:z});const[W,H]=e.useState(!1),[q,K]=e.useState(FS),[G,$]=e.useState(!1),[J,Y]=e.useState(!1),[X,Q]=e.useState(!1),[Z,ee]=e.useState({overflow:"hidden",scrollbarWidth:0}),te=new Map,ne=e.useRef(null),re=e.useRef(null),oe=()=>{const e=ne.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:gS(e,a?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==C){const e=re.current.children;if(e.length>0){const t=e[te.get(C)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ie=(0,In.A)((()=>{const{tabsMeta:e,tabMeta:t}=oe();let n,r=0;if(N)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=a?"right":"left",t&&e){const o=a?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(a?-1:1)*(t[n]-e[n]+o)}const o={[n]:r,[F]:t?t[F]:0};if(isNaN(q[n])||isNaN(q[F]))K(o);else{const e=Math.abs(q[n]-o[n]),t=Math.abs(q[F]-o[F]);(e>=1||t>=1)&&K(o)}})),se=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:i=vS,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=r=>{if(c)return void o(new Error("Animation cancelled"));null===a&&(a=r);const u=Math.min(1,(r-a)/s);t[e]=i(u)*(n-l)+l,u>=1?requestAnimationFrame((()=>{o(null)})):requestAnimationFrame(d)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(d)}(M,ne.current,e,{duration:s.transitions.duration.standard}):ne.current[M]=e},ae=e=>{let t=ne.current[M];N?t+=e:(t+=e*(a?-1:1),t*=a&&"reverse"===mS()?-1:1),se(t)},le=()=>{const e=ne.current[L];let t=0;const n=Array.from(re.current.children);for(let r=0;r<n.length;r+=1){const o=n[r];if(t+o[L]>e){0===r&&(t=e);break}t+=o[L]}return t},ce=()=>{ae(-1*le())},ue=()=>{ae(le())},de=e.useCallback((e=>{ee({overflow:null,scrollbarWidth:e})}),[]),he=(0,In.A)((e=>{const{tabsMeta:t,tabMeta:n}=oe();if(n&&t)if(n[D]<t[D]){const r=t[M]+(n[D]-t[D]);se(r,{animation:e})}else if(n[j]>t[j]){const r=t[M]+(n[j]-t[j]);se(r,{animation:e})}})),pe=(0,In.A)((()=>{O&&!1!==_&&Q(!X)}));e.useEffect((()=>{const e=(0,Ur.A)((()=>{ne.current&&ie()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{var n;null==(n=t)||n.unobserve(e)})),e.addedNodes.forEach((e=>{var n;null==(n=t)||n.observe(e)}))})),e(),pe()},r=(0,Br.A)(ne.current);let o;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(re.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(o=new MutationObserver(n),o.observe(re.current,{childList:!0})),()=>{var n,i;e.clear(),r.removeEventListener("resize",e),null==(n=o)||n.disconnect(),null==(i=t)||i.disconnect()}}),[ie,pe]),e.useEffect((()=>{const e=Array.from(re.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&O&&!1!==_){const n=e[0],r=e[t-1],o={root:ne.current,threshold:.99},i=new IntersectionObserver((e=>{$(!e[0].isIntersecting)}),o);i.observe(n);const s=new IntersectionObserver((e=>{Y(!e[0].isIntersecting)}),o);return s.observe(r),()=>{i.disconnect(),s.disconnect()}}}),[O,_,X,null==p?void 0:p.length]),e.useEffect((()=>{H(!0)}),[]),e.useEffect((()=>{ie()})),e.useEffect((()=>{he(FS!==q)}),[he,q]),e.useImperativeHandle(u,(()=>({updateIndicator:ie,updateScrollButtons:pe})),[ie,pe]);const fe=(0,h.jsx)(jS,(0,o.A)({},A,{className:(0,Ze.A)(U.indicator,A.className),ownerState:z,style:(0,o.A)({},q,A.style)}));let me=0;const ge=e.Children.map(p,(t=>{if(!e.isValidElement(t))return null;const n=void 0===t.props.value?me:t.props.value;te.set(n,me);const r=n===C;return me+=1,e.cloneElement(t,(0,o.A)({fullWidth:"fullWidth"===I,indicator:r&&!W&&fe,selected:r,selectionFollowsFocus:S,onChange:y,textColor:T,value:n},1!==me||!1!==C||t.props.tabIndex?{}:{tabIndex:0}))})),ve=(()=>{const e={};e.scrollbarSizeListener=O?(0,h.jsx)(LS,{onChange:de,className:(0,Ze.A)(U.scrollableX,U.hideScrollbar)}):null;const t=O&&("auto"===_&&(G||J)||!0===_);return e.scrollButtonStart=t?(0,h.jsx)(w,(0,o.A)({slots:{StartScrollButtonIcon:x.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:B},orientation:b,direction:a?"right":"left",onClick:ce,disabled:!G},E,{className:(0,Ze.A)(U.scrollButtons,E.className)})):null,e.scrollButtonEnd=t?(0,h.jsx)(w,(0,o.A)({slots:{EndScrollButtonIcon:x.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:V},orientation:b,direction:a?"left":"right",onClick:ue,disabled:!J},E,{className:(0,Ze.A)(U.scrollButtons,E.className)})):null,e})();return(0,h.jsxs)(NS,(0,o.A)({className:(0,Ze.A)(U.root,f),ownerState:z,ref:n,as:m},P,{children:[ve.scrollButtonStart,ve.scrollbarSizeListener,(0,h.jsxs)(MS,{className:U.scroller,ownerState:z,style:{overflow:Z.overflow,[N?"margin".concat(a?"Left":"Right"):"marginBottom"]:R?void 0:-Z.scrollbarWidth},ref:ne,children:[(0,h.jsx)(DS,{"aria-label":l,"aria-labelledby":c,"aria-orientation":"vertical"===b?"vertical":null,className:U.flexContainer,ownerState:z,onKeyDown:e=>{const t=re.current,n=(0,kr.A)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===b?"ArrowLeft":"ArrowUp",o="horizontal"===b?"ArrowRight":"ArrowDown";switch("horizontal"===b&&a&&(r="ArrowRight",o="ArrowLeft"),e.key){case r:e.preventDefault(),OS(t,n,PS);break;case o:e.preventDefault(),OS(t,n,RS);break;case"Home":e.preventDefault(),OS(t,null,RS);break;case"End":e.preventDefault(),OS(t,null,PS)}},ref:re,role:"tablist",children:ge}),W&&fe]}),ve.scrollButtonEnd]}))})),US=zS;function BS(e){return(0,gt.Ay)("MuiTab",e)}const VS=(0,st.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),WS=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],HS=(0,mt.Ay)(cr,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat((0,ft.A)(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{["& .".concat(VS.iconWrapper)]:t.iconWrapper}]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,["& > .".concat(VS.iconWrapper)]:(0,o.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:t.spacing(1)},"end"===n.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,["&.".concat(VS.selected)]:{opacity:1},["&.".concat(VS.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,["&.".concat(VS.selected)]:{color:(t.vars||t).palette.primary.main},["&.".concat(VS.disabled)]:{color:(t.vars||t).palette.text.disabled}},"secondary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,["&.".concat(VS.selected)]:{color:(t.vars||t).palette.secondary.main},["&.".concat(VS.disabled)]:{color:(t.vars||t).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:t.typography.pxToRem(12)})})),qS=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiTab"}),{className:s,disabled:a=!1,disableFocusRipple:l=!1,fullWidth:c,icon:u,iconPosition:d="top",indicator:p,label:f,onChange:m,onClick:g,onFocus:v,selected:y,selectionFollowsFocus:b,textColor:w="inherit",value:_,wrapped:S=!1}=r,x=(0,Qe.A)(r,WS),k=(0,o.A)({},r,{disabled:a,disableFocusRipple:l,selected:y,icon:!!u,iconPosition:d,label:!!f,fullWidth:c,textColor:w,wrapped:S}),A=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:s,selected:a,disabled:l}=e,c={root:["root",i&&s&&"labelIcon","textColor".concat((0,ft.A)(n)),r&&"fullWidth",o&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,ht.A)(c,BS,t)})(k),E=u&&f&&e.isValidElement(u)?e.cloneElement(u,{className:(0,Ze.A)(A.iconWrapper,u.props.className)}):u;return(0,h.jsxs)(HS,(0,o.A)({focusRipple:!l,className:(0,Ze.A)(A.root,s),ref:n,role:"tab","aria-selected":y,disabled:a,onClick:e=>{!y&&m&&m(e,_),g&&g(e)},onFocus:e=>{b&&!y&&m&&m(e,_),v&&v(e)},ownerState:k,tabIndex:y?0:-1},x,{children:["top"===d||"start"===d?(0,h.jsxs)(e.Fragment,{children:[E,f]}):(0,h.jsxs)(e.Fragment,{children:[f,E]}),p]}))}));function KS(e){return(0,gt.Ay)("MuiLinearProgress",e)}(0,st.A)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var GS,$S,JS,YS,XS,QS;const ZS=["className","color","value","valueBuffer","variant"];let ex,tx,nx,rx,ox,ix;const sx=(0,pt.i7)(ex||(ex=GS||(GS=dt(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),ax=(0,pt.i7)(tx||(tx=$S||($S=dt(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),lx=(0,pt.i7)(nx||(nx=JS||(JS=dt(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),cx=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,rn.a)(e.palette[t].main,.62):(0,rn.e$)(e.palette[t].main,.5),ux=(0,mt.Ay)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat((0,ft.A)(n.color))],t[n.variant]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:cx(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),dx=(0,mt.Ay)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat((0,ft.A)(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;const r=cx(n,t.color);return(0,o.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,pt.AH)(rx||(rx=YS||(YS=dt(["\n    animation: "," 3s infinite linear;\n  "]))),lx)),hx=(0,mt.Ay)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat((0,ft.A)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,pt.AH)(ox||(ox=XS||(XS=dt(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),sx)})),px=(0,mt.Ay)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat((0,ft.A)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:cx(n,t.color),transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,pt.AH)(ix||(ix=QS||(QS=dt(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),ax)})),fx=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiLinearProgress"}),{className:r,color:s="primary",value:a,valueBuffer:l,variant:c="indeterminate"}=n,u=(0,Qe.A)(n,ZS),d=(0,o.A)({},n,{color:s,variant:c}),p=(e=>{const{classes:t,variant:n,color:r}=e,o={root:["root","color".concat((0,ft.A)(r)),n],dashed:["dashed","dashedColor".concat((0,ft.A)(r))],bar1:["bar","barColor".concat((0,ft.A)(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,ft.A)(r)),"buffer"===n&&"color".concat((0,ft.A)(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,ht.A)(o,KS,t)})(d),f=Bt(),m={},g={bar1:{},bar2:{}};if("determinate"===c||"buffer"===c)if(void 0!==a){m["aria-valuenow"]=Math.round(a),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let e=a-100;f&&(e=-e),g.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===c)if(void 0!==l){let e=(l||0)-100;f&&(e=-e),g.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,h.jsxs)(ux,(0,o.A)({className:(0,Ze.A)(p.root,r),ownerState:d,role:"progressbar"},m,{ref:t},u,{children:["buffer"===c?(0,h.jsx)(dx,{className:p.dashed,ownerState:d}):null,(0,h.jsx)(hx,{className:p.bar1,ownerState:d,style:g.bar1}),"determinate"===c?null:(0,h.jsx)(px,{className:p.bar2,ownerState:d,style:g.bar2})]}))})),mx=fx,gx=(0,Oi.A)((0,h.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function vx(e){return(0,gt.Ay)("MuiChip",e)}const yx=(0,st.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),bx=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],wx=(0,mt.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{["& .".concat(yx.avatar)]:t.avatar},{["& .".concat(yx.avatar)]:t["avatar".concat((0,ft.A)(a))]},{["& .".concat(yx.avatar)]:t["avatarColor".concat((0,ft.A)(r))]},{["& .".concat(yx.icon)]:t.icon},{["& .".concat(yx.icon)]:t["icon".concat((0,ft.A)(a))]},{["& .".concat(yx.icon)]:t["iconColor".concat((0,ft.A)(o))]},{["& .".concat(yx.deleteIcon)]:t.deleteIcon},{["& .".concat(yx.deleteIcon)]:t["deleteIcon".concat((0,ft.A)(a))]},{["& .".concat(yx.deleteIcon)]:t["deleteIconColor".concat((0,ft.A)(r))]},{["& .".concat(yx.deleteIcon)]:t["deleteIcon".concat((0,ft.A)(l),"Color").concat((0,ft.A)(r))]},t.root,t["size".concat((0,ft.A)(a))],t["color".concat((0,ft.A)(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat((0,ft.A)(r),")")],s&&t.deletable,s&&"default"!==r&&t["deletableColor".concat((0,ft.A)(r))],t[l],t["".concat(l).concat((0,ft.A)(r))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,o.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(yx.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(yx.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(yx.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(yx.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(yx.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(yx.icon)]:(0,o.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,o.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),["& .".concat(yx.deleteIcon)]:(0,o.A)({WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):(0,rn.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,rn.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?"rgba(".concat(t.vars.palette[n.color].contrastTextChannel," / 0.7)"):(0,rn.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{["&.".concat(yx.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,rn.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{["&.".concat(yx.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,rn.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(yx.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,rn.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{["&:hover, &.".concat(yx.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(yx.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(yx.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(yx.avatar)]:{marginLeft:4},["& .".concat(yx.avatarSmall)]:{marginLeft:2},["& .".concat(yx.icon)]:{marginLeft:4},["& .".concat(yx.iconSmall)]:{marginLeft:2},["& .".concat(yx.deleteIcon)]:{marginRight:5},["& .".concat(yx.deleteIconSmall)]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,rn.X4)(t.palette[n.color].main,.7)),["&.".concat(yx.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,rn.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},["&.".concat(yx.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,rn.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},["& .".concat(yx.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,rn.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),_x=(0,mt.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat((0,ft.A)(r))]]}})((e=>{let{ownerState:t}=e;return(0,o.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function Sx(e){return"Backspace"===e.key||"Delete"===e.key}const xx=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiChip"}),{avatar:s,className:a,clickable:l,color:c="default",component:u,deleteIcon:d,disabled:p=!1,icon:f,label:m,onClick:g,onDelete:v,onKeyDown:y,onKeyUp:b,size:w="medium",variant:_="filled",tabIndex:S,skipFocusWhenDisabled:x=!1}=r,k=(0,Qe.A)(r,bx),A=e.useRef(null),E=(0,Cn.A)(A,n),T=e=>{e.stopPropagation(),v&&v(e)},C=!(!1===l||!g)||l,I=C||v?cr:u||"div",R=(0,o.A)({},r,{component:I,disabled:p,size:w,color:c,iconColor:e.isValidElement(f)&&f.props.color||c,onDelete:!!v,clickable:C,variant:_}),P=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled","size".concat((0,ft.A)(r)),"color".concat((0,ft.A)(o)),a&&"clickable",a&&"clickableColor".concat((0,ft.A)(o)),s&&"deletable",s&&"deletableColor".concat((0,ft.A)(o)),"".concat(l).concat((0,ft.A)(o))],label:["label","label".concat((0,ft.A)(r))],avatar:["avatar","avatar".concat((0,ft.A)(r)),"avatarColor".concat((0,ft.A)(o))],icon:["icon","icon".concat((0,ft.A)(r)),"iconColor".concat((0,ft.A)(i))],deleteIcon:["deleteIcon","deleteIcon".concat((0,ft.A)(r)),"deleteIconColor".concat((0,ft.A)(o)),"deleteIcon".concat((0,ft.A)(l),"Color").concat((0,ft.A)(o))]};return(0,ht.A)(c,vx,t)})(R),O=I===cr?(0,o.A)({component:u||"div",focusVisibleClassName:P.focusVisible},v&&{disableRipple:!0}):{};let N=null;v&&(N=d&&e.isValidElement(d)?e.cloneElement(d,{className:(0,Ze.A)(d.props.className,P.deleteIcon),onClick:T}):(0,h.jsx)(gx,{className:(0,Ze.A)(P.deleteIcon),onClick:T}));let M=null;s&&e.isValidElement(s)&&(M=e.cloneElement(s,{className:(0,Ze.A)(P.avatar,s.props.className)}));let D=null;return f&&e.isValidElement(f)&&(D=e.cloneElement(f,{className:(0,Ze.A)(P.icon,f.props.className)})),(0,h.jsxs)(wx,(0,o.A)({as:I,className:(0,Ze.A)(P.root,a),disabled:!(!C||!p)||void 0,onClick:g,onKeyDown:e=>{e.currentTarget===e.target&&Sx(e)&&e.preventDefault(),y&&y(e)},onKeyUp:e=>{e.currentTarget===e.target&&(v&&Sx(e)?v(e):"Escape"===e.key&&A.current&&A.current.blur()),b&&b(e)},ref:E,tabIndex:x&&p?-1:S,ownerState:R},O,k,{children:[M||D,(0,h.jsx)(_x,{className:(0,Ze.A)(P.label),ownerState:R,children:m}),N]}))})),kx=xx;var Ax=n(5844);function Ex(e){return(0,gt.Ay)("MuiDialog",e)}const Tx=(0,st.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const Cx=e.createContext({}),Ix=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Rx=(0,mt.Ay)(_o,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Px=(0,mt.Ay)(jo,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Ox=(0,mt.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat((0,ft.A)(n.scroll))]]}})((e=>{let{ownerState:t}=e;return(0,o.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Nx=(0,mt.Ay)(un,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat((0,ft.A)(n.scroll))],t["paperWidth".concat((0,ft.A)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(Tx.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(Tx.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(Tx.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),Mx=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiDialog"}),s=Yt(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,BackdropComponent:u,BackdropProps:d,children:p,className:f,disableEscapeKeyDown:m=!1,fullScreen:g=!1,fullWidth:v=!1,maxWidth:y="sm",onBackdropClick:b,onClick:w,onClose:_,open:S,PaperComponent:x=un,PaperProps:k={},scroll:A="paper",TransitionComponent:E=vo,transitionDuration:T=a,TransitionProps:C}=r,I=(0,Qe.A)(r,Ix),R=(0,o.A)({},r,{disableEscapeKeyDown:m,fullScreen:g,fullWidth:v,maxWidth:y,scroll:A}),P=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,s={root:["root"],container:["container","scroll".concat((0,ft.A)(n))],paper:["paper","paperScroll".concat((0,ft.A)(n)),"paperWidth".concat((0,ft.A)(String(r))),o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,ht.A)(s,Ex,t)})(R),O=e.useRef(),N=(0,Ax.A)(c),M=e.useMemo((()=>({titleId:N})),[N]);return(0,h.jsx)(Px,(0,o.A)({className:(0,Ze.A)(P.root,f),closeAfterTransition:!0,components:{Backdrop:Rx},componentsProps:{backdrop:(0,o.A)({transitionDuration:T,as:u},d)},disableEscapeKeyDown:m,onClose:_,open:S,ref:n,onClick:e=>{w&&w(e),O.current&&(O.current=null,b&&b(e),_&&_(e,"backdropClick"))},ownerState:R},I,{children:(0,h.jsx)(E,(0,o.A)({appear:!0,in:S,timeout:T,role:"presentation"},C,{children:(0,h.jsx)(Ox,{className:(0,Ze.A)(P.container),onMouseDown:e=>{O.current=e.target===e.currentTarget},ownerState:R,children:(0,h.jsx)(Nx,(0,o.A)({as:x,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":N},k,{className:(0,Ze.A)(P.paper,k.className),ownerState:R,children:(0,h.jsx)(Cx.Provider,{value:M,children:p})}))})}))}))}));function Dx(e){return(0,gt.Ay)("MuiDialogTitle",e)}const jx=(0,st.A)("MuiDialogTitle",["root"]),Lx=["className","id"],Fx=(0,mt.Ay)(Tn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),zx=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiDialogTitle"}),{className:s,id:a}=r,l=(0,Qe.A)(r,Lx),c=r,u=(e=>{const{classes:t}=e;return(0,ht.A)({root:["root"]},Dx,t)})(c),{titleId:d=a}=e.useContext(Cx);return(0,h.jsx)(Fx,(0,o.A)({component:"h2",className:(0,Ze.A)(u.root,s),ownerState:c,ref:n,variant:"h6",id:null!=a?a:d},l))}));function Ux(e){return(0,gt.Ay)("MuiDialogContent",e)}(0,st.A)("MuiDialogContent",["root","dividers"]);const Bx=["className","dividers"],Vx=(0,mt.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(jx.root," + &")]:{paddingTop:0}})})),Wx=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiDialogContent"}),{className:r,dividers:s=!1}=n,a=(0,Qe.A)(n,Bx),l=(0,o.A)({},n,{dividers:s}),c=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,ht.A)(r,Ux,t)})(l);return(0,h.jsx)(Vx,(0,o.A)({className:(0,Ze.A)(c.root,r),ownerState:l,ref:t},a))}));function Hx(e){return(0,gt.Ay)("MuiDialogActions",e)}(0,st.A)("MuiDialogActions",["root","spacing"]);const qx=["className","disableSpacing"],Kx=(0,mt.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),Gx=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:s=!1}=n,a=(0,Qe.A)(n,qx),l=(0,o.A)({},n,{disableSpacing:s}),c=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,ht.A)(r,Hx,t)})(l);return(0,h.jsx)(Kx,(0,o.A)({className:(0,Ze.A)(c.root,r),ownerState:l,ref:t},a))})),$x=(0,Oi.A)((0,h.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),Jx=(0,Oi.A)((0,h.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),Yx=(0,Oi.A)((0,h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Xx=(0,Oi.A)((0,h.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Qx=(0,Oi.A)((0,h.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");function Zx(e){return(0,gt.Ay)("MuiAlertTitle",e)}(0,st.A)("MuiAlertTitle",["root"]);const ek=["className"],tk=(0,mt.Ay)(Tn,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{fontWeight:t.typography.fontWeightMedium,marginTop:-2}})),nk=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiAlertTitle"}),{className:r}=n,s=(0,Qe.A)(n,ek),a=n,l=(e=>{const{classes:t}=e;return(0,ht.A)({root:["root"]},Zx,t)})(a);return(0,h.jsx)(tk,(0,o.A)({gutterBottom:!0,component:"div",ownerState:a,ref:t,className:(0,Ze.A)(l.root,r)},s))})),rk=(0,Oi.A)((0,h.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");new class{constructor(){this.eventQueue=[],this.isProcessing=!1,this.retryAttempts=3,this.retryDelay=1e3,this.offlineStorage=new Map,this.initialized=!1}async initialize(){try{if(this.initialized)return;await this.initializeProviders(),await this.processOfflineEvents(),this.initialized=!0}catch(LB){this.handleError(LB,{action:"initialize"})}}async initializeProviders(){try{var e;null!==(e=window.firebase)&&void 0!==e&&e.analytics&&(this.firebaseAnalytics=window.firebase.analytics()),window.gtag&&(this.gtag=window.gtag),await this.initializeCustomAnalytics()}catch(LB){throw new Error("Failed to initialize analytics providers: "+LB.message)}}async trackEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.validateEventData(e,t),this.queueEvent({name:e,data:t,timestamp:(new Date).toISOString()}),this.isProcessing||await this.processEventQueue()}catch(LB){this.handleError(LB,{action:"trackEvent",eventName:e,eventData:t})}}validateEventData(e,t){if(!e||"string"!==typeof e)throw new Error("Invalid event name");if(t&&"object"!==typeof t)throw new Error("Event data must be an object");if(!/^[a-zA-Z][a-zA-Z0-9_]{2,50}$/.test(e))throw new Error("Invalid event name format");for(const[n,r]of Object.entries(t)){if(void 0===r||null===r)throw new Error("Invalid value for key: ".concat(n));if("object"===typeof r&&0===Object.keys(r).length)throw new Error("Empty object for key: ".concat(n))}}queueEvent(e){this.eventQueue.push(e)}async processEventQueue(){if(this.isProcessing||0===this.eventQueue.length)return;this.isProcessing=!0;let e=0;for(;this.eventQueue.length>0&&e<this.retryAttempts;)try{const t=this.eventQueue[0];await Promise.all([this.sendToFirebase(t),this.sendToGoogleAnalytics(t),this.sendToCustomAnalytics(t)]),this.eventQueue.shift(),e=0}catch(LB){e++,e===this.retryAttempts?(await this.storeOfflineEvent(this.eventQueue[0]),this.eventQueue.shift(),e=0):await this.delay(this.retryDelay*e)}this.isProcessing=!1}async sendToFirebase(e){if(this.firebaseAnalytics)try{await this.firebaseAnalytics.logEvent(e.name,Xi(Xi({},e.data),{},{timestamp:e.timestamp}))}catch(LB){throw new SL("firebase","Failed to send event to Firebase",{originalError:LB.message})}}async sendToGoogleAnalytics(e){if(this.gtag)try{this.gtag("event",e.name,Xi(Xi({},e.data),{},{timestamp:e.timestamp}))}catch(LB){throw new SL("google_analytics","Failed to send event to Google Analytics",{originalError:LB.message})}}async sendToCustomAnalytics(e){try{const t=await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status))}catch(LB){throw new SL("custom_analytics","Failed to send event to custom analytics",{originalError:LB.message})}}async storeOfflineEvent(e){try{const t="offline_event_".concat(Date.now());this.offlineStorage.set(t,e);const n=JSON.parse(localStorage.getItem("offline_analytics")||"[]");n.push(e),localStorage.setItem("offline_analytics",JSON.stringify(n))}catch(LB){this.handleError(LB,{action:"storeOfflineEvent",event:e})}}async processOfflineEvents(){try{const e=JSON.parse(localStorage.getItem("offline_analytics")||"[]");if(0===e.length)return;for(const t of e)await this.trackEvent(t.name,t.data);localStorage.removeItem("offline_analytics"),this.offlineStorage.clear()}catch(LB){this.handleError(LB,{action:"processOfflineEvents"})}}handleError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};xL.reportError(e,null,Xi({component:"AnalyticsService"},t))}delay(e){return new Promise((t=>setTimeout(t,e)))}async getEventStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"24h";try{const t=await fetch("/api/analytics/stats?timeRange=".concat(e));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(LB){return this.handleError(LB,{action:"getEventStats",timeRange:e}),null}}async getUserActivity(e,t,n){try{const r=await fetch("/api/analytics/user/".concat(e,"/activity?start=").concat(t,"&end=").concat(n));if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(LB){return this.handleError(LB,{action:"getUserActivity",userId:e,startDate:t,endDate:n}),[]}}clearOfflineStorage(){localStorage.removeItem("offline_analytics"),this.offlineStorage.clear()}};class ok extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class ik extends ok{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sk extends ok{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ak extends ok{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var lk,ck;(ck=lk||(lk={})).Any="any",ck.ApNortheast1="ap-northeast-1",ck.ApNortheast2="ap-northeast-2",ck.ApSouth1="ap-south-1",ck.ApSoutheast1="ap-southeast-1",ck.ApSoutheast2="ap-southeast-2",ck.CaCentral1="ca-central-1",ck.EuCentral1="eu-central-1",ck.EuWest1="eu-west-1",ck.EuWest2="eu-west-2",ck.EuWest3="eu-west-3",ck.SaEast1="sa-east-1",ck.UsEast1="us-east-1",ck.UsWest1="us-west-1",ck.UsWest2="us-west-2";var uk=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(jB){i(jB)}}function a(e){try{l(r.throw(e))}catch(jB){i(jB)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class dk{constructor(e){let{headers:t={},customFetch:r,region:o=lk.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=o,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return uk(this,void 0,void 0,(function*(){try{const{headers:r,method:o,body:i}=t;let s,a={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(a["x-region"]=l),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",s=i):"string"===typeof i?(a["Content-Type"]="text/plain",s=i):"undefined"!==typeof FormData&&i instanceof FormData?s=i:(a["Content-Type"]="application/json",s=JSON.stringify(i)));const c=yield this.fetch("".concat(this.url,"/").concat(e),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:s}).catch((e=>{throw new ik(e)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new sk(c);if(!c.ok)throw new ak(c);let d,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(LB){return{data:null,error:LB}}}))}}var hk=n(7980);const{PostgrestClient:pk,PostgrestQueryBuilder:fk,PostgrestFilterBuilder:mk,PostgrestTransformBuilder:gk,PostgrestBuilder:vk}=hk,yk={"X-Client-Info":"realtime-js/".concat("2.11.2")};var bk,wk,_k,Sk,xk,kk,Ak,Ek,Tk,Ck;(wk=bk||(bk={}))[wk.connecting=0]="connecting",wk[wk.open=1]="open",wk[wk.closing=2]="closing",wk[wk.closed=3]="closed",function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(_k||(_k={})),(xk=Sk||(Sk={})).close="phx_close",xk.error="phx_error",xk.join="phx_join",xk.reply="phx_reply",xk.leave="phx_leave",xk.access_token="access_token",(kk||(kk={})).websocket="websocket",(Ek=Ak||(Ak={})).Connecting="connecting",Ek.Open="open",Ek.Closing="closing",Ek.Closed="closed";class Ik{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),o=t.getUint8(2);let i=this.HEADER_LENGTH+2;const s=n.decode(e.slice(i,i+r));i+=r;const a=n.decode(e.slice(i,i+o));i+=o;return{ref:null,topic:s,event:a,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class Rk{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}(Ck=Tk||(Tk={})).abstime="abstime",Ck.bool="bool",Ck.date="date",Ck.daterange="daterange",Ck.float4="float4",Ck.float8="float8",Ck.int2="int2",Ck.int4="int4",Ck.int4range="int4range",Ck.int8="int8",Ck.int8range="int8range",Ck.json="json",Ck.jsonb="jsonb",Ck.money="money",Ck.numeric="numeric",Ck.oid="oid",Ck.reltime="reltime",Ck.text="text",Ck.time="time",Ck.timestamp="timestamp",Ck.timestamptz="timestamptz",Ck.timetz="timetz",Ck.tsrange="tsrange",Ck.tstzrange="tstzrange";const Pk=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,o)=>(n[o]=Ok(o,e,t,r),n)),{})},Ok=(e,t,n,r)=>{const o=t.find((t=>t.name===e)),i=null===o||void 0===o?void 0:o.type,s=n[e];return i&&!r.includes(i)?Nk(i,s):Mk(s)},Nk=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Fk(t,n)}switch(e){case Tk.bool:return Dk(t);case Tk.float4:case Tk.float8:case Tk.int2:case Tk.int4:case Tk.int8:case Tk.numeric:case Tk.oid:return jk(t);case Tk.json:case Tk.jsonb:return Lk(t);case Tk.timestamp:return zk(t);case Tk.abstime:case Tk.date:case Tk.daterange:case Tk.int4range:case Tk.int8range:case Tk.money:case Tk.reltime:case Tk.text:case Tk.time:case Tk.timestamptz:case Tk.timetz:case Tk.tsrange:case Tk.tstzrange:default:return Mk(t)}},Mk=e=>e,Dk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jk=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lk=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(LB){return console.log("JSON parse error: ".concat(LB)),e}return e},Fk=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(o){r=i?i.split(","):[]}return r.map((e=>Nk(t,e)))}return e},zk=e=>"string"===typeof e?e.replace(" ","T"):e,Uk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Bk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vk,Wk,Hk,qk,Kk,Gk,$k,Jk;(Wk=Vk||(Vk={})).SYNC="sync",Wk.JOIN="join",Wk.LEAVE="leave";class Yk{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yk.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=Yk.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Yk.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const o=this.cloneDeep(e),i=this.transformState(t),s={},a={};return this.map(o,((e,t)=>{i[e]||(a[e]=t)})),this.map(i,((e,t)=>{const n=o[e];if(n){const r=t.map((e=>e.presence_ref)),o=n.map((e=>e.presence_ref)),i=t.filter((e=>o.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(s[e]=i),l.length>0&&(a[e]=l)}else s[e]=t})),this.syncDiff(o,{joins:s,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(o,((t,r)=>{var o;const i=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map((e=>e.presence_ref)),r=i.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,i,r)})),this.map(i,((t,n)=>{let o=e[t];if(!o)return;const i=n.map((e=>e.presence_ref));o=o.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=o,r(t,o,n),0===o.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(qk=Hk||(Hk={})).ALL="*",qk.INSERT="INSERT",qk.UPDATE="UPDATE",qk.DELETE="DELETE",(Gk=Kk||(Kk={})).BROADCAST="broadcast",Gk.PRESENCE="presence",Gk.POSTGRES_CHANGES="postgres_changes",Gk.SYSTEM="system",(Jk=$k||($k={})).SUBSCRIBED="SUBSCRIBED",Jk.TIMED_OUT="TIMED_OUT",Jk.CLOSED="CLOSED",Jk.CHANNEL_ERROR="CHANNEL_ERROR";class Xk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=_k.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Bk(this,Sk.join,this.params,this.timeout),this.rejoinTimer=new Rk((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=_k.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=_k.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=_k.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=_k.errored,this.rejoinTimer.scheduleTimeout())})),this._on(Sk.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new Yk(this),this.broadcastEndpointURL=Uk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:s}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e($k.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e($k.CLOSED)));const a={},l={broadcast:o,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:s};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,o=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<o;r++){const o=t[r],{filter:{event:s,schema:a,table:l,filter:c}}=o,u=n&&n[r];if(!u||u.event!==s||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e($k.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},o),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e($k.SUBSCRIBED))}null===e||void 0===e||e($k.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e($k.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e($k.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,o,i;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(o=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===o?void 0:o.broadcast)||void 0===i?void 0:i.ack)||n("ok"),s.receive("ok",(()=>n("ok"))),s.receive("error",(()=>n("error"))),s.receive("timeout",(()=>n("timed out")))}));{const{event:o,payload:i}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(LB){return"AbortError"===LB.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=_k.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Sk.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new Bk(this,Sk.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,o=setTimeout((()=>r.abort()),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new Bk(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,o;const i=e.toLocaleLowerCase(),{close:s,error:a,leave:l,join:c}=Sk;if(n&&[s,a,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(u,n))):null===(o=this.bindings[i])||void 0===o||o.filter((e=>{var n,r,o,s,a,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(o=t.data)||void 0===o?void 0:o.type.toLocaleLowerCase()))}{const n=null===(a=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:o,errors:i}=e,s={schema:t,table:n,commit_timestamp:r,eventType:o,new:{},old:{},errors:i};u=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===_k.closed}_isJoined(){return this.state===_k.joined}_isJoining(){return this.state===_k.joining}_isLeaving(){return this.state===_k.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&Xk.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sk.close,{},e)}_onError(e){this._on(Sk.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_k.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Pk(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Pk(e.columns,e.old_record)),t}}const Qk=()=>{},Zk="undefined"!==typeof WebSocket;class eA{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=yk,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Qk,this.conn=null,this.sendBuffer=[],this.serializer=new Ik,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint="".concat(e,"/").concat(kk.websocket),this.httpEndpoint=Uk(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Rk((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(Zk)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new tA(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(198).then(n.t.bind(n,1198,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bk.connecting:return Ak.Connecting;case bk.open:return Ak.Open;case bk.closing:return Ak.Closing;default:return Ak.Closed}}isConnected(){return this.connectionState()===Ak.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n=new Xk("realtime:".concat(e),t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:r,ref:o}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push","".concat(t," ").concat(n," (").concat(o,")"),r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(n.exp)),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(n.exp))}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Sk.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:o}=e;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(r.status||""," ").concat(t," ").concat(n," ").concat(o&&"("+o+")"||""),r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,o))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(Sk.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class tA{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bk.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class nA extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rA(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class oA extends nA{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class iA extends nA{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var sA=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(jB){i(jB)}}function a(e){try{l(r.throw(e))}catch(jB){i(jB)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const aA=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},lA=e=>{if(Array.isArray(e))return e.map((e=>lA(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const o=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[o]=lA(r)})),t};var cA=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(jB){i(jB)}}function a(e){try{l(r.throw(e))}catch(jB){i(jB)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const uA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dA=(e,t,r)=>cA(void 0,void 0,void 0,(function*(){const o=yield sA(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,4630))).Response:Response}));e instanceof o&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{t(new oA(uA(n),e.status||500))})).catch((e=>{t(new iA(uA(e),e))})):t(new iA(uA(e),e))}));function hA(e,t,n,r,o,i){return cA(this,void 0,void 0,(function*(){return new Promise(((s,a)=>{e(n,((e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))})(t,r,o,i)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>s(e))).catch((e=>dA(e,a,r)))}))}))}function pA(e,t,n,r){return cA(this,void 0,void 0,(function*(){return hA(e,"GET",t,n,r)}))}function fA(e,t,n,r,o){return cA(this,void 0,void 0,(function*(){return hA(e,"POST",t,r,o,n)}))}function mA(e,t,n,r,o){return cA(this,void 0,void 0,(function*(){return hA(e,"DELETE",t,r,o,n)}))}var gA=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(jB){i(jB)}}function a(e){try{l(r.throw(e))}catch(jB){i(jB)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const vA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=aA(r)}uploadOrUpdate(e,t,n,r){return gA(this,void 0,void 0,(function*(){try{let o;const i=Object.assign(Object.assign({},yA),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const a=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),a&&o.append("metadata",this.encodeMetadata(a)),o.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),a&&o.append("metadata",this.encodeMetadata(a))):(o=n,s["cache-control"]="max-age=".concat(i.cacheControl),s["content-type"]=i.contentType,a&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null===r||void 0===r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch("".concat(this.url,"/object/").concat(c),Object.assign({method:e,body:o,headers:s},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}upload(e,t,n){return gA(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return gA(this,void 0,void 0,(function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),s=new URL(this.url+"/object/upload/sign/".concat(i));s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:yA.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType);const a=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:i}),l=yield a.json();if(a.ok)return{data:{path:o,fullPath:l.Key},error:null};return{data:null,error:l}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}createSignedUploadUrl(e,t){return gA(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const o=yield fA(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),i=new URL(this.url+o.url),s=i.searchParams.get("token");if(!s)throw new nA("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}update(e,t,n){return gA(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return gA(this,void 0,void 0,(function*(){try{return{data:yield fA(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}copy(e,t,n){return gA(this,void 0,void 0,(function*(){try{return{data:{path:(yield fA(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}createSignedUrl(e,t,n){return gA(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),o=yield fA(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return o={signedUrl:encodeURI("".concat(this.url).concat(o.signedURL).concat(i))},{data:o,error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}createSignedUrls(e,t,n){return gA(this,void 0,void 0,(function*(){try{const r=yield fA(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(o)):null}))),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}download(e,t){return gA(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),o=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield pA(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(o),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}info(e){return gA(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield pA(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:lA(e),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}exists(e){return gA(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return cA(this,void 0,void 0,(function*(){return hA(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(LB){if(rA(LB)&&LB instanceof iA){const t=LB.originalError;if([400,404].includes(null===t||void 0===t?void 0:t.status))return{data:!1,error:LB}}throw LB}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],o=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==o&&r.push(o);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let a=r.join("&");return""!==a&&(a="?".concat(a)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(n).concat(a))}}}remove(e){return gA(this,void 0,void 0,(function*(){try{return{data:yield mA(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}list(e,t,n){return gA(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},vA),t),{prefix:e||""});return{data:yield fA(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const wA={"X-Client-Info":"storage-js/".concat("2.7.1")};var _A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(jB){i(jB)}}function a(e){try{l(r.throw(e))}catch(jB){i(jB)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class SA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},wA),t),this.fetch=aA(n)}listBuckets(){return _A(this,void 0,void 0,(function*(){try{return{data:yield pA(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}getBucket(e){return _A(this,void 0,void 0,(function*(){try{return{data:yield pA(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return _A(this,void 0,void 0,(function*(){try{return{data:yield fA(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}updateBucket(e,t){return _A(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,o){return cA(this,void 0,void 0,(function*(){return hA(e,"PUT",t,r,o,n)}))}(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}emptyBucket(e){return _A(this,void 0,void 0,(function*(){try{return{data:yield fA(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}deleteBucket(e){return _A(this,void 0,void 0,(function*(){try{return{data:yield mA(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(LB){if(rA(LB))return{data:null,error:LB};throw LB}}))}}class xA extends SA{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new bA(this.url,this.headers,e,this.fetch)}}let kA="";kA="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const AA={headers:{"X-Client-Info":"supabase-js-".concat(kA,"/").concat("2.47.3")}},EA={schema:"public"},TA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CA={};var IA=n(4630),RA=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(jB){i(jB)}}function a(e){try{l(r.throw(e))}catch(jB){i(jB)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const PA=e=>{let t;return t=e||("undefined"===typeof fetch?IA.default:fetch),function(){return t(...arguments)}},OA=(e,t,n)=>{const r=PA(n),o="undefined"===typeof Headers?IA.Headers:Headers;return(n,i)=>RA(void 0,void 0,void 0,(function*(){var s;const a=null!==(s=yield t())&&void 0!==s?s:e;let l=new o(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(a)),r(n,Object.assign(Object.assign({},i),{headers:l}))}))};var NA=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(jB){i(jB)}}function a(e){try{l(r.throw(e))}catch(jB){i(jB)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const MA="2.66.1",DA={"X-Client-Info":"gotrue-js/".concat(MA)},jA="X-Supabase-Api-Version",LA={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"};const FA=()=>"undefined"!==typeof document,zA={tested:!1,writable:!1},UA=()=>{if(!FA())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(jB){return!1}if(zA.tested)return zA.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zA.tested=!0,zA.writable=!0}catch(jB){zA.tested=!0,zA.writable=!1}return zA.writable};function BA(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(jB){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}const VA=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},WA=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},HA=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},qA=async(e,t)=>{await e.removeItem(t)};class KA{constructor(){this.promise=new KA.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function GA(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,o,i,s,a,l,c="",u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)i=t.indexOf(e.charAt(u++)),s=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),n=i<<2|s>>4,r=(15&s)<<4|a>>2,o=(3&a)<<6|l,c+=String.fromCharCode(n),64!=a&&0!=r&&(c+=String.fromCharCode(r)),64!=l&&0!=o&&(c+=String.fromCharCode(o));return c}(n))}function $A(e){return("0"+e.toString(16)).substr(-2)}async function JA(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function YA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,$A).join("")}();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await WA(e,"".concat(t,"-code-verifier"),o);const i=await JA(r);return[i,r===i?"plain":"s256"]}KA.promiseConstructor=Promise;const XA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class QA extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function ZA(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class eE extends QA{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class tE extends QA{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class nE extends QA{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class rE extends nE{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class oE extends nE{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class iE extends nE{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sE extends nE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aE extends nE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lE extends nE{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function cE(e){return ZA(e)&&"AuthRetryableFetchError"===e.name}class uE extends nE{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}var dE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const hE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pE=[502,503,504];async function fE(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new lE(hE(e),0);if(pE.includes(e.status))throw new lE(hE(e),e.status);let r,o;try{r=await e.json()}catch(jB){throw new tE(hE(jB),jB)}const i=function(e){const t=e.headers.get(jA);if(!t)return null;if(!t.match(XA))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(jB){return null}}(e);if(i&&i.getTime()>=LA.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?o=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(o=r.error_code),o){if("weak_password"===o)throw new uE(hE(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===o)throw new rE}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new uE(hE(r),e.status,r.weak_password.reasons);throw new eE(hE(r),e.status||500,o)}async function mE(e,t,n,r){var o;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[jA]||(i[jA]=LA.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization="Bearer ".concat(r.jwt));const s=null!==(o=null===r||void 0===r?void 0:r.query)&&void 0!==o?o:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,o,i){const s=((e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))})(t,r,o,i);let a;try{a=await e(n,Object.assign({},s))}catch(jB){throw console.error(jB),new lE(hE(jB),0)}a.ok||await fE(a);if(null===r||void 0===r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(jB){await fE(jB)}}(e,t,n+a,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function gE(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function vE(e){const t=gE(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function yE(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function bE(e){return{data:e,error:null}}function wE(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=dE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},user:Object.assign({},s)},error:null}}function _E(e){return e}var SE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class xE{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=VA(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await mE(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await mE(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:yE})}catch(LB){if(ZA(LB))return{data:{user:null},error:LB};throw LB}}async generateLink(e){try{const{options:t}=e,n=SE(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await mE(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:wE,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(LB){if(ZA(LB))return{data:{properties:null,user:null},error:LB};throw LB}}async createUser(e){try{return await mE(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:yE})}catch(LB){if(ZA(LB))return{data:{user:null},error:LB};throw LB}}async listUsers(e){var t,n,r,o,i,s,a;try{const l={nextPage:null,lastPage:0,total:0},c=await mE(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(o=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==o?o:""},xform:_E});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(a=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(LB){if(ZA(LB))return{data:{users:[]},error:LB};throw LB}}async getUserById(e){try{return await mE(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:yE})}catch(LB){if(ZA(LB))return{data:{user:null},error:LB};throw LB}}async updateUserById(e,t){try{return await mE(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:yE})}catch(LB){if(ZA(LB))return{data:{user:null},error:LB};throw LB}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await mE(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:yE})}catch(LB){if(ZA(LB))return{data:{user:null},error:LB};throw LB}}async _listFactors(e){try{const{data:t,error:n}=await mE(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}async _deleteFactor(e){try{return{data:await mE(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}}const kE={getItem:e=>UA()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{UA()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{UA()&&globalThis.localStorage.removeItem(e)}};function AE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const EE=!!(globalThis&&UA()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class TE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class CE extends TE{}async function IE(e,t,n){EE&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),EE&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw EE&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new CE('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(EE)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(jB){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",jB)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}EE&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{EE&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(jB){"undefined"!==typeof self&&(self.globalThis=self)}}();const RE={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},PE=3e4;async function OE(e,t,n){return await n()}class NE{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=NE.nextInstanceID,NE.nextInstanceID+=1,this.instanceID>0&&FA()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},RE),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new xE({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=VA(r.fetch),this.lock=r.lock||OE,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:FA()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=IE:this.lock=OE,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:UA()?this.storage=kE:(this.memoryStorage={},this.storage=AE(this.memoryStorage)):(this.memoryStorage={},this.storage=AE(this.memoryStorage)),FA()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(jB){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",jB)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(MA,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=!!FA()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),function(e){return ZA(e)&&"AuthImplicitGrantRedirectError"===e.name}(r)){const t=null===(e=r.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout((async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(LB){return ZA(LB)?{error:LB}:{error:new tE("Unexpected error during initialization",LB)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const o=await mE(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:gE}),{data:i,error:s}=o;if(s||!i)return{data:{user:null,session:null},error:s};const a=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(LB){if(ZA(LB))return{data:{user:null,session:null},error:LB};throw LB}}async signUp(e){var t,n,r;try{let o;if("email"in e){const{email:n,password:r,options:i}=e;let s=null,a=null;"pkce"===this.flowType&&([s,a]=await YA(this.storage,this.storageKey)),o=await mE(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:a},xform:gE})}else{if(!("phone"in e))throw new iE("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:s}=e;o=await mE(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:gE})}}const{data:i,error:s}=o;if(s||!i)return{data:{user:null,session:null},error:s};const a=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(LB){if(ZA(LB))return{data:{user:null,session:null},error:LB};throw LB}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:o}=e;t=await mE(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:vE})}else{if(!("phone"in e))throw new iE("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:o}=e;t=await mE(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:vE})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new oE}}catch(LB){if(ZA(LB))return{data:{user:null,session:null},error:LB};throw LB}}async signInWithOAuth(e){var t,n,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await HA(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:o}=await mE(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gE});if(await qA(this.storage,"".concat(this.storageKey,"-code-verifier")),o)throw o;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:o}):{data:{user:null,session:null,redirectType:null},error:new oE}}catch(LB){if(ZA(LB))return{data:{user:null,session:null,redirectType:null},error:LB};throw LB}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:o,nonce:i}=e,s=await mE(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:gE}),{data:a,error:l}=s;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new oE}}catch(LB){if(ZA(LB))return{data:{user:null,session:null},error:LB};throw LB}}async signInWithOtp(e){var t,n,r,o,i;try{if("email"in e){const{email:r,options:o}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await YA(this.storage,this.storageKey));const{error:a}=await mE(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},create_user:null===(n=null===o||void 0===o?void 0:o.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:s},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:a}=await mE(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(o=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:a}}throw new iE("You must provide either an email or phone number.")}catch(LB){if(ZA(LB))return{data:{user:null,session:null},error:LB};throw LB}}async verifyOtp(e){var t,n;try{let r,o;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,o=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:s}=await mE(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:gE});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const a=i.session,l=i.user;return(null===a||void 0===a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(LB){if(ZA(LB))return{data:{user:null,session:null},error:LB};throw LB}}async signInWithSSO(e){var t,n,r;try{let o=null,i=null;return"pkce"===this.flowType&&([o,i]=await YA(this.storage,this.storageKey)),await mE(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:bE})}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new rE;const{error:r}=await mE(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(LB){if(ZA(LB))return{data:{user:null,session:null},error:LB};throw LB}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:o}=e,{error:i}=await mE(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:o}=e,{data:i,error:s}=await mE(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new iE("You must provide either an email or phone number and a type")}catch(LB){if(ZA(LB))return{data:{user:null,session:null},error:LB};throw LB}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(jB){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(jB){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await HA(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await mE(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:yE}):await this._useSession((async e=>{var t,n,r;const{data:o,error:i}=e;if(i)throw i;return(null===(t=o.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await mE(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:yE}):{data:{user:null},error:new rE}}))}catch(LB){if(ZA(LB))return function(e){return ZA(e)&&"AuthSessionMissingError"===e.name}(LB)&&(await this._removeSession(),await qA(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:LB};throw LB}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:o}=n;if(o)throw o;if(!r.session)throw new rE;const i=r.session;let s=null,a=null;"pkce"===this.flowType&&null!=e.email&&([s,a]=await YA(this.storage,this.storageKey));const{data:l,error:c}=await mE(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:a}),jwt:i.access_token,xform:yE});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(LB){if(ZA(LB))return{data:{user:null},error:LB};throw LB}}_decodeJWT(e){return GA(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rE;const t=Date.now()/1e3;let n=t,r=!0,o=null;const i=GA(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};o=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;o={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(LB){if(ZA(LB))return{data:{session:null,user:null},error:LB};throw LB}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:o}=t;if(o)throw o;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new rE;const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(LB){if(ZA(LB))return{data:{user:null,session:null},error:LB};throw LB}}async _getSessionFromURL(e){try{if(!FA())throw new sE("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new sE("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!e)throw new aE("Not a valid PKCE flow url.");const t=BA(window.location.href);if(e){if(!t.code)throw new aE("No code detected.");const{data:e,error:n}=await this._exchangeCodeForSession(t.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new sE(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:s,expires_at:a,token_type:l}=t;if(!o||!s||!i||!l)throw new sE("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let d=c+u;a&&(d=parseInt(a));const h=d-c;1e3*h<=PE&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:f,error:m}=await this._getUser(o);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:o,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(LB){if(ZA(LB))return{data:{session:null,redirectType:null},error:LB};throw LB}}_isImplicitGrantFlow(){const e=BA(window.location.href);return!(!FA()||!e.access_token&&!e.error_description)}async _isPKCEFlow(){const e=BA(window.location.href),t=await HA(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:o}=t;if(o)return{error:o};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return ZA(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await qA(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:o}=t;if(o)throw o;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(o){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await YA(this.storage,this.storageKey,!0));try{return await mE(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,o,i,s;const{data:a,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:!0});return await mE(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(i=a.session)||void 0===i?void 0:i.access_token)&&void 0!==s?s:void 0})}));if(r)throw r;return FA()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(LB){if(ZA(LB))return{data:{provider:e.provider,url:null},error:LB};throw LB}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:o,error:i}=t;if(i)throw i;return await mE(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const o=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await mE(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:gE})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&cE(t)&&Date.now()+n-o<PE},new Promise(((e,t)=>{(async()=>{for(let o=0;o<1/0;o++)try{const t=await n(o);if(!r(o,null,t))return void e(t)}catch(jB){if(!r(o,jB))return void t(jB)}})()})))}catch(LB){if(this._debug(t,"error",LB),ZA(LB))return{data:{session:null,user:null},error:LB};throw LB}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),FA()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await HA(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=Math.round(Date.now()/1e3),o=(null!==(e=n.expires_at)&&void 0!==e?e:1/0)<r+10;if(this._debug(t,"session has".concat(o?"":" not"," expired with margin of ").concat(10,"s")),o){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),cE(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new rE;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new KA;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new rE;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(LB){if(this._debug(r,"error",LB),ZA(LB)){const n={session:null,error:LB};return cE(LB)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(LB),LB}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(jB){r.push(jB)}}));if(await Promise.all(o),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await WA(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await qA(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&FA()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(jB){console.error("removing visibilitychange callback failed",jB)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),PE);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/PE);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(PE,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(jB){console.error("Auto refresh tick failed with error. This is likely a transient error.",jB)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(jB){if(!(jB.isAcquireTimeout||jB instanceof TE))throw jB;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!FA()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(LB){console.error("_handleVisibilityChange",LB)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await YA(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:o}=t;return o?{data:null,error:o}:await mE(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:o,error:i}=t;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await mE(this.fetch,"POST","".concat(this.url,"/factors"),{body:s,headers:this.headers,jwt:null===(n=null===o||void 0===o?void 0:o.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===a||void 0===a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code="data:image/svg+xml;utf-8,".concat(a.totp.qr_code)),{data:a,error:null})}))}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:o}=t;if(o)return{data:null,error:o};const{data:i,error:s}=await mE(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})}))}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:o}=t;return o?{data:null,error:o}:await mE(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(LB){if(ZA(LB))return{data:null,error:LB};throw LB}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),o=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(r.access_token);let s=null;i.aal&&(s=i.aal);let a=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}))))}}NE.nextInstanceID=0;const ME=NE;class DE extends ME{constructor(e){super(e)}}var jE=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(jB){i(jB)}}function a(e){try{l(r.throw(e))}catch(jB){i(jB)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class LE{constructor(e,t,n){var r,o,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=e.replace(/\/$/,"");this.realtimeUrl="".concat(s,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(s,"/auth/v1"),this.storageUrl="".concat(s,"/storage/v1"),this.functionsUrl="".concat(s,"/functions/v1");const a="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),l=function(e,t){const{db:n,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign({},c),i),accessToken:()=>NA(this,void 0,void 0,(function*(){return""}))};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!==n&&void 0!==n?n:{},{db:EA,realtime:CA,auth:Object.assign(Object.assign({},TA),{storageKey:a}),global:AA});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(o=l.global.headers)&&void 0!==o?o:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(i=l.auth)&&void 0!==i?i:{},this.headers,l.global.fetch),this.fetch=OA(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new pk("".concat(s,"/rest/v1"),{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new dk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xA(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return jE(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:o,detectSessionInUrl:i,storage:s,storageKey:a,flowType:l,lock:c,debug:u}=e;var d;const h={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new DE({url:this.authUrl,headers:Object.assign(Object.assign({},h),t),storageKey:a,autoRefreshToken:r,persistSession:o,detectSessionInUrl:i,storage:s,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:null!==(d="Authorization"in this.headers)&&void 0!==d&&d})}_initRealtimeClient(e){return new eA(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const FE="your_supabase_project_url",zE="your_supabase_anon_key";new LE(FE,zE,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});const UE="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function BE(e){return e&&e.Math==Math?e:void 0}const VE="object"==typeof globalThis&&BE(globalThis)||"object"==typeof window&&BE(window)||"object"==typeof self&&BE(self)||"object"==typeof n.g&&BE(n.g)||function(){return this}()||{};function WE(){return VE}function HE(e,t,n){const r=n||VE,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}const qE=["debug","info","warn","error","log","assert","trace"],KE={};function GE(e){if(!("console"in VE))return e();const t=VE.console,n={},r=Object.keys(KE);r.forEach((e=>{const r=KE[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const $E=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return UE?qE.forEach((n=>{t[n]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e&&GE((()=>{VE.console[n]("".concat("Sentry Logger ","[").concat(n,"]:"),...r)}))}})):qE.forEach((e=>{t[e]=()=>{}})),t}(),JE=Object.prototype.toString;function YE(e){switch(JE.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return aT(e,Error)}}function XE(e,t){return JE.call(e)==="[object ".concat(t,"]")}function QE(e){return XE(e,"ErrorEvent")}function ZE(e){return XE(e,"DOMError")}function eT(e){return XE(e,"String")}function tT(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function nT(e){return null===e||tT(e)||"object"!==typeof e&&"function"!==typeof e}function rT(e){return XE(e,"Object")}function oT(e){return"undefined"!==typeof Event&&aT(e,Event)}function iT(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function sT(e){return"number"===typeof e&&e!==e}function aT(e,t){try{return e instanceof t}catch(n){return!1}}function lT(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}const cT=WE();function uT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(c=dT(n,u),!("html"===c||i>1&&s+o.length*l+c.length>=d));)o.push(c),s+=c.length,n=n.parentNode;return o.reverse().join(a)}catch(n){return"<unknown>"}}function dT(e,t){const n=e,r=[];let o,i,s,a,l;if(!n||!n.tagName)return"";if(cT.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{r.push("[".concat(e[0],'="').concat(e[1],'"]'))}));else if(n.id&&r.push("#".concat(n.id)),o=n.className,o&&eT(o))for(i=o.split(/\s+/),l=0;l<i.length;l++)r.push(".".concat(i[l]));const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)s=u[l],a=n.getAttribute(s),a&&r.push("[".concat(s,'="').concat(a,'"]'));return r.join("")}function hT(e){if(!cT.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}function pT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function fT(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const t=e[r];try{lT(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(jB){n.push("[value cannot be serialized]")}}return n.join(t)}function mT(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!eT(e)&&(XE(t,"RegExp")?t.test(e):!!eT(t)&&(n?e===t:e.includes(t)))}function gT(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((n=>mT(e,n,t)))}function vT(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"===typeof o&&bT(o,r),e[t]=o}function yT(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){UE&&$E.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function bT(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,yT(e,"__sentry_original__",t)}catch(n){}}function wT(e){return e.__sentry_original__}function _T(e){if(YE(e))return Xi({message:e.message,name:e.name,stack:e.stack},xT(e));if(oT(e)){const t=Xi({type:e.type,target:ST(e.target),currentTarget:ST(e.currentTarget)},xT(e));return"undefined"!==typeof CustomEvent&&aT(e,CustomEvent)&&(t.detail=e.detail),t}return e}function ST(e){try{return t=e,"undefined"!==typeof Element&&aT(t,Element)?uT(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function xT(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function kT(e){return AT(e,new Map)}function AT(e,t){if(function(e){if(!rT(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(jB){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const o of Object.keys(e))"undefined"!==typeof e[o]&&(r[o]=AT(e[o],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(AT(e,t))})),r}return e}function ET(){const e=VE,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(r){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function TT(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function CT(e){const{message:t,event_id:n}=e;if(t)return t;const r=TT(e);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}function IT(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function RT(e,t){const n=TT(e);if(!n)return;const r=n.mechanism;if(n.mechanism=Xi(Xi(Xi({},{type:"generic",handled:!0}),r),t),t&&"data"in t){const e=Xi(Xi({},r&&r.data),t.data);n.mechanism.data=e}}function PT(e){if(e&&e.__sentry_captured__)return!0;try{yT(e,"__sentry_captured__",!0)}catch(t){}return!1}function OT(e){return Array.isArray(e)?e:[e]}const NT="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var MT;function DT(e){return new LT((t=>{t(e)}))}function jT(e){return new LT(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(MT||(MT={}));class LT{constructor(e){LT.prototype.__init.call(this),LT.prototype.__init2.call(this),LT.prototype.__init3.call(this),LT.prototype.__init4.call(this),this._state=MT.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(jB){this._reject(jB)}}then(e,t){return new LT(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(jB){r(jB)}else n(t)},e=>{if(t)try{n(t(e))}catch(jB){r(jB)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new LT(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(MT.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(MT.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===MT.PENDING&&(iT(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===MT.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===MT.RESOLVED&&e[1](this._value),this._state===MT.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function FT(){return HE("globalEventProcessors",(()=>[]))}function zT(e){FT().push(e)}function UT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new LT(((o,i)=>{const s=e[r];if(null===t||"function"!==typeof s)o(t);else{const a=s(Xi({},t),n);NT&&s.id&&null===a&&$E.log('Event processor "'.concat(s.id,'" dropped event')),iT(a)?a.then((t=>UT(e,t,n,r+1).then(o))).then(null,i):UT(e,a,n,r+1).then(o).then(null,i)}}))}function BT(){return Date.now()/1e3}const VT=function(){const{performance:e}=VE;if(!e||!e.now)return BT;const t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();let WT;const HT=(()=>{const{performance:e}=VE;if(!e||!e.now)return void(WT="none");const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing&&e.timing.navigationStart,a="number"===typeof s?Math.abs(s+n-r):t;return i||a<t?o<=a?(WT="timeOrigin",e.timeOrigin):(WT="navigationStart",s):(WT="dateNow",r)})(),qT="production";function KT(e){const t=VT(),n={sid:ET(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return kT({sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?"".concat(e.did):void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&GT(n,e),n}function GT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||VT(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ET()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function $T(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),GT(e,n)}const JT=/\(error: (.*)\)/,YT=/captureMessage|captureException/;function XT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[],o=e.split("\n");for(let i=t;i<o.length;i++){const e=o[i];if(e.length>1024)continue;const t=JT.test(e)?e.replace(JT,"$1"):e;if(!t.match(/\S*Error: /)){for(const e of r){const r=e(t);if(r){n.push(r);break}}if(n.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),YT.test(t[t.length-1].function||"")&&(t.pop(),YT.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>Xi(Xi({},e),{},{filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(n)}}const QT="<anonymous>";function ZT(e){try{return e&&"function"===typeof e&&e.name||QT}catch(jB){return QT}}function eC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return nC("",e,t,n)}catch(r){return{ERROR:"**non-serializable** (".concat(r,")")}}}function tC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400;const r=eC(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?tC(e,t-1,n):r;var o}function nC(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){const e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}();const[s,a]=i;if(null==t||["number","boolean","string"].includes(typeof t)&&!sT(t))return t;const l=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof n.g&&t===n.g)return"[Global]";if("undefined"!==typeof window&&t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if(lT(t))return"[VueViewModel]";if(rT(r=t)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"===typeof t&&t!==t)return"[NaN]";if("function"===typeof t)return"[Function: ".concat(ZT(t),"]");if("symbol"===typeof t)return"[".concat(String(t),"]");if("bigint"===typeof t)return"[BigInt: ".concat(String(t),"]");const o=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(o)?"[HTMLElement: ".concat(o,"]"):"[object ".concat(o,"]")}catch(o){return"**non-serializable** (".concat(o,")")}var r}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:r;if(0===c)return l.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&"function"===typeof u.toJSON)try{return nC("",u.toJSON(),c-1,o,i)}catch(f){}const d=Array.isArray(t)?[]:{};let h=0;const p=_T(t);for(const n in p){if(!Object.prototype.hasOwnProperty.call(p,n))continue;if(h>=o){d[n]="[MaxProperties ~]";break}const e=p[n];d[n]=nC(n,e,c-1,o,i),h++}return a(t),d}const rC="baggage",oC="sentry-",iC=/^sentry-/;function sC(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,t,n)=>{let[r,o]=t;const i="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(o)),s=0===n?i:"".concat(e,",").concat(i);return s.length>8192?(UE&&$E.warn("Not adding key: ".concat(r," with val: ").concat(o," to baggage header due to exceeding baggage size limits.")),e):s}),"")}(Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return r&&(e["".concat(oC).concat(n)]=r),e}),{}))}function aC(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,t)=>{let[n,r]=t;return e[n]=r,e}),{})}const lC=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function cC(e){if(!e)return;const t=e.match(lC);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function uC(e,t){const n=cC(e),r=function(e){if(!eT(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=aC(t);for(const r of Object.keys(n))e[r]=n[r];return e}),{});else{if(!e)return;t=aC(e)}const n=Object.entries(t).reduce(((e,t)=>{let[n,r]=t;return n.match(iC)&&(e[n.slice(7)]=r),e}),{});return Object.keys(n).length>0?n:void 0}(t),{traceId:o,parentSpanId:i,parentSampled:s}=n||{};return n?{traceId:o||ET(),parentSpanId:i||ET().substring(16),spanId:ET().substring(16),sampled:s,dsc:r||{}}:{traceId:o||ET(),spanId:ET().substring(16)}}function dC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ET(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ET().substring(16),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),"".concat(e,"-").concat(t).concat(r)}function hC(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,tags:a,origin:l}=gC(e);return kT({data:r,op:o,parent_span_id:i,span_id:t,status:s,tags:a,trace_id:n,origin:l})}function pC(e){const{traceId:t,spanId:n}=e.spanContext();return dC(t,n,vC(e))}function fC(e){return"number"===typeof e?mC(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?mC(e.getTime()):VT()}function mC(e){return e>9999999999?e/1e3:e}function gC(e){return function(e){return"function"===typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"===typeof e.toJSON?e.toJSON():{}}function vC(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}function yC(e,t,n,r,o,i){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l=Xi(Xi({},t),{},{event_id:t.event_id||n.event_id||ET(),timestamp:t.timestamp||BT()}),c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:qT);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=pT(e.message,i));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=pT(s.value,i));const a=e.request;a&&a.url&&(a.url=pT(a.url,i))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function(e,t){const n=VE._sentryDebugIds;if(!n)return;let r;const o=bC.get(t);o?r=o:(r=new Map,bC.set(t,r));const i=Object.keys(n).reduce(((e,o)=>{let i;const s=r.get(o);s?i=s:(i=t(o),r.set(o,i));for(let t=i.length-1;t>=0;t--){const r=i[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=i[e.filename])}))}))}catch(jB){}}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new zC;return n.update(t),n}(r,n.captureContext);n.mechanism&&RT(l,n.mechanism);const d=o&&o.getEventProcessors?o.getEventProcessors():[],h=function(){FC||(FC=new zC);return FC}().getScopeData();if(i){jC(h,i.getScopeData())}if(u){jC(h,u.getScopeData())}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),DC(l,h);return UT([...d,...FT(),...h.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(jB){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"===typeof s&&s>0?function(e,t,n){if(!e)return null;const r=Xi(Xi(Xi(Xi(Xi({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>Xi(Xi({},e),e.data&&{data:eC(e.data,t,n)})))}),e.user&&{user:eC(e.user,t,n)}),e.contexts&&{contexts:eC(e.contexts,t,n)}),e.extra&&{extra:eC(e.extra,t,n)});e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=eC(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=gC(e).data;return r&&(e.data=eC(r,t,n)),e})));return r}(e,s,a):e)))}const bC=new WeakMap;function wC(e){if(e)return function(e){return e instanceof zC||"function"===typeof e}(e)||function(e){return Object.keys(e).some((e=>_C.includes(e)))}(e)?{captureContext:e}:e}const _C=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function SC(e,t){return GC().captureException(e,wC(t))}function xC(e,t){return GC().captureEvent(e,t)}function kC(e,t){GC().addBreadcrumb(e,t)}function AC(){const e=GC();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(2===n.length){const[t,r]=n;return t?e.withScope((()=>(e.getStackTop().scope=t,r(t)))):e.withScope(r)}return e.withScope(n[0])}function EC(){return GC().getClient()}function TC(){return GC().getScope()}function CC(e){const t=EC(),n=$C(),r=TC(),{release:o,environment:i=qT}=t&&t.getOptions()||{},{userAgent:s}=VE.navigator||{},a=KT(Xi(Xi({release:o,environment:i,user:r.getUser()||n.getUser()},s&&{userAgent:s}),e)),l=n.getSession();return l&&"ok"===l.status&&GT(l,{status:"exited"}),IC(),n.setSession(a),r.setSession(a),a}function IC(){const e=$C(),t=TC(),n=t.getSession()||e.getSession();n&&$T(n),RC(),e.setSession(),t.setSession()}function RC(){const e=$C(),t=TC(),n=EC(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function PC(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?IC():RC()}function OC(e){return e.transaction}function NC(e,t,n){const r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},s=kT({environment:r.environment||qT,release:r.release,user_segment:i,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",s),s}function MC(e){const t=EC();if(!t)return{};const n=NC(gC(e).trace_id||"",t,TC()),r=OC(e);if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:i,source:s}=r.metadata;null!=i&&(n.sample_rate="".concat(i));const a=gC(r);return s&&"url"!==s&&(n.transaction=a.description),n.sampled=String(vC(r)),t.emit&&t.emit("createDsc",n),n}function DC(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t,l=kT(n);l&&Object.keys(l).length&&(e.extra=Xi(Xi({},l),e.extra));const c=kT(r);c&&Object.keys(c).length&&(e.tags=Xi(Xi({},c),e.tags));const u=kT(o);u&&Object.keys(u).length&&(e.user=Xi(Xi({},u),e.user));const d=kT(i);d&&Object.keys(d).length&&(e.contexts=Xi(Xi({},d),e.contexts));s&&(e.level=s);a&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts=Xi({trace:hC(t)},e.contexts);const n=OC(t);if(n){e.sdkProcessingMetadata=Xi({dynamicSamplingContext:MC(t)},e.sdkProcessingMetadata);const r=gC(n).description;r&&(e.tags=Xi({transaction:r},e.tags))}}(e,r),function(e,t){e.fingerprint=e.fingerprint?OT(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),function(e,t){e.sdkProcessingMetadata=Xi(Xi({},e.sdkProcessingMetadata),t)}(e,i)}function jC(e,t){const{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:f}=t;LC(e,"extra",n),LC(e,"tags",r),LC(e,"user",o),LC(e,"contexts",i),LC(e,"sdkProcessingMetadata",a),s&&(e.level=s),p&&(e.transactionName=p),f&&(e.span=f),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext=Xi(Xi({},e.propagationContext),h)}function LC(e,t,n){if(n&&Object.keys(n).length){e[t]=Xi({},e[t]);for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}let FC;class zC{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=UC()}static clone(e){return e?e.clone():new zC}clone(){const e=new zC;return e._breadcrumbs=[...this._breadcrumbs],e._tags=Xi({},this._tags),e._extra=Xi({},this._extra),e._contexts=Xi({},this._contexts),e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata=Xi({},this._sdkProcessingMetadata),e._propagationContext=Xi({},this._propagationContext),e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&GT(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags=Xi(Xi({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,t){return this._tags=Xi(Xi({},this._tags),{},{[e]:t}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=Xi(Xi({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,t){return this._extra=Xi(Xi({},this._extra),{},{[e]:t}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e;if(t instanceof zC){const e=t.getScopeData();this._tags=Xi(Xi({},this._tags),e.tags),this._extra=Xi(Xi({},this._extra),e.extra),this._contexts=Xi(Xi({},this._contexts),e.contexts),e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(rT(t)){const t=e;this._tags=Xi(Xi({},this._tags),t.tags),this._extra=Xi(Xi({},this._extra),t.extra),this._contexts=Xi(Xi({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=UC(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r=Xi({timestamp:BT()},e),o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:i,_level:s,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:i,level:s,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:u,transactionName:d,span:h}}applyToEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];DC(e,this.getScopeData());return UT([...n,...FT(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Xi(Xi({},this._sdkProcessingMetadata),e),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:ET();if(!this._client)return $E.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,Xi(Xi({originalException:e,syntheticException:r},t),{},{event_id:n}),this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:ET();if(!this._client)return $E.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,Xi(Xi({originalException:e,syntheticException:o},n),{},{event_id:r}),this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ET();return this._client?(this._client.captureEvent(e,Xi(Xi({},t),{},{event_id:n}),this),n):($E.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function UC(){return{traceId:ET(),spanId:ET().substring(16)}}const BC="7.120.1",VC=parseFloat(BC),WC=100;class HC{constructor(e,t,n){let r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:VC;this._version=i,t?r=t:(r=new zC,r.setClient(e)),n?o=n:(o=new zC,o.setClient(e)),this._stack=[{scope:r}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(jB){throw this.popScope(),jB}return iT(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:ET(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,Xi(Xi({originalException:e,syntheticException:r},t),{},{event_id:n})),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:ET(),o=new Error(e);return this.getScope().captureMessage(e,t,Xi(Xi({originalException:e,syntheticException:o},n),{},{event_id:r})),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ET();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,Xi(Xi({},t),{},{event_id:n})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=WC}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const s=Xi({timestamp:BT()},e),a=o?GE((()=>o(s,t))):s;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,i))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=KC(this);try{e(this)}finally{KC(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return NT&&$E.warn("Cannot retrieve integration ".concat(e.id," from the current Hub")),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(NT&&!n){this.getClient()?$E.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):$E.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&$T(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=qT}=n&&n.getOptions()||{},{userAgent:i}=VE.navigator||{},s=KT(Xi(Xi({release:r,environment:o,user:t.getUser()},i&&{userAgent:i}),e)),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&GT(a,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e){const t=qC().__SENTRY__;if(t&&t.extensions&&"function"===typeof t.extensions[e]){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.extensions[e].apply(this,r)}NT&&$E.warn("Extension method ".concat(e," couldn't be found, doing nothing."))}}function qC(){return VE.__SENTRY__=VE.__SENTRY__||{extensions:{},hub:void 0},VE}function KC(e){const t=qC(),n=XC(t);return QC(t,e),n}function GC(){const e=qC();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return JC(e)}function $C(){return GC().getIsolationScope()}function JC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qC();return YC(e)&&!XC(e).isOlderThan(VC)||QC(e,new HC),XC(e)}function YC(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function XC(e){return HE("hub",(()=>new HC),e)}function QC(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}const ZC=[];function eI(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"===typeof n?OT(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,(e=>"Debug"===e.name));if(-1!==i){const[e]=o.splice(i,1);o.push(e)}return o}function tI(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function nI(e,t,n){if(n[t.name])NT&&$E.log("Integration skipped because it was already installed: ".concat(t.name));else{if(n[t.name]=t,-1===ZC.indexOf(t.name)&&(t.setupOnce(zT,GC),ZC.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),e.on&&"function"===typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"===typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}NT&&$E.log("Integration installed: ".concat(t.name))}}function rI(e,t){return Object.assign((function(){return t(...arguments)}),{id:e})}const oI=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],iI=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],sI="InboundFilters",aI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:sI,setupOnce(){},processEvent(t,n,r){const o=r.getOptions(),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:oI],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:iI],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(jB){}return!1}(e))return NT&&$E.warn("Event dropped due to being internal Sentry Error.\nEvent: ".concat(CT(e))),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(jB){}n&&n.value&&(t.push(n.value),n.type&&t.push("".concat(n.type,": ").concat(n.value)));NT&&0===t.length&&$E.error("Could not extract message for event ".concat(CT(e)));return t}(e).some((e=>gT(e,t)))}(e,t.ignoreErrors))return NT&&$E.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(CT(e))),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&gT(n,t)}(e,t.ignoreTransactions))return NT&&$E.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(CT(e))),!0;if(function(e,t){if(!t||!t.length)return!1;const n=lI(e);return!!n&&gT(n,t)}(e,t.denyUrls))return NT&&$E.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(CT(e),".\nUrl: ").concat(lI(e))),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=lI(e);return!n||gT(n,t)}(e,t.allowUrls))return NT&&$E.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(CT(e),".\nUrl: ").concat(lI(e))),!0;return!1}(t,i)?null:t}}};rI(sI,aI);function lI(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(jB){}return t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return NT&&$E.error("Cannot extract url for event ".concat(CT(e))),null}}let cI;const uI="FunctionToString",dI=new WeakMap,hI=()=>({name:uI,setupOnce(){cI=Function.prototype.toString;try{Function.prototype.toString=function(){const e=wT(this),t=dI.has(EC())&&void 0!==e?e:this;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cI.apply(t,r)}}catch(jB){}},setup(e){dI.set(e,!0)}});rI(uI,hI);function pI(e,t){!0===t.debug&&(NT?$E.enable():GE((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));TC().update(t.initialScope);const n=new e(t);!function(e){const t=GC().getStackTop();t.client=e,t.scope.setClient(e)}(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}const fI=WE();function mI(){if(!("fetch"in fI))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(jB){return!1}}function gI(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const vI=WE();const yI={},bI={};function wI(e,t){yI[e]=yI[e]||[],yI[e].push(t)}function _I(e,t){bI[e]||(t(),bI[e]=!0)}function SI(e,t){const n=e&&yI[e];if(n)for(const r of n)try{r(t)}catch(jB){UE&&$E.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(ZT(r),"\nError:"),jB)}}const xI=VE;let kI;function AI(e){const t="history";wI(t,e),_I(t,EI)}function EI(){if(!function(){const e=vI.chrome,t=e&&e.app&&e.app.runtime,n="history"in vI&&!!vI.history.pushState&&!!vI.history.replaceState;return!t&&n}())return;const e=xI.onpopstate;function t(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n.length>2?n[2]:void 0;if(o){const e=kI,t=String(o);kI=t;SI("history",{from:e,to:t})}return e.apply(this,n)}}xI.onpopstate=function(){const t=xI.location.href,n=kI;kI=t;if(SI("history",{from:n,to:t}),e)try{for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.apply(this,o)}catch(s){}},vT(xI.history,"pushState",t),vT(xI.history,"replaceState",t)}const TI=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function CI(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:l}=e;return"".concat(a,"://").concat(l).concat(t&&o?":".concat(o):"")+"@".concat(n).concat(i?":".concat(i):"","/").concat(r?"".concat(r,"/"):r).concat(s)}function II(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function RI(e){const t="string"===typeof e?function(e){const t=TI.exec(e);if(!t)return void GE((()=>{console.error("Invalid Sentry Dsn: ".concat(e))}));const[n,r,o="",i,s="",a]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return II({host:i,pass:o,path:l,projectId:c,port:s,protocol:n,publicKey:r})}(e):II(e);if(t&&function(e){if(!UE)return!0;const{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find((t=>!e[t]&&($E.error("Invalid Sentry Dsn: ".concat(t," missing")),!0)))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?!t||!isNaN(parseInt(t,10))||($E.error("Invalid Sentry Dsn: Invalid port ".concat(t)),!1):($E.error("Invalid Sentry Dsn: Invalid protocol ".concat(r)),!1):($E.error("Invalid Sentry Dsn: Invalid projectId ".concat(n)),!1))}(t))return t}function PI(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function OI(e,t){const[n,r]=e;return[n,[...r,t]]}function NI(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function MI(e,t){return(t||new TextEncoder).encode(e)}function DI(e,t){const[n,r]=e;let o=JSON.stringify(n);function i(e){"string"===typeof o?o="string"===typeof e?o+e:[MI(o,t),e]:o.push("string"===typeof e?MI(e,t):e)}for(const s of r){const[e,t]=s;if(i("\n".concat(JSON.stringify(e),"\n")),"string"===typeof t||t instanceof Uint8Array)i(t);else{let e;try{e=JSON.stringify(t)}catch(jB){e=JSON.stringify(eC(t))}i(e)}}return"string"===typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}(o)}function jI(e,t){const n="string"===typeof e.data?MI(e.data,t):e.data;return[kT({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const LI={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function FI(e){return LI[e]}function zI(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function UI(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return Xi(Xi(Xi({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:CI(r)}),o&&{trace:kT(Xi({},o))})}class BI extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function VI(e){const t=e.protocol?"".concat(e.protocol,":"):"",n=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(n).concat(e.path?"/".concat(e.path):"","/api/")}function WI(e,t){return n=Xi({sentry_key:e.publicKey,sentry_version:"7"},t&&{sentry_client:"".concat(t.name,"/").concat(t.version)}),Object.keys(n).map((e=>"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e])))).join("&");var n}function HI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="string"===typeof t?t:t.tunnel,r="string"!==typeof t&&t._metadata?t._metadata.sdk:void 0;return n||"".concat(function(e){return"".concat(VI(e)).concat(e.projectId,"/envelope/")}(e),"?").concat(WI(e,r))}function qI(e,t,n,r){const o={sent_at:(new Date).toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=CI(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?"|#".concat(e.map((e=>{let[t,n]=e;return"".concat(t,":").concat(n)})).join(",")):"";t+="".concat(n.name,"@").concat(n.unit,":").concat(n.metric,"|").concat(n.metricType).concat(r,"|T").concat(n.timestamp,"\n")}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return PI(o,[i])}const KI="Not capturing exception because it's already been captured.";class GI{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=RI(e.dsn):NT&&$E.warn("No DSN provided, client will not send events."),this._dsn){const t=HI(this._dsn,e);this._transport=e.transport(Xi(Xi({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{},{url:t}))}}captureException(e,t,n){if(PT(e))return void(NT&&$E.log(KI));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const i=tT(e)?e:String(e),s=nT(e)?this.eventFromMessage(i,t,n):this.eventFromException(e,n);return this._process(s.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&PT(t.originalException))return void(NT&&$E.log(KI));let r=t&&t.event_id;const o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,o||n).then((e=>{r=e}))),r}captureSession(e){"string"!==typeof e.release?NT&&$E.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),GT(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):DT(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return NT&&$E.warn("Cannot retrieve integration ".concat(e.id," from the current Client")),null}}addIntegration(e){const t=this._integrations[e.name];nI(this,e,this._integrations),t||tI(this,[e])}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const o=zI(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=UI(e,o,r,t);return delete e.sdkProcessingMetadata,PI(s,[[{type:i},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of t.attachments||[])n=OI(n,jI(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const o=zI(n);return PI(Xi(Xi({sent_at:(new Date).toISOString()},o&&{sdk:o}),!!r&&t&&{dsn:CI(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"===typeof n?n:1,o="".concat(e,":").concat(t);NT&&$E.log('Recording outcome: "'.concat(o,'"').concat(r>1?" (".concat(r," times)"):"")),this._outcomes[o]=(this._outcomes[o]||0)+r}}captureAggregateMetrics(e){NT&&$E.log("Flushing aggregated metrics, number of metrics: ".concat(e.length));const t=qI(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._hooks[e]&&this._hooks[e].forEach((e=>e(...n)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&nI(e,t,n)})),n}(this,e),tI(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(GT(e,Xi(Xi({},n&&{status:"crashed"}),{},{errors:e.errors||Number(r||n)})),this.captureSession(e))}_isClientDoneProcessing(e){return new LT((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$C();const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),yC(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t=Xi(Xi({},r.getPropagationContext()),n?n.getPropagationContext():void 0);if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:i,dsc:s}=t;e.contexts=Xi({trace:{trace_id:r,span_id:o,parent_span_id:i}},e.contexts);const a=s||NC(r,this,n);e.sdkProcessingMetadata=Xi({dynamicSamplingContext:a},e.sdkProcessingMetadata)}return e}))}_captureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(NT){const t=e;"log"===t.logLevel?$E.log(t.message):$E.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,i=JI(e),s=$I(e),a=e.type||"error",l="before send for type `".concat(a,"`");if(s&&"number"===typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),jT(new BI("Discarding event because it's not included in the random sample (sampling rate = ".concat(o,")"),"log"));const c="replay_event"===a?"replay":a,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new BI("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if($I(t)&&r)return r(t,n);if(JI(t)&&o){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata=Xi(Xi({},t.sdkProcessingMetadata),{},{spanCountBeforeProcessing:e})}return o(t,n)}return t}(r,n,t);return function(e,t){const n="".concat(t," must return `null` or a valid event.");if(iT(e))return e.then((e=>{if(!rT(e)&&null!==e)throw new BI(n);return e}),(e=>{throw new BI("".concat(t," rejected with ").concat(e))}));if(!rT(e)&&null!==e)throw new BI(n);return e}(o,l)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",c,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new BI("".concat(l," returned `null`, will not send event."),"log")}const o=n&&n.getSession();if(!i&&o&&this._updateSessionFromEvent(o,r),i){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const s=r.transaction_info;if(i&&s&&r.transaction!==e.transaction){const e="custom";r.transaction_info=Xi(Xi({},s),{},{source:e})}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof BI)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new BI("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{NT&&$E.error("Error while sending event:",e)}));NT&&$E.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function $I(e){return void 0===e.type}function JI(e){return"transaction"===e.type}function YI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm";const o=e._metadata||{};o.sdk||(o.sdk={name:"sentry.javascript.".concat(t),packages:n.map((e=>({name:"".concat(r,":@sentry/").concat(e),version:BC}))),version:BC}),e._metadata=o}var XI=n(3086);const QI="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function ZI(e,t){const n=tR(e,t),r={type:t&&t.name,value:rR(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function eR(e,t){return{exception:{values:[ZI(e,t)]}}}function tR(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(nR.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(jB){}return[]}const nR=/Minified React error #\d+;/i;function rR(e){const t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function oR(e,t,n,r,o){let i;if(QE(t)&&t.error){return eR(e,t.error)}if(ZE(t)||XE(t,"DOMException")){const o=t;if("stack"in t)i=eR(e,t);else{const t=o.name||(ZE(o)?"DOMError":"DOMException"),s=o.message?"".concat(t,": ").concat(o.message):t;i=iR(e,s,n,r),IT(i,s)}return"code"in o&&(i.tags=Xi(Xi({},i.tags),{},{"DOMException.code":"".concat(o.code)})),i}if(YE(t))return eR(e,t);if(rT(t)||oT(t)){return i=function(e,t,n,r){const o=EC(),i=o&&o.getOptions().normalizeDepth,s={exception:{values:[{type:oT(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:sR(t,{isUnhandledRejection:r})}]},extra:{__serialized__:tC(t,i)}};if(n){const t=tR(e,n);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,t,n,o),RT(i,{synthetic:!0}),i}return i=iR(e,t,n,r),IT(i,"".concat(t),void 0),RT(i,{synthetic:!0}),i}function iR(e,t,n,r){const o={};if(r&&n){const r=tR(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(tT(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function sR(e,t){let{isUnhandledRejection:n}=t;const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;const n=Object.keys(_T(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return pT(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:pT(e,t)}return""}(e),o=n?"promise rejection":"exception";if(QE(e))return"Event `ErrorEvent` captured as ".concat(o," with message `").concat(e.message,"`");if(oT(e)){const t=function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(jB){}}(e);return"Event `".concat(t,"` (type=").concat(e.type,") captured as ").concat(o)}return"Object captured as ".concat(o," with keys: ").concat(r)}const aR=VE;let lR=0;function cR(){return lR>0}function uR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if("function"!==typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"===typeof t?t:e;if(wT(e))return e}catch(jB){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);const o=r.map((e=>uR(e,t)));return e.apply(this,o)}catch(o){throw lR++,setTimeout((()=>{lR--})),AC((e=>{e.addEventProcessor((e=>(t.mechanism&&(IT(e,void 0,void 0),RT(e,t.mechanism)),e.extra=Xi(Xi({},e.extra),{},{arguments:r}),e))),SC(o)})),o}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(o){}bT(r,e),yT(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(o){}return r}class dR extends GI{constructor(e){YI(e,"browser",["browser"],aR.SENTRY_SDK_SOURCE||(0,XI.e)()),super(e),e.sendClientReports&&aR.document&&aR.document.addEventListener("visibilitychange",(()=>{"hidden"===aR.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const o=oR(e,t,n&&n.syntheticException||void 0,r);return RT(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),DT(o)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const i=iR(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),DT(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(QI&&$E.warn("SDK not enabled, will not capture user feedback."));const t=function(e,t){let{metadata:n,tunnel:r,dsn:o}=t;const i=Xi(Xi({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}}),!!r&&!!o&&{dsn:CI(o)}),s=function(e){return[{type:"user_report"},e]}(e);return PI(i,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(QI&&$E.log("No outcomes to send"));if(!this._dsn)return void(QI&&$E.log("No dsn provided, will not send outcomes"));QI&&$E.log("Sending outcomes:",e);const t=(n=e,PI((r=this._options.tunnel&&CI(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||BT(),discarded_events:n}]]));var n,r,o;this._sendEnvelope(t)}}function hR(){"console"in VE&&qE.forEach((function(e){e in VE.console&&vT(VE.console,e,(function(t){return KE[e]=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];SI("console",{args:n,level:e});const o=KE[e];o&&o.apply(VE.console,n)}}))}))}const pR=VE;let fR,mR,gR;function vR(e){wI("dom",e),_I("dom",yR)}function yR(){if(!pR.document)return;const e=SI.bind(null,"dom"),t=bR(e,!0);pR.document.addEventListener("click",t,!1),pR.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=pR[t]&&pR[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(vT(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=i[n]=i[n]||{refCount:0};if(!s.handler){const r=bR(e);s.handler=r,t.call(this,n,r,o)}s.refCount++}catch(jB){}return t.call(this,n,r,o)}})),vT(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(jB){}return e.call(this,t,n,r)}})))}))}function bR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(jB){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;yT(n,"_sentryCaptured",!0),r&&!r._sentryId&&yT(r,"_sentryId",ET());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==mR)return!1;try{if(!e.target||e.target._sentryId!==gR)return!1}catch(jB){}return!0}(n)){e({event:n,name:o,global:t}),mR=n.type,gR=r?r._sentryId:void 0}clearTimeout(fR),fR=pR.setTimeout((()=>{gR=void 0,mR=void 0}),1e3)}}const wR=VE,_R="__sentry_xhr_v3__";function SR(e){wI("xhr",e),_I("xhr",xR)}function xR(){if(!wR.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;vT(e,"open",(function(e){return function(){const t=Date.now();for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const i=eT(r[0])?r[0].toUpperCase():void 0,s=function(e){if(eT(e))return e;try{return e.toString()}catch(t){}return}(r[1]);if(!i||!s)return e.apply(this,r);this[_R]={method:i,url:s,request_headers:{}},"POST"===i&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const a=()=>{const e=this[_R];if(e&&4===this.readyState){try{e.status_code=this.status}catch(jB){}SI("xhr",{args:[i,s],endTimestamp:Date.now(),startTimestamp:t,xhr:this})}};return"onreadystatechange"in this&&"function"===typeof this.onreadystatechange?vT(this,"onreadystatechange",(function(e){return function(){a();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}})):this.addEventListener("readystatechange",a),vT(this,"setRequestHeader",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const[o,i]=n,s=this[_R];return s&&eT(o)&&eT(i)&&(s.request_headers[o.toLowerCase()]=i),e.apply(this,n)}})),e.apply(this,r)}})),vT(e,"send",(function(e){return function(){const t=this[_R];for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!t)return e.apply(this,r);void 0!==r[0]&&(t.body=r[0]);return SI("xhr",{args:[t.method,t.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}}))}function kR(e){const t="fetch";wI(t,e),_I(t,AR)}function AR(){(function(){if("string"===typeof EdgeRuntime)return!0;if(!mI())return!1;if(gI(fI.fetch))return!0;let e=!1;const t=fI.document;if(t&&"function"===typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=gI(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){UE&&$E.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e})()&&vT(VE,"fetch",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const{method:o,url:i}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:TR(t),method:ER(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:TR(t),method:ER(t,"method")?String(t.method).toUpperCase():"GET"}}(n),s={args:n,fetchData:{method:o,url:i},startTimestamp:Date.now()};return SI("fetch",Xi({},s)),e.apply(VE,n).then((e=>(SI("fetch",Xi(Xi({},s),{},{endTimestamp:Date.now(),response:e})),e)),(e=>{throw SI("fetch",Xi(Xi({},s),{},{endTimestamp:Date.now(),error:e})),e}))}}))}function ER(e,t){return!!e&&"object"===typeof e&&!!e[t]}function TR(e){return"string"===typeof e?e:e?ER(e,"url")?e.url:e.toString?e.toString():"":""}const CR=["fatal","error","warning","log","info","debug"];function IR(e){return"warn"===e?"warning":CR.includes(e)?e:"log"}function RR(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const PR=1024,OR="Breadcrumbs",NR=function(){const e=Xi({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:OR,setupOnce(){},setup(t){e.console&&function(e){const t="console";wI(t,e),_I(t,hR)}(function(e){return function(t){if(EC()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:IR(t.level),message:fT(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message="Assertion failed: ".concat(fT(t.args.slice(1)," ")||"console.assert"),n.data.arguments=t.args.slice(1)}kC(n,{input:t.args,level:t.level})}}(t)),e.dom&&vR(function(e,t){return function(n){if(EC()!==e)return;let r,o,i="object"===typeof t?t.serializeAttribute:void 0,s="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>PR&&(QI&&$E.warn("`dom.maxStringLength` cannot exceed ".concat(PR,", but a value of ").concat(s," was configured. Sentry will use ").concat(PR," instead.")),s=PR),"string"===typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=uT(t,{keyAttrs:i,maxStringLength:s}),o=hT(t)}catch(jB){r="<unknown>"}if(0===r.length)return;const a={category:"ui.".concat(n.name),message:r};o&&(a.data={"ui.component_name":o}),kC(a,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&SR(function(e){return function(t){if(EC()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[_R];if(!n||!r||!o)return;const{method:i,url:s,status_code:a,body:l}=o;kC({category:"xhr",data:{method:i,url:s,status_code:a},type:"http"},{xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r})}}(t)),e.fetch&&kR(function(e){return function(t){if(EC()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){kC({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;kC({category:"fetch",data:Xi(Xi({},t.fetchData),{},{status_code:e&&e.status}),type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(t)),e.history&&AI(function(e){return function(t){if(EC()!==e)return;let n=t.from,r=t.to;const o=RR(aR.location.href);let i=n?RR(n):void 0;const s=RR(r);i&&i.path||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),kC({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on&&t.on("beforeSendEvent",function(e){return function(t){EC()===e&&kC({category:"sentry.".concat("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:CT(t)},{event:t})}}(t))}}};rI(OR,NR);const MR="Dedupe",DR=()=>{let e;return{name:MR,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!LR(e,t))return!1;if(!jR(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=FR(t),r=FR(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!LR(e,t))return!1;if(!jR(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return QI&&$E.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}};rI(MR,DR);function jR(e,t){let n=zR(e),r=zR(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function LR(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function FR(e){return e.exception&&e.exception.values&&e.exception.values[0]}function zR(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}let UR=null;function BR(e){const t="error";wI(t,e),_I(t,VR)}function VR(){UR=VE.onerror,VE.onerror=function(e,t,n,r,o){return SI("error",{column:r,error:o,line:n,msg:e,url:t}),!(!UR||UR.__SENTRY_LOADER__)&&UR.apply(this,arguments)},VE.onerror.__SENTRY_INSTRUMENTED__=!0}let WR=null;function HR(e){const t="unhandledrejection";wI(t,e),_I(t,qR)}function qR(){WR=VE.onunhandledrejection,VE.onunhandledrejection=function(e){return SI("unhandledrejection",e),!(WR&&!WR.__SENTRY_LOADER__)||WR.apply(this,arguments)},VE.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const KR="GlobalHandlers",GR=function(){const e=Xi({onerror:!0,onunhandledrejection:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:KR,setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(e){BR((t=>{const{stackParser:n,attachStacktrace:r}=YR();if(EC()!==e||cR())return;const{msg:o,url:i,line:s,column:a,error:l}=t,c=void 0===l&&eT(o)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=QE(e)?e.message:e,s="Error";const a=i.match(o);a&&(s=a[1],i=a[2]);const l={exception:{values:[{type:s,value:i}]}};return $R(l,t,n,r)}(o,i,s,a):$R(oR(n,l||o,void 0,r,!1),i,s,a);c.level="error",xC(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(t),JR("onerror")),e.onunhandledrejection&&(!function(e){HR((t=>{const{stackParser:n,attachStacktrace:r}=YR();if(EC()!==e||cR())return;const o=function(e){if(nT(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(n){}return e}(t),i=nT(o)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(o))}]}}:oR(n,o,void 0,r,!0);i.level="error",xC(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),JR("onunhandledrejection"))}}};rI(KR,GR);function $R(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=eT(t)&&t.length>0?t:function(){try{return cT.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function JR(e){QI&&$E.log("Global Handler attached: ".concat(e))}function YR(){const e=EC();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const XR="HttpContext",QR=()=>({name:XR,setupOnce(){},preprocessEvent(e){if(!aR.navigator&&!aR.location&&!aR.document)return;const t=e.request&&e.request.url||aR.location&&aR.location.href,{referrer:n}=aR.document||{},{userAgent:r}=aR.navigator||{},o=Xi(Xi(Xi({},e.request&&e.request.headers),n&&{Referer:n}),r&&{"User-Agent":r}),i=Xi(Xi(Xi({},e.request),t&&{url:t}),{},{headers:o});e.request=i}});rI(XR,QR);function ZR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(!i.exception||!i.exception.values||!s||!aT(s.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;a&&(i.exception.values=(l=eP(e,t,o,s.originalException,r,i.exception.values,a,0),c=n,l.map((e=>(e.value&&(e.value=pT(e.value,c)),e)))))}function eP(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let l=[...i];if(aT(r[o],Error)){tP(s,a);const i=e(t,r[o]),c=l.length;nP(i,o,c,a),l=eP(e,t,n,r[o],o,[i,...l],i,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(aT(r,Error)){tP(s,a);const c=e(t,r),u=l.length;nP(c,"errors[".concat(i,"]"),u,a),l=eP(e,t,n,r,o,[c,...l],c,u)}})),l}function tP(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=Xi(Xi(Xi({},e.mechanism),"AggregateError"===e.type&&{is_exception_group:!0}),{},{exception_id:t})}function nP(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=Xi(Xi({},e.mechanism),{},{type:"chained",source:t,exception_id:n,parent_id:r})}const rP="LinkedErrors",oP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.limit||5,n=e.key||"cause";return{name:rP,setupOnce(){},preprocessEvent(e,r,o){const i=o.getOptions();ZR(ZI,i.stackParser,i.maxValueLength,n,t,e,r)}}},iP=(rI(rP,oP),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"]),sP="TryCatch",aP=function(){const e=Xi({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:sP,setupOnce(){e.setTimeout&&vT(aR,"setTimeout",lP),e.setInterval&&vT(aR,"setInterval",lP),e.requestAnimationFrame&&vT(aR,"requestAnimationFrame",cP),e.XMLHttpRequest&&"XMLHttpRequest"in aR&&vT(XMLHttpRequest.prototype,"send",uP);const t=e.eventTarget;if(t){(Array.isArray(t)?t:iP).forEach(dP)}}}};rI(sP,aP);function lP(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0];return n[0]=uR(o,{mechanism:{data:{function:ZT(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function cP(e){return function(t){return e.apply(this,[uR(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ZT(e)},handled:!1,type:"instrument"}})])}}function uP(e){return function(){const t=this;["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in t&&"function"===typeof t[e]&&vT(t,e,(function(t){const n={mechanism:{data:{function:e,handler:ZT(t)},handled:!1,type:"instrument"}},r=wT(t);return r&&(n.mechanism.data.handler=ZT(r)),uR(t,n)}))}));for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(this,r)}}function dP(e){const t=aR,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(vT(n,"addEventListener",(function(t){return function(n,r,o){try{"function"===typeof r.handleEvent&&(r.handleEvent=uR(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ZT(r),target:e},handled:!1,type:"instrument"}}))}catch(i){}return t.apply(this,[n,uR(r,{mechanism:{data:{function:"addEventListener",handler:ZT(r),target:e},handled:!1,type:"instrument"}}),o])}})),vT(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(jB){}return e.call(this,t,o,r)}})))}const hP="?";function pP(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const fP=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mP=/\((\S*)(?::(\d+))(?::(\d+))\)/,gP=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,vP=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yP=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,bP=XT(...[[30,e=>{const t=fP.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=mP.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=wP(t[1]||hP,t[2]);return pP(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=gP.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=vP.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||hP;return[n,e]=wP(n,e),pP(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=yP.exec(e);return t?pP(t[2],t[1]||hP,+t[3],t[4]?+t[4]:void 0):void 0}]]),wP=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:hP,n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]};function _P(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return jT(new BI("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new LT(((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{DT(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}function SP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return function(e,t){return e[t]||e.all||0}(e,t)>n}function xP(e,t){let{statusCode:n,headers:r}=t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();const i=Xi({},e),s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(const l of s.trim().split(",")){const[e,t,,,n]=l.split(":",5),r=parseInt(e,10),s=1e3*(isNaN(r)?60:r);if(t)for(const a of t.split(";"))"metric_bucket"===a&&n&&!n.split(";").includes("custom")||(i[a]=o+s);else i.all=o+s}else a?i.all=o+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();const n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;const r=Date.parse("".concat(e));return isNaN(r)?6e4:r-t}(a,o):429===n&&(i.all=o+6e4);return i}function kP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_P(e.bufferSize||30),r={};function o(o){const i=[];if(NI(o,((t,n)=>{const o=FI(n);if(SP(r,o)){const r=AP(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(t)})),0===i.length)return DT();const s=PI(o[0],i),a=t=>{NI(s,((n,r)=>{const o=AP(n,r);e.recordDroppedEvent(t,FI(r),o)}))};return n.add((()=>t({body:DI(s,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&NT&&$E.warn("Sentry responded with status code ".concat(e.statusCode," to sent event.")),r=xP(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof BI)return NT&&$E.error("Skipped sending event because buffer is full."),a("queue_overflow"),DT();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function AP(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let EP;function TP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){if(EP)return EP;if(gI(aR.fetch))return EP=aR.fetch.bind(aR);const e=aR.document;let t=aR.fetch;if(e&&"function"===typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(jB){QI&&$E.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",jB)}return EP=t.bind(aR)}(),n=0,r=0;return kP(e,(function(o){const i=o.body.length;n+=i,r++;const s=Xi({body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);try{return t(e.url,s).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(jB){return EP=void 0,n-=i,r--,jT(jB)}}))}function CP(e){return kP(e,(function(t){return new LT(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const IP=[aI(),hI(),aP(),NR(),GR(),oP(),DR(),QR()];function RP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.defaultIntegrations&&(e.defaultIntegrations=[...IP]),void 0===e.release&&("string"===typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),aR.SENTRY_RELEASE&&aR.SENTRY_RELEASE.id&&(e.release=aR.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t=Xi(Xi({},e),{},{stackParser:(n=e.stackParser||bP,Array.isArray(n)?XT(...n):n),integrations:eI(e),transport:e.transport||(mI()?TP:CP)});var n;pI(dR,t),e.autoSessionTracking&&function(){if("undefined"===typeof aR.document)return void(QI&&$E.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));CC({ignoreDuration:!0}),PC(),AI((e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&(CC({ignoreDuration:!0}),PC())}))}()}let PP;function OP(e){return PP?PP.get(e):void 0}function NP(e){const t=OP(e);if(!t)return;const n={};for(const[,[r,o]]of t)n[r]||(n[r]=[]),n[r].push(kT(o));return n}const MP="sentry.source",DP="sentry.sample_rate",jP="sentry.op",LP="sentry.origin";var FP;function zP(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}!function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(FP||(FP={}));function UP(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=zP(t);"unknown_error"!==n&&e.setStatus(n)}class BP{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class VP{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||ET(),this._spanId=e.spanId||ET().substring(16),this._startTime=e.startTimestamp||VT(),this.tags=e.tags?Xi({},e.tags):{},this.data=e.data?Xi({},e.data):{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes(Xi({[LP]:e.origin||"manual",[jP]:e.op},e.attributes)),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?Xi({},e.measurements):{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[jP]}set op(e){this.setAttribute(jP,e)}get origin(){return this._attributes[LP]}set origin(e){this.setAttribute(LP,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}startChild(e){const t=new VP(Xi(Xi({},e),{},{parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId}));t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=OC(this);if(t.transaction=n,NT&&n){const r=e&&e.op||"< unknown op >",o=gC(t).description||"< unknown name >",i=n.spanContext().spanId,s="[Tracing] Starting '".concat(r,"' span on transaction '").concat(o,"' (").concat(i,").");$E.log(s),this._logMessage=s}return t}setTag(e,t){return this.tags=Xi(Xi({},this.tags),{},{[e]:t}),this}setData(e,t){return this.data=Xi(Xi({},this.data),{},{[e]:t}),this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return UP(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=OC(this);if(NT&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&$E.log(e.replace("Starting","Finishing"))}this._endTime=fC(e)}toTraceparent(){return pC(this)}toContext(){return kT({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return hC(this)}getSpanJSON(){return kT({data:this._getData(),description:this._name,op:this._attributes[jP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[LP],_metrics_summary:NP(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?Xi(Xi({},e),t):n?e:t}}function WP(e){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=EC(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function HP(e){if(!WP())return;const t=KP(e),n=GC(),r=e.scope?e.scope.getSpan():TC().getSpan();if(e.onlyIfParent&&!r)return;const o=(e.scope||TC()).clone();return qP(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function qP(e,t){let{parentSpan:n,spanContext:r,forceTransaction:o,scope:i}=t;if(!WP())return;const s=$C();let a;if(n&&!o)a=n.startChild(r);else if(n){const t=MC(n),{traceId:o,spanId:i}=n.spanContext(),s=vC(n);a=e.startTransaction(Xi(Xi({traceId:o,parentSpanId:i,parentSampled:s},r),{},{metadata:Xi({dynamicSamplingContext:t},r.metadata)}))}else{const{traceId:t,dsc:n,parentSpanId:o,sampled:l}=Xi(Xi({},s.getPropagationContext()),i.getPropagationContext());a=e.startTransaction(Xi(Xi({traceId:t,parentSpanId:o,parentSampled:l},r),{},{metadata:Xi({dynamicSamplingContext:n},r.metadata)}))}return i.setSpan(a),function(e,t,n){e&&(yT(e,$P,n),yT(e,GP,t))}(a,i,s),a}function KP(e){if(e.startTime){const t=Xi({},e);return t.startTimestamp=fC(e.startTime),delete t.startTime,t}return e}const GP="_sentryScope",$P="_sentryIsolationScope";class JP extends VP{constructor(e,t){super(e),this._contexts={},this._hub=t||GC(),this._name=e.name||"",this._metadata=Xi({},e.metadata),this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext=Xi({},n))}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return Xi(Xi(Xi({source:"custom",spanMetadata:{}},this._metadata),this._attributes[MP]&&{source:this._attributes[MP]}),this._attributes[DP]&&{sampleRate:this._attributes[DP]})}set metadata(e){this._metadata=e}setName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";this._name=e,this.setAttribute(MP,t)}updateName(e){return this._name=e,this}initSpanRecorder(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.spanRecorder||(this.spanRecorder=new BP(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata=Xi(Xi({},this._metadata),e)}end(e){const t=fC(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return kT(Xi(Xi({},super.toContext()),{},{name:this._name,trimEnd:this._trimEnd}))}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return MC(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(NT&&$E.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return NT&&$E.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&gC(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>gC(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:r,isolationScope:o}={scope:(i=this)[GP],isolationScope:i[$P]};var i;const{metadata:s}=this,{source:a}=s,l=Xi({contexts:Xi(Xi({},this._contexts),{},{trace:hC(this)}),spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:Xi(Xi({},s),{},{capturedSpanScope:r,capturedSpanIsolationScope:o},kT({dynamicSamplingContext:MC(this)})),_metrics_summary:NP(this)},a&&{transaction_info:{source:a}});return Object.keys(this._measurements).length>0&&(NT&&$E.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),NT&&$E.log("[Tracing] Finishing ".concat(this.op," transaction: ").concat(this._name,".")),l}}const YP={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},XP=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class QP extends BP{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){var t=this;if(e.spanContext().spanId!==this.transactionSpanId){const n=e.end;e.end=function(){t._popActivity(e.spanContext().spanId);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n.apply(e,o)},void 0===gC(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class ZP extends JP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:YP.idleTimeout,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:YP.finalTimeout,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:YP.heartbeatInterval,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=o,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=XP[4],this._autoFinishAllowed=!s,i&&(NT&&$E.log("Setting idle transaction on scope. Span ID: ".concat(this.spanContext().spanId)),t.getScope().setSpan(this)),s||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=XP[3],this.end())}),this._finalTimeout)}end(e){const t=fC(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){NT&&$E.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;gC(e).timestamp||(e.setStatus("cancelled"),e.end(t),NT&&$E.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:r}=gC(e),o=n&&n<t,i=(this._finalTimeout+this._idleTimeout)/1e3,s=r&&n&&r-n<i;if(NT){const t=JSON.stringify(e,void 0,2);o?s||$E.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):$E.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return o&&s})),NT&&$E.log("[Tracing] flushing IdleTransaction")}else NT&&$E.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new QP(t,n,this.spanContext().spanId,e),NT&&$E.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e){let{restartOnChildSpanChange:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{restartOnChildSpanChange:!0};this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=XP[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(NT&&$E.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=XP[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),NT&&$E.log("[Tracing] pushActivity: ".concat(e)),this.activities[e]=!0,NT&&$E.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(NT&&$E.log("[Tracing] popActivity ".concat(e)),delete this.activities[e],NT&&$E.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=VT();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=XP[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(NT&&$E.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=XP[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){NT&&$E.log("pinging Heartbeat -> current counter: ".concat(this._heartbeatCounter)),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function eO(e){return(e||GC()).getScope().getTransaction()}let tO=!1;function nO(){const e=eO();if(e){const t="internal_error";NT&&$E.log("[Tracing] Transaction: ".concat(t," -> Global error occured")),e.setStatus(t)}}function rO(e,t,n){if(!WP(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(DP,Number(e.sampled)),e;let r;return"function"===typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(DP,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:"undefined"!==typeof t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(DP,Number(r))):(r=1,e.setAttribute(DP,r)),oO(r)?r?(e.sampled=Math.random()<r,e.sampled?(NT&&$E.log("[Tracing] starting ".concat(e.op," transaction - ").concat(gC(e).description)),e):(NT&&$E.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(r),")")),e)):(NT&&$E.log("[Tracing] Discarding transaction because ".concat("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(NT&&$E.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function oO(e){return sT(e)||"number"!==typeof e&&"boolean"!==typeof e?(NT&&$E.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(e)," of type ").concat(JSON.stringify(typeof e),".")),!1):!(e<0||e>1)||(NT&&$E.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ".concat(e,".")),!1)}function iO(){const e=this.getScope().getSpan();return e?{"sentry-trace":pC(e)}:{}}function sO(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",i=e.instrumenter||"sentry";o!==i&&(NT&&$E.error("A transaction was started with instrumenter=`".concat(i,"`, but the SDK is configured with the `").concat(o,"` instrumenter.\nThe transaction will not be sampled. Please use the ").concat(o," instrumentation to start transactions.")),e.sampled=!1);let s=new JP(e,this);return s=rO(s,r,Xi({name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:Xi(Xi({},e.data),e.attributes)},t)),s.isRecording()&&s.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",s),s}function aO(e,t,n,r,o,i,s){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=e.getClient(),c=l&&l.getOptions()||{};let u=new ZP(t,e,n,r,s,o,a);return u=rO(u,c,Xi({name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:Xi(Xi({},t.data),t.attributes)},i)),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function lO(){const e=qC();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=sO),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=iO),tO||(tO=!0,BR(nO),HR(nO)))}nO.tag="sentry_tracingErrorCallback";const cO="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,uO=VE;const dO=(e,t,n)=>{let r,o;return i=>{t.value>=0&&(i||n)&&(o=t.value-(r||0),(o||void 0===r)&&(r=t.value,t.delta=o,e(t)))}},hO=()=>uO.__WEB_VITALS_POLYFILL__?uO.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=uO.performance.timing,t=uO.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n})()):uO.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],pO=()=>{const e=hO();return e&&e.activationStart||0},fO=(e,t)=>{const n=hO();let r="navigate";return n&&(r=uO.document&&uO.document.prerendering||pO()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},mO=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(jB){}},gO=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==uO.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};uO.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let vO=-1;const yO=()=>(vO<0&&(uO.document&&uO.document.visibilityState&&(vO="hidden"!==uO.document.visibilityState||uO.document.prerendering?1/0:0),gO((e=>{let{timeStamp:t}=e;vO=t}),!0)),{get firstHiddenTime(){return vO}});let bO=0,wO=1/0,_O=0;const SO=e=>{e.forEach((e=>{e.interactionId&&(wO=Math.min(wO,e.interactionId),_O=Math.max(_O,e.interactionId),bO=_O?(_O-wO)/7+1:0)}))};let xO;const kO=()=>xO?bO:performance.interactionCount||0,AO=[],EO={},TO=e=>{const t=AO[AO.length-1],n=EO[e.interactionId];if(n||AO.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};EO[t.id]=t,AO.push(t)}AO.sort(((e,t)=>t.latency-e.latency)),AO.splice(10).forEach((e=>{delete EO[e.id]}))}},CO=(e,t)=>{t=t||{},"interactionCount"in performance||xO||(xO=mO("event",SO,{type:"event",buffered:!0,durationThreshold:0}));const n=fO("INP");let r;const o=e=>{e.forEach((e=>{if(e.interactionId&&TO(e),"first-input"===e.entryType){!AO.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&TO(e)}}));const t=(()=>{const e=Math.min(AO.length-1,Math.floor(kO()/50));return AO[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},i=mO("event",o,{durationThreshold:t.durationThreshold||40});r=dO(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),gO((()=>{o(i.takeRecords()),n.value<0&&kO()>0&&(n.value=0,n.entries=[]),r(!0)})))},IO={},RO=e=>{uO.document&&(uO.document.prerendering?addEventListener("prerenderingchange",(()=>RO(e)),!0):"complete"!==uO.document.readyState?addEventListener("load",(()=>RO(e)),!0):setTimeout(e,0))},PO={},OO={};let NO,MO,DO,jO,LO;function FO(e){return KO("lcp",e,WO,DO,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function zO(e,t){return GO(e,t),OO[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);mO(e,(t=>{UO(e,{entries:t})}),t)}(e),OO[e]=!0),$O(e,t)}function UO(e,t){const n=PO[e];if(n&&n.length)for(const r of n)try{r(t)}catch(jB){cO&&$E.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(ZT(r),"\nError:"),jB)}}function BO(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=fO("CLS",0);let r,o=0,i=[];const s=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=i[0],s=i[i.length-1];o&&0!==i.length&&e.startTime-s.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e]),o>n.value&&(n.value=o,n.entries=i,r&&r())}}))},a=mO("layout-shift",s);if(a){r=dO(e,n,t.reportAllChanges);const o=()=>{s(a.takeRecords()),r(!0)};return gO(o),o}}((e=>{UO("cls",{metric:e}),NO=e}),{reportAllChanges:!0})}function VO(){return(e=>{const t=yO(),n=fO("FID");let r;const o=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},i=e=>{e.forEach(o)},s=mO("first-input",i);r=dO(e,n),s&&gO((()=>{i(s.takeRecords()),s.disconnect()}),!0)})((e=>{UO("fid",{metric:e}),MO=e}))}function WO(){return(e=>{const t=yO(),n=fO("LCP");let r;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-pO(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[o],r())}},i=mO("largest-contentful-paint",o);if(i){r=dO(e,n);const t=()=>{IO[n.id]||(o(i.takeRecords()),i.disconnect(),IO[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{uO.document&&addEventListener(e,t,{once:!0,capture:!0})})),gO(t,!0),t}})((e=>{UO("lcp",{metric:e}),DO=e}))}function HO(){return((e,t)=>{t=t||{};const n=fO("TTFB"),r=dO(e,n,t.reportAllChanges);RO((()=>{const e=hO();if(e){if(n.value=Math.max(e.responseStart-pO(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))})((e=>{UO("ttfb",{metric:e}),jO=e}))}function qO(){return CO((e=>{UO("inp",{metric:e}),LO=e}))}function KO(e,t,n,r){let o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return GO(e,t),OO[e]||(o=n(),OO[e]=!0),r&&t({metric:r}),$O(e,t,i?o:void 0)}function GO(e,t){PO[e]=PO[e]||[],PO[e].push(t)}function $O(e,t,n){return()=>{n&&n();const r=PO[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}function JO(e){return[{type:"span"},e]}const YO=["startTimestamp"];function XO(e){return"number"===typeof e&&isFinite(e)}function QO(e,t){let{startTimestamp:n}=t,r=function(e,t){if(null==e)return{};var n,r,o=(0,Qe.A)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,YO);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild(Xi({startTimestamp:n},r))}function ZO(e){return e/1e3}function eN(){return uO&&uO.addEventListener&&uO.performance}let tN,nN,rN=0,oN={};function iN(){const e=eN();if(e&&HT){e.mark&&uO.performance.mark("sentry-tracing-init");const t=function(e){return KO("fid",e,VO,MO)}((e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];if(!n)return;const r=ZO(HT),o=ZO(n.startTime);cO&&$E.log("[Measurements] Adding FID"),oN.fid={value:t.value,unit:"millisecond"},oN["mark.fid"]={value:r+o,unit:"second"}})),n=function(e){return KO("cls",e,BO,NO,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}((e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(cO&&$E.log("[Measurements] Adding CLS"),oN.cls={value:t.value,unit:""},nN=n)}),!0),r=FO((e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(cO&&$E.log("[Measurements] Adding LCP"),oN.lcp={value:t.value,unit:"millisecond"},tN=n)}),!0),o=function(e){return KO("ttfb",e,HO,jO)}((e=>{let{metric:t}=e;t.entries[t.entries.length-1]&&(cO&&$E.log("[Measurements] Adding TTFB"),oN.ttfb={value:t.value,unit:"millisecond"})}));return()=>{t(),n(),r(),o()}}return()=>{}}function sN(e,t){if(eN()&&HT){const n=function(e,t){return function(e){return KO("inp",e,qO,LO)}((n=>{let{metric:r}=n;if(void 0===r.value)return;const o=r.entries.find((e=>e.duration===r.value&&void 0!==aN[e.name])),i=EC();if(!o||!i)return;const s=aN[o.name],a=i.getOptions(),l=ZO(HT+o.startTime),c=ZO(r.value),u=void 0!==o.interactionId?e[o.interactionId]:void 0;if(void 0===u)return;const{routeName:d,parentContext:h,activeTransaction:p,user:f,replayId:m}=u,g=void 0!==f?f.email||f.id||f.ip_address:void 0,v=void 0!==p?p.getProfileId():void 0,y=new VP({startTimestamp:l,endTimestamp:l+c,op:"ui.interaction.".concat(s),name:uT(o.target),attributes:Xi(Xi(Xi({release:a.release,environment:a.environment,transaction:d},void 0!==g&&""!==g?{user:g}:{}),void 0!==v?{profile_id:v}:{}),void 0!==m?{replay_id:m}:{}),exclusiveTime:r.value,measurements:{inp:{value:r.value,unit:"millisecond"}}}),b=function(e,t,n){if(!WP(t))return!1;let r;r=void 0!==e&&"function"===typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:Xi(Xi({},e.data),e.attributes),location:uO.location}):void 0!==e&&void 0!==e.sampled?e.sampled:"undefined"!==typeof t.tracesSampleRate?t.tracesSampleRate:1;if(!oO(r))return cO&&$E.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1;if(!0===r)return n;if(!1===r)return 0;return r*n}(h,a,t);if(b)if(Math.random()<b){const e=y?function(e,t){const n={sent_at:(new Date).toISOString()};return t&&(n.dsn=CI(t)),PI(n,e.map(JO))}([y],i.getDsn()):void 0,t=i&&i.getTransport();t&&e&&t.send(e).then(null,(e=>{cO&&$E.error("Error while sending interaction:",e)}))}else;}))}(e,t);return()=>{n()}}return()=>{}}const aN={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function lN(e){const t=eN();if(!t||!uO.performance.getEntries||!HT)return;cO&&$E.log("[Tracing] Adding & adjusting spans using Performance API");const n=ZO(HT),r=t.getEntries(),{op:o,start_timestamp:i}=gC(e);if(r.slice(rN).forEach((t=>{const r=ZO(t.startTime),o=ZO(t.duration);if(!("navigation"===e.op&&i&&n+r<i))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{cN(e,t,r,n)})),cN(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),cN(e,t,"fetch",n,"cache","domainLookupStart"),cN(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(QO(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ZO(t.requestStart),endTimestamp:n+ZO(t.responseEnd)}),QO(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ZO(t.responseStart),endTimestamp:n+ZO(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o){const i=o+n,s=i+r;QO(e,{description:t.name,endTimestamp:s,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(e,t,r,o,n);const i=yO(),s=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&s&&(cO&&$E.log("[Measurements] Adding FP"),oN.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&s&&(cO&&$E.log("[Measurements] Adding FCP"),oN.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,o,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const s=RR(n),a={};uN(a,t,"transferSize","http.response_transfer_size"),uN(a,t,"encodedBodySize","http.response_content_length"),uN(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop());s.host&&(a["server.address"]=s.host);a["url.same_origin"]=n.includes(uO.location.origin);const l=i+r,c=l+o;QO(e,{description:n.replace(uO.location.origin,""),endTimestamp:c,op:t.initiatorType?"resource.".concat(t.initiatorType):"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}(e,t,t.name,r,o,n)}})),rN=Math.max(r.length-1,0),function(e){const t=uO.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),XO(n.rtt)&&(oN["connection.rtt"]={value:n.rtt,unit:"millisecond"}));XO(t.deviceMemory)&&e.setTag("deviceMemory","".concat(t.deviceMemory," GB"));XO(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){!function(e){const t=hO();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(cO&&$E.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(oN),["fcp","fp","lcp"].forEach((e=>{if(!oN[e]||!i||n>=i)return;const t=oN[e].value,r=n+ZO(t),o=Math.abs(1e3*(r-i)),s=o-t;cO&&$E.log("[Measurements] Normalized ".concat(e," from ").concat(t," to ").concat(o," (").concat(s,")")),oN[e].value=o}));const t=oN["mark.fid"];t&&oN.fid&&(QO(e,{description:"first input delay",endTimestamp:t.value+ZO(oN.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete oN["mark.fid"]),"fcp"in oN||delete oN.cls,Object.keys(oN).forEach((e=>{!function(e,t,n){const r=eO();r&&r.setMeasurement(e,t,n)}(e,oN[e].value,oN[e].unit)})),function(e){tN&&(cO&&$E.log("[Measurements] Adding LCP Data"),tN.element&&e.setTag("lcp.element",uT(tN.element)),tN.id&&e.setTag("lcp.id",tN.id),tN.url&&e.setTag("lcp.url",tN.url.trim().slice(0,200)),e.setTag("lcp.size",tN.size));nN&&nN.sources&&(cO&&$E.log("[Measurements] Adding CLS Data"),nN.sources.forEach(((t,n)=>e.setTag("cls.source.".concat(n+1),uT(t.node)))))}(e)}tN=void 0,nN=void 0,oN={}}function cN(e,t,n,r,o,i){const s=i?t[i]:t["".concat(n,"End")],a=t["".concat(n,"Start")];a&&s&&QO(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+ZO(a),endTimestamp:r+ZO(s)})}function uN(e,t,n,r){const o=t[n];null!=o&&o<2147483647&&(e[r]=o)}function dN(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto.http.browser";if(!WP()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){UP(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const s=TC(),a=EC(),{method:l,url:c}=e.fetchData,u=function(e){try{return new URL(e).href}catch(jB){return}}(c),d=u?RR(u).host:void 0,h=i?HP({name:"".concat(l," ").concat(c),onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[LP]:o},op:"http.client"}):void 0;if(h&&(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(e.fetchData.url)&&a){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,o){const i=o||n.getSpan(),s=$C(),{traceId:a,spanId:l,sampled:c,dsc:u}=Xi(Xi({},s.getPropagationContext()),n.getPropagationContext()),d=i?pC(i):dC(a,l,c),h=sC(u||(i?MC(i):NC(a,t,n))),p=r.headers||("undefined"!==typeof Request&&aT(e,Request)?e.headers:void 0);if(p){if("undefined"!==typeof Headers&&aT(p,Headers)){const e=new Headers(p);return e.append("sentry-trace",d),h&&e.append(rC,h),e}if(Array.isArray(p)){const e=[...p,["sentry-trace",d]];return h&&e.push([rC,h]),e}{const e="baggage"in p?p.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),h&&t.push(h),Xi(Xi({},p),{},{"sentry-trace":d,baggage:t.length>0?t.join(","):void 0})}}return{"sentry-trace":d,baggage:h}}(t,a,s,n,h)}return h}const hN=["localhost",/^\/(?!\/)/],pN={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:hN,tracePropagationTargets:hN};function fN(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s}=Xi({traceFetch:pN.traceFetch,traceXHR:pN.traceXHR},e),a="function"===typeof i?i:e=>!0,l=e=>function(e,t){return gT(e,t||hN)}(e,r||o),c={};t&&kR((e=>{const t=dN(e,a,l,c);if(t){const n=vN(e.fetchData.url),r=n?RR(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}s&&t&&mN(t)})),n&&SR((e=>{const t=function(e,t,n,r){const o=e.xhr,i=o&&o[_R];if(!WP()||!o||o.__sentry_own_request__||!i)return;const s=t(i.url);if(e.endTimestamp&&s){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==i.status_code&&(UP(t,i.status_code),t.end(),delete r[e]))}const a=TC(),l=$C(),c=vN(i.url),u=c?RR(c).host:void 0,d=s?HP({name:"".concat(i.method," ").concat(i.url),onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":c,url:i.url,"server.address":u,[LP]:"auto.http.browser"},op:"http.client"}):void 0;d&&(o.__sentry_xhr_span_id__=d.spanContext().spanId,r[o.__sentry_xhr_span_id__]=d);const h=EC();if(o.setRequestHeader&&n(i.url)&&h){const{traceId:e,spanId:t,sampled:n,dsc:r}=Xi(Xi({},l.getPropagationContext()),a.getPropagationContext());!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(rC,n)}catch(r){}}(o,d?pC(d):dC(e,t,n),sC(r||(d?MC(d):NC(e,h,a))))}return d}(e,a,l,c);s&&t&&mN(t)}))}function mN(e){const{url:t}=gC(e).data||{};if(!t||"string"!==typeof t)return;const n=zO("resource",(r=>{let{entries:o}=r;o.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!HT)return r;return[...r,["http.request.redirect_start",gN(e.redirectStart)],["http.request.fetch_start",gN(e.fetchStart)],["http.request.domain_lookup_start",gN(e.domainLookupStart)],["http.request.domain_lookup_end",gN(e.domainLookupEnd)],["http.request.connect_start",gN(e.connectStart)],["http.request.secure_connection_start",gN(e.secureConnectionStart)],["http.request.connection_end",gN(e.connectEnd)],["http.request.request_start",gN(e.requestStart)],["http.request.response_start",gN(e.responseStart)],["http.request.response_end",gN(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function gN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return((HT||performance.timeOrigin)+e)/1e3}function vN(e){try{return new URL(e,uO.location.origin).href}catch(jB){return}}const yN=Xi(Xi({},YP),{},{markBackgroundTransactions:!0,routingInstrumentation:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!uO||!uO.location)return void(cO&&$E.warn("Could not initialize routing instrumentation due to invalid location"));let r,o=uO.location.href;t&&(r=e({name:uO.location.pathname,startTimestamp:HT?HT/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&AI((t=>{let{to:n,from:i}=t;void 0===i&&o&&-1!==o.indexOf(n)?o=void 0:i!==n&&(o=void 0,r&&(cO&&$E.log("[Tracing] Finishing current transaction with op: ".concat(r.op)),r.end()),r=e({name:uO.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{}},pN);function bN(e){const t=(n="meta[name=".concat(e,"]"),cT.document&&cT.document.querySelector?cT.document.querySelector(n):null);var n;return t?t.getAttribute("content"):void 0}function wN(e){const t=e.attributes&&e.attributes[MP],n=e.data&&e.data[MP],r=e.metadata&&e.metadata.source;return t||n||r}function _N(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.call(t,...r)})),t=void 0)}return n}function SN(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),o=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return xN(e)===xN(t)}(e,o)}function xN(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var kN=n(2433);function AN(){return"undefined"!==typeof window&&(!(0,kN.wD)()||void 0!==VE.process&&"renderer"===VE.process.type)}const EN=VE,TN="sentryReplaySession",CN="Unable to send Replay",IN=5e3,RN=5500,PN=15e4,ON=5e3,NN=2e7,MN=4999,DN=36e5;function jN(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.call(t,...r)})),t=void 0)}return n}var LN,FN;function zN(e){const t=jN([e,"optionalAccess",e=>e.host]);return Boolean(jN([t,"optionalAccess",e=>e.shadowRoot])===e)}function UN(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function BN(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,VN).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(LB){return null}var t}function VN(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=BN(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?n.push("layer"):e.layerName&&n.push("layer(".concat(e.layerName,")")),e.supportsText&&n.push("supports(".concat(e.supportsText,")")),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(LB){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}(FN=LN||(LN={}))[FN.Document=0]="Document",FN[FN.DocumentType=1]="DocumentType",FN[FN.Element=2]="Element",FN[FN.Text=3]="Text",FN[FN.CDATA=4]="CDATA",FN[FN.Comment=5]="Comment";class WN{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=jN([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return r=()=>-1,null!=(n=t)?n:r();var n,r}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function HN(e){let{maskInputOptions:t,tagName:n,type:r}=e;return"OPTION"===n&&(n="SELECT"),Boolean(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function qN(e){let{isMasked:t,element:n,value:r,maskInputFn:o}=e,i=r||"";return t?(o&&(i=o(i,n)),"*".repeat(i.length)):i}function KN(e){return e.toLowerCase()}function GN(e){return e.toUpperCase()}const $N="__rrweb_original__";function JN(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?KN(t):null}function YN(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let XN=1;const QN=new RegExp("[^a-z0-9-_:]");function ZN(){return XN++}let eM,tM;const nM=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,rM=/^(?:[a-z+]+:)?\/\//i,oM=/^www\..*/i,iM=/^(data:)([^,]*),(.*)/i;function sM(e,t){return(e||"").replace(nM,((e,n,r,o,i,s)=>{const a=r||i||s,l=n||o||"";if(!a)return e;if(rM.test(a)||oM.test(a))return"url(".concat(l).concat(a).concat(l,")");if(iM.test(a))return"url(".concat(l).concat(a).concat(l,")");if("/"===a[0])return"url(".concat(l).concat(function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a).concat(l,")");const c=t.split("/"),u=a.split("/");c.pop();for(const t of u)"."!==t&&(".."===t?c.pop():c.push(t));return"url(".concat(l).concat(c.join("/")).concat(l,")")}))}const aM=/^[^ \t\n\r\u000c]+/,lM=/^[, \t\n\r\u000c]+/;function cM(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function uM(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function dM(){const e=document.createElement("a");return e.href="",e.href}function hM(e,t,n,r,o,i){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?cM(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const o=e.exec(t.substring(n));return o?(r=o[0],n+=r.length,r):""}const o=[];for(;r(lM),!(n>=t.length);){let i=r(aM);if(","===i.slice(-1))i=cM(e,i.substring(0,i.length-1)),o.push(i);else{let r="";i=cM(e,i);let s=!1;for(;;){const e=t.charAt(n);if(""===e){o.push((i+r).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,o.push((i+r).trim());break}"("===e&&(s=!0)}r+=e,n+=1}}}return o.join(", ")}(e,r):"style"===n?sM(r,dM()):"object"===t&&"data"===n?cM(e,r):"function"===typeof i?i(n,r,o):r:cM(e,r):r}function pM(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function fM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:fM(e.parentNode,t,n,r+1):-1}function mM(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"===typeof e){if(r.matches(".".concat(e)))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(o){return!1}}}function gM(e,t,n,r,o,i){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===s)return!1;if("INPUT"===s.tagName){const e=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,l=-1;if(i){if(l=fM(s,mM(r,o)),l<0)return!0;a=fM(s,mM(t,n),l>=0?l:1/0)}else{if(a=fM(s,mM(t,n)),a<0)return!1;l=fM(s,mM(r,o),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!i}catch(jB){}return!!i}function vM(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:v={},inlineImages:y,recordCanvas:b,keepIframeSrcFn:w,newlyAddedElement:_=!1}=t,S=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:LN.Document,childNodes:[],compatMode:e.compatMode}:{type:LN.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:LN.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:S};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:f=!1,rootId:m,maskAllText:g,maskTextClass:v,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:w}=t,_=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"===typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(jB){}return!1}(e,r,o,i),S=function(e){if(e instanceof HTMLFormElement)return"form";const t=KN(e.tagName);return QN.test(t)?"div":t}(e);let x={};const k=e.attributes.length;for(let E=0;E<k;E++){const t=e.attributes[E];t.name&&!pM(S,t.name,t.value)&&(x[t.name]=hM(n,S,KN(t.name),t.value,e,l))}if("link"===S&&s){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=BN(t)),r&&(delete x.rel,delete x.href,x._cssText=sM(r,t.href))}if("style"===S&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=BN(e.sheet);t&&(x._cssText=sM(t,dM()))}if("input"===S||"textarea"===S||"select"===S||"option"===S){const t=e,n=JN(t),r=YN(t,GN(S),n),o=t.checked;if("submit"!==n&&"button"!==n&&r){const e=gM(t,v,b,y,w,HN({type:n,tagName:GN(S),maskInputOptions:a}));x.value=qN({isMasked:e,element:t,value:r,maskInputFn:c})}o&&(x.checked=o)}"option"===S&&(e.selected&&!a.select?x.selected=!0:delete x.selected);if("canvas"===S&&h)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const o=t.getImageData,i=$N in o?o[$N]:o;if(new Uint32Array(i.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(x.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(u.type,u.quality)&&(x.rr_dataURL=t)}if("img"===S&&d){eM||(eM=n.createElement("canvas"),tM=eM.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const o=()=>{t.removeEventListener("load",o);try{eM.width=t.naturalWidth,eM.height=t.naturalHeight,tM.drawImage(t,0,0),x.rr_dataURL=eM.toDataURL(u.type,u.quality)}catch(e){console.warn("Cannot inline img src=".concat(t.currentSrc,"! Error: ").concat(e))}r?x.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}"audio"!==S&&"video"!==S||(x.rr_mediaState=e.paused?"paused":"played",x.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(x.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(x.rr_scrollTop=e.scrollTop));if(_){const{width:t,height:n}=e.getBoundingClientRect();x={class:x.class,rr_width:"".concat(t,"px"),rr_height:"".concat(n,"px")}}"iframe"!==S||p(x.src)||(e.contentDocument||(x.rr_src=x.src),delete x.src);let A;try{customElements.get(S)&&(A=!0)}catch(jB){}return{type:LN.Element,tagName:S,attributes:x,childNodes:[],isSVG:uM(e)||void 0,needBlock:_,rootId:m,isCustom:A}}(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:f,maskInputFn:g,dataURLOptions:v,inlineImages:y,recordCanvas:b,keepIframeSrcFn:w,newlyAddedElement:_,rootId:S,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const p="STYLE"===d||void 0,f="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(p&&h){try{e.nextSibling||e.previousSibling||jN([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(h=BN(e.parentNode.sheet))}catch(v){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(v),e)}h=sM(h,dM())}f&&(h="SCRIPT_PLACEHOLDER");const g=gM(e,r,i,o,s,n);p||f||m||!h||!g||(h=a?a(h,e.parentElement):h.replace(/[\S]/g,"*"));m&&h&&(l.textarea||g)&&(h=c?c(h,e.parentNode):h.replace(/[\S]/g,"*"));if("OPTION"===d&&h){h=qN({isMasked:gM(e,r,i,o,s,HN({type:null,tagName:d,maskInputOptions:l})),element:e,value:h,maskInputFn:c})}return{type:LN.Text,textContent:h||"",isStyle:p,rootId:u}}(e,{maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:S});case e.CDATA_SECTION_NODE:return{type:LN.CDATA,textContent:"",rootId:S};case e.COMMENT_NODE:return{type:LN.Comment,textContent:e.textContent||"",rootId:S};default:return!1}}function yM(e){return void 0===e||null===e?"":e.toLowerCase()}function bM(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:b={},inlineImages:w=!1,recordCanvas:_=!1,onSerialize:S,onIframeLoad:x,iframeLoadTimeout:k=5e3,onStylesheetLoad:A,stylesheetLoadTimeout:E=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:C=!1}=t;let{preserveWhiteSpace:I=!0}=t;const R=vM(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,dataURLOptions:b,inlineImages:w,recordCanvas:_,keepIframeSrcFn:T,newlyAddedElement:C});if(!R)return console.warn(e,"not serialized"),null;let P;P=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===LN.Comment)return!0;if(e.type===LN.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"===typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(yM(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===yM(e.attributes.name)||"icon"===yM(e.attributes.rel)||"apple-touch-icon"===yM(e.attributes.rel)||"shortcut icon"===yM(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&yM(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(yM(e.attributes.property).match(/^(og|twitter|fb):/)||yM(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===yM(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===yM(e.attributes.name)||"googlebot"===yM(e.attributes.name)||"bingbot"===yM(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===yM(e.attributes.name)||"generator"===yM(e.attributes.name)||"framework"===yM(e.attributes.name)||"publisher"===yM(e.attributes.name)||"progid"===yM(e.attributes.name)||yM(e.attributes.property).match(/^article:/)||yM(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===yM(e.attributes.name)||"yandex-verification"===yM(e.attributes.name)||"csrf-token"===yM(e.attributes.name)||"p:domain_verify"===yM(e.attributes.name)||"verify-v1"===yM(e.attributes.name)||"verification"===yM(e.attributes.name)||"shopify-checkout-api-token"===yM(e.attributes.name)))return!0}}return!1}(R,y)&&(I||R.type!==LN.Text||R.isStyle||R.textContent.replace(/^\s+|\s+$/gm,"").length)?ZN():-2;const O=Object.assign(R,{id:P});if(r.add(e,O),-2===P)return null;S&&S(e);let N=!h;if(O.type===LN.Element){N=N&&!O.needBlock,delete O.needBlock;const t=e.shadowRoot;t&&UN(t)&&(O.isShadowHost=!0)}if((O.type===LN.Document||O.type===LN.Element)&&N){y.headWhitespace&&O.type===LN.Element&&"head"===O.tagName&&(I=!1);const t={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:b,inlineImages:w,recordCanvas:_,preserveWhiteSpace:I,onSerialize:S,onIframeLoad:x,iframeLoadTimeout:k,onStylesheetLoad:A,stylesheetLoadTimeout:E,keepIframeSrcFn:T};for(const n of Array.from(e.childNodes)){const e=bM(n,t);e&&O.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=bM(n,t);r&&(UN(e.shadowRoot)&&(r.isShadow=!0),O.childNodes.push(r))}}return e.parentNode&&zN(e.parentNode)&&UN(e.parentNode)&&(O.isShadow=!0),O.type===LN.Element&&"iframe"===O.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let o,i=!1;try{o=r.document.readyState}catch(LB){return}if("complete"!==o){const r=setTimeout((()=>{i||(t(),i=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),i=!0,t()}))}const s="about:blank";if(r.location.href!==s||e.src===s||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&x){const n=bM(t,{doc:t,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:b,inlineImages:w,recordCanvas:_,preserveWhiteSpace:I,onSerialize:S,onIframeLoad:x,iframeLoadTimeout:k,onStylesheetLoad:A,stylesheetLoadTimeout:E,keepIframeSrcFn:T});n&&x(e,n)}}),k),O.type===LN.Element&&"link"===O.tagName&&"stylesheet"===O.attributes.rel&&function(e,t,n){let r,o=!1;try{r=e.sheet}catch(LB){return}if(r)return;const i=setTimeout((()=>{o||(t(),o=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(i),o=!0,t()}))}(e,(()=>{if(A){const t=bM(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:b,inlineImages:w,recordCanvas:_,preserveWhiteSpace:I,onSerialize:S,onIframeLoad:x,iframeLoadTimeout:k,onStylesheetLoad:A,stylesheetLoadTimeout:E,keepIframeSrcFn:T});t&&A(e,t)}}),E),O}function wM(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.call(t,...r)})),t=void 0)}return n}function _M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const SM="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let xM={map:{},getId:()=>(console.error(SM),-1),getNode:()=>(console.error(SM),null),removeNodeFromMap(){console.error(SM)},has:()=>(console.error(SM),!1),reset(){console.error(SM)}};function kM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,o=0;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const l=Date.now();o||!1!==n.leading||(o=l);const c=t-(l-o),u=this;c<=0||c>t?(r&&(!function(){HM("clearTimeout")(...arguments)}(r),r=null),o=l,e.apply(u,s)):r||!1===n.trailing||(r=qM((()=>{o=!1===n.leading?0:Date.now(),r=null,e.apply(u,s)}),c))}}function AM(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){qM((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>AM(e,t,i||{},!0)}function EM(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"===typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(r){return()=>{}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(xM=new Proxy(xM,{get:(e,t,n)=>("map"===t&&console.error(SM),Reflect.get(e,t,n))}));let TM=Date.now;function CM(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:wM([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||wM([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||wM([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:wM([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||wM([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||wM([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function IM(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function RM(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function PM(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function OM(e,t,n,r,o){if(!e)return!1;const i=PM(e);if(!i)return!1;const s=mM(t,n);if(!o){const e=r&&i.matches(r);return s(i)&&!e}const a=fM(i,s);let l=-1;return!(a<0)&&(r&&(l=fM(i,mM(null,r))),a>-1&&l<0||a<l)}function NM(e,t){return-2===t.getId(e)}function MM(e,t){if(zN(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||MM(e.parentNode,t))}function DM(e){return Boolean(e.changedTouches)}function jM(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function LM(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function FM(e){return Boolean(wM([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(TM=()=>(new Date).getTime());class zM{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function UM(e){let t=null;return wM([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function BM(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=UM(n);)n=t;return n}(e);return t.contains(n)}function VM(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||BM(e))}const WM={};function HM(e){const t=WM[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(jB){}return WM[e]=r.bind(window)}function qM(){return HM("setTimeout")(...arguments)}var KM=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(KM||{}),GM=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(GM||{}),$M=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))($M||{}),JM=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(JM||{});function YM(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.call(t,...r)})),t=void 0)}return n}function XM(e){return"__ln"in e}class QM{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=YM([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&XM(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&XM(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const ZM=(e,t)=>"".concat(e,"@").concat(t);class eD{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new QM,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},o=o=>{if(!o.parentNode||!VM(o))return;const i=zN(o.parentNode)?this.mirror.getId(UM(o)):this.mirror.getId(o.parentNode),s=r(o);if(-1===i||-1===s)return n.addNode(o);const a=bM(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{jM(e,this.mirror)&&this.iframeManager.addIframe(e),LM(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),FM(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:i,nextId:s,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)nD(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||o(a);for(const a of this.addedSet)oD(this.droppedSet,a)||nD(this.removes,a,this.mirror)?oD(this.movedSet,a)?o(a):this.droppedSet.add(a):o(a);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),o(e.value)}const s={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"===typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!NM(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;OM(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:gM(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,PM(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=JN(t),o=t.tagName;r=YN(t,o,n);const i=HN({maskInputOptions:this.maskInputOptions,tagName:o,type:n});r=qN({isMasked:gM(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:t,value:r,maskInputFn:this.maskInputFn})}if(OM(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let o=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(t.contentDocument)return;n="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!pM(t.tagName,n)&&(o.attributes[n]=hM(this.doc,KN(t.tagName),KN(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(jB){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),i=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||i!==n.style.getPropertyPriority(e)?o.styleDiff[e]=""===i?r:[r,i]:o._unchangedStyles[e]=[r,i]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(OM(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=zN(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);OM(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||NM(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(tD(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||MM(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[ZM(n,r)]?tD(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!zN(e.target)||!UN(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(NM(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[ZM(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);OM(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),FM(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function tD(e,t){e.delete(t),t.childNodes.forEach((t=>tD(e,t)))}function nD(e,t,n){return 0!==e.length&&rD(e,t,n)}function rD(e,t,n){const{parentNode:r}=t;if(!r)return!1;const o=n.getId(r);return!!e.some((e=>e.id===o))||rD(e,r,n)}function oD(e,t){return 0!==e.size&&iD(e,t)}function iD(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||iD(e,n))}let sD;const aD=e=>{if(!sD)return e;return function(){try{return e(...arguments)}catch(LB){if(sD&&!0===sD(LB))return()=>{};throw LB}}};function lD(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.call(t,...r)})),t=void 0)}return n}const cD=[];function uD(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function dD(e,t){const n=new eD;cD.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=lD([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);o&&window[o]&&(r=window[o]);const i=new r(aD((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function hD(e){let{mouseInteractionCb:t,doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,sampling:a}=e;if(!1===a.mouseInteraction)return()=>{};const l=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[];let u=null;return Object.keys($M).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==l[e])).forEach((e=>{let a=KN(e);const l=(e=>n=>{const a=uD(n);if(OM(a,o,i,s,!0))return;let l=null,c=e;if("pointerType"in n){switch(n.pointerType){case"mouse":l=JM.Mouse;break;case"touch":l=JM.Touch;break;case"pen":l=JM.Pen}l===JM.Touch?$M[e]===$M.MouseDown?c="TouchStart":$M[e]===$M.MouseUp&&(c="TouchEnd"):JM.Pen}else DM(n)&&(l=JM.Touch);null!==l?(u=l,(c.startsWith("Touch")&&l===JM.Touch||c.startsWith("Mouse")&&l===JM.Mouse)&&(l=null)):$M[e]===$M.Click&&(l=u,u=null);const d=DM(n)?n.changedTouches[0]:n;if(!d)return;const h=r.getId(a),{clientX:p,clientY:f}=d;aD(t)(Xi({type:$M[c],id:h,x:p,y:f},null!==l&&{pointerType:l}))})(e);if(window.PointerEvent)switch($M[e]){case $M.MouseDown:case $M.MouseUp:a=a.replace("mouse","pointer");break;case $M.TouchStart:case $M.TouchEnd:return}c.push(_M(a,l,n))})),aD((()=>{c.forEach((e=>e()))}))}function pD(e){let{scrollCb:t,doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,sampling:a}=e;return _M("scroll",aD(kM(aD((e=>{const a=uD(e);if(!a||OM(a,o,i,s,!0))return;const l=r.getId(a);if(a===n&&n.defaultView){const e=CM(n.defaultView);t({id:l,x:e.left,y:e.top})}else t({id:l,x:a.scrollLeft,y:a.scrollTop})})),a.scroll||100)),n)}const fD=["INPUT","TEXTAREA","SELECT"],mD=new WeakMap;function gD(e){let{inputCb:t,doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,ignoreClass:a,ignoreSelector:l,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:h,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g}=e;function v(e){let t=uD(e);const r=e.isTrusted,d=t&&GN(t.tagName);if("OPTION"===d&&(t=t.parentElement),!t||!d||fD.indexOf(d)<0||OM(t,o,i,s,!0))return;const v=t;if(v.classList.contains(a)||l&&v.matches(l))return;const b=JN(t);let w=YN(v,d,b),_=!1;const S=HN({maskInputOptions:c,tagName:d,type:b}),x=gM(t,p,m,f,g,S);"radio"!==b&&"checkbox"!==b||(_=t.checked),w=qN({isMasked:x,element:t,value:w,maskInputFn:u}),y(t,h?{text:w,isChecked:_,userTriggered:r}:{text:w,isChecked:_});const k=t.name;"radio"===b&&k&&_&&n.querySelectorAll('input[type="radio"][name="'.concat(k,'"]')).forEach((e=>{if(e!==t){const t=qN({isMasked:x,element:e,value:YN(e,d,b),maskInputFn:u});y(e,h?{text:t,isChecked:!_,userTriggered:!1}:{text:t,isChecked:!_})}}))}function y(e,n){const o=mD.get(e);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){mD.set(e,n);const o=r.getId(e);aD(t)(Xi(Xi({},n),{},{id:o}))}}const b=("last"===d.input?["change"]:["input","change"]).map((e=>_M(e,aD(v),n))),w=n.defaultView;if(!w)return()=>{b.forEach((e=>e()))};const _=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),S=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return _&&_.set&&b.push(...S.map((e=>AM(e[0],e[1],{set(){aD(v)({target:this,isTrusted:!1})}},!1,w)))),aD((()=>{b.forEach((e=>e()))}))}function vD(e){return function(e,t){if(_D("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||_D("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||_D("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||_D("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function yD(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function bD(e,t){let{mirror:n,stylesheetManager:r}=e,o=null;o="#document"===t.nodeName?n.getId(t):n.getId(t.host);const i="#document"===t.nodeName?lD([t,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):lD([t,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),s=lD([i,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(lD([i,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&i&&s?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return lD([s,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const t=lD([s,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==o&&-1!==o)try{r.adoptStyleSheets(e,o)}catch(jB){}return t}}),aD((()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))):()=>{}}function wD(e){const t=e.doc.defaultView;if(!t)return()=>{};const n=dD(e,e.doc),r=function(e){let{mousemoveCb:t,sampling:n,doc:r,mirror:o}=e;if(!1===n.mousemove)return()=>{};const i="number"===typeof n.mousemove?n.mousemove:50,s="number"===typeof n.mousemoveCallback?n.mousemoveCallback:500;let a,l=[];const c=kM(aD((e=>{const n=Date.now()-a;t(l.map((e=>(e.timeOffset-=n,e))),e),l=[],a=null})),s),u=aD(kM(aD((e=>{const t=uD(e),{clientX:n,clientY:r}=DM(e)?e.changedTouches[0]:e;a||(a=TM()),l.push({x:n,y:r,id:o.getId(t),timeOffset:TM()-a}),c("undefined"!==typeof DragEvent&&e instanceof DragEvent?GM.Drag:e instanceof MouseEvent?GM.MouseMove:GM.TouchMove)})),i,{trailing:!1})),d=[_M("mousemove",u,r),_M("touchmove",u,r),_M("drag",u,r)];return aD((()=>{d.forEach((e=>e()))}))}(e),o=hD(e),i=pD(e),s=function(e,t){let{viewportResizeCb:n}=e,{win:r}=t,o=-1,i=-1;return _M("resize",aD(kM(aD((()=>{const e=IM(),t=RM();o===e&&i===t||(n({width:Number(t),height:Number(e)}),o=e,i=t)})),200)),r)}(e,{win:t}),a=gD(e),l=function(e){let{mediaInteractionCb:t,blockClass:n,blockSelector:r,unblockSelector:o,mirror:i,sampling:s,doc:a}=e;const l=aD((e=>kM(aD((s=>{const a=uD(s);if(!a||OM(a,n,r,o,!0))return;const{currentTime:l,volume:c,muted:u,playbackRate:d}=a;t({type:e,id:i.getId(a),currentTime:l,volume:c,muted:u,playbackRate:d})})),s.media||500))),c=[_M("play",l(0),a),_M("pause",l(1),a),_M("seeked",l(2),a),_M("volumechange",l(3),a),_M("ratechange",l(4),a)];return aD((()=>{c.forEach((e=>e()))}))}(e),c=function(e,t){let{styleSheetRuleCb:n,mirror:r,stylesheetManager:o}=e,{win:i}=t;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const s=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:aD(((e,t,i)=>{const[s,a]=i,{id:l,styleId:c}=yD(t,r,o.styleMirror);return(l&&-1!==l||c&&-1!==c)&&n({id:l,styleId:c,adds:[{rule:s,index:a}]}),e.apply(t,i)}))});const a=i.CSSStyleSheet.prototype.deleteRule;let l,c;i.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:aD(((e,t,i)=>{const[s]=i,{id:a,styleId:l}=yD(t,r,o.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,removes:[{index:s}]}),e.apply(t,i)}))}),i.CSSStyleSheet.prototype.replace&&(l=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(l,{apply:aD(((e,t,i)=>{const[s]=i,{id:a,styleId:l}=yD(t,r,o.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,replace:s}),e.apply(t,i)}))})),i.CSSStyleSheet.prototype.replaceSync&&(c=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:aD(((e,t,i)=>{const[s]=i,{id:a,styleId:l}=yD(t,r,o.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,replaceSync:s}),e.apply(t,i)}))}));const u={};SD("CSSGroupingRule")?u.CSSGroupingRule=i.CSSGroupingRule:(SD("CSSMediaRule")&&(u.CSSMediaRule=i.CSSMediaRule),SD("CSSConditionRule")&&(u.CSSConditionRule=i.CSSConditionRule),SD("CSSSupportsRule")&&(u.CSSSupportsRule=i.CSSSupportsRule));const d={};return Object.entries(u).forEach((e=>{let[t,i]=e;d[t]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(d[t].insertRule,{apply:aD(((e,t,i)=>{const[s,a]=i,{id:l,styleId:c}=yD(t.parentStyleSheet,r,o.styleMirror);return(l&&-1!==l||c&&-1!==c)&&n({id:l,styleId:c,adds:[{rule:s,index:[...vD(t),a||0]}]}),e.apply(t,i)}))}),i.prototype.deleteRule=new Proxy(d[t].deleteRule,{apply:aD(((e,t,i)=>{const[s]=i,{id:a,styleId:l}=yD(t.parentStyleSheet,r,o.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,removes:[{index:[...vD(t),s]}]}),e.apply(t,i)}))})})),aD((()=>{i.CSSStyleSheet.prototype.insertRule=s,i.CSSStyleSheet.prototype.deleteRule=a,l&&(i.CSSStyleSheet.prototype.replace=l),c&&(i.CSSStyleSheet.prototype.replaceSync=c),Object.entries(u).forEach((e=>{let[t,n]=e;n.prototype.insertRule=d[t].insertRule,n.prototype.deleteRule=d[t].deleteRule}))}))}(e,{win:t}),u=bD(e,e.doc),d=function(e,t){let{styleDeclarationCb:n,mirror:r,ignoreCSSAttributes:o,stylesheetManager:i}=e,{win:s}=t;const a=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:aD(((e,t,s)=>{const[l,c,u]=s;if(o.has(l))return a.apply(t,[l,c,u]);const{id:d,styleId:h}=yD(lD([t,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),r,i.styleMirror);return(d&&-1!==d||h&&-1!==h)&&n({id:d,styleId:h,set:{property:l,value:c,priority:u},index:vD(t.parentRule)}),e.apply(t,s)}))});const l=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:aD(((e,t,s)=>{const[a]=s;if(o.has(a))return l.apply(t,[a]);const{id:c,styleId:u}=yD(lD([t,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),r,i.styleMirror);return(c&&-1!==c||u&&-1!==u)&&n({id:c,styleId:u,remove:{property:a},index:vD(t.parentRule)}),e.apply(t,s)}))}),aD((()=>{s.CSSStyleDeclaration.prototype.setProperty=a,s.CSSStyleDeclaration.prototype.removeProperty=l}))}(e,{win:t}),h=e.collectFonts?function(e){let{fontCb:t,doc:n}=e;const r=n.defaultView;if(!r)return()=>{};const o=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(e,t,n){const r=new s(e,t,n);return i.set(r,{family:e,buffer:"string"!==typeof t,descriptors:n,fontSource:"string"===typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const a=EM(n.fonts,"add",(function(e){return function(n){return qM(aD((()=>{const e=i.get(n);e&&(t(e),i.delete(n))})),0),e.apply(this,[n])}}));return o.push((()=>{r.FontFace=s})),o.push(a),aD((()=>{o.forEach((e=>e()))}))}(e):()=>{},p=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e;let a=!0;const l=aD((()=>{const e=t.getSelection();if(!e||a&&lD([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;const l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const s=e.getRangeAt(t),{startContainer:a,startOffset:c,endContainer:u,endOffset:d}=s;OM(a,r,o,i,!0)||OM(u,r,o,i,!0)||l.push({start:n.getId(a),startOffset:c,end:n.getId(u),endOffset:d})}s({ranges:l})}));return l(),_M("selectionchange",l)}(e),f=function(e){let{doc:t,customElementCb:n}=e;const r=t.defaultView;if(!r||!r.customElements)return()=>{};const o=EM(r.customElements,"define",(function(e){return function(t,r,o){try{n({define:{name:t}})}catch(jB){}return e.apply(this,[t,r,o])}}));return o}(e),m=[];for(const g of e.plugins)m.push(g.observer(g.callback,t,g.options));return aD((()=>{cD.forEach((e=>e.reset())),n.disconnect(),r(),o(),i(),s(),a(),l(),c(),u(),d(),h(),p(),f(),m.forEach((e=>e()))}))}function _D(e){return"undefined"!==typeof window[e]}function SD(e){return Boolean("undefined"!==typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class xD{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const o=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e);let s=o.get(t);return s||(s=this.generateIdFn(),o.set(t,s),i.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!==typeof t)return t;const o=r.get(t);return o||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function kD(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.call(t,...r)})),t=void 0)}return n}class AD{constructor(){this.crossOriginIframeMirror=new xD(ZN),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class ED{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new xD(ZN),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new xD(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),kD([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case KM.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:KM.IncrementalSnapshot,data:{source:GM.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case KM.Meta:case KM.Load:case KM.DomContentLoaded:return!1;case KM.Plugin:return t;case KM.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case KM.IncrementalSnapshot:switch(t.data.source){case GM.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case GM.Drag:case GM.TouchMove:case GM.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case GM.ViewportResize:return!1;case GM.MediaInteraction:case GM.MouseInteraction:case GM.Scroll:case GM.CanvasMutation:case GM.Input:return this.replaceIds(t.data,e,["id"]),t;case GM.StyleSheetRule:case GM.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case GM.Font:return t;case GM.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case GM.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),kD([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,r){for(const o of r)(Array.isArray(t[o])||"number"===typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===LN.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class TD{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class CD{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!UN(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=dD(Xi(Xi({},this.bypassOptions),{},{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(pD(Xi(Xi({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),qM((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(bD({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(EM(e.prototype,"attachShadow",(function(e){return function(r){const o=e.call(this,r);return this.shadowRoot&&VM(this)&&n.addShadowRoot(this.shadowRoot,t),o}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(jB){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class ID{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class RD{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new zM,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const o of e){let e;this.styleMirror.has(o)?e=this.styleMirror.getId(o):(e=this.styleMirror.add(o),r.push({styleId:e,rules:Array.from(o.rules||CSSRule,((e,t)=>({rule:VN(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class PD{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function(){HM("requestAnimationFrame")(...arguments)}((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let OD,ND;const MD=new WN;function DD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:p=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:v,maskAttributeFn:y,maskInputFn:b,maskTextFn:w,maxCanvasSize:_=null,packFn:S,sampling:x={},dataURLOptions:k={},mousemoveWait:A,recordCanvas:E=!1,recordCrossOriginIframes:T=!1,recordAfter:C=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:I=!1,collectFonts:R=!1,inlineImages:P=!1,plugins:O,keepIframeSrcFn:N=()=>!1,ignoreCSSAttributes:M=new Set([]),errorHandler:D,onMutation:j,getCanvasManager:L}=e;sD=D;const F=!T||window.parent===window;let z=!1;if(!F)try{window.parent.document&&(z=!1)}catch(jB){z=!0}if(F&&!t)throw new Error("emit function is required");void 0!==A&&void 0===x.mousemove&&(x.mousemove=A),MD.reset();const U=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},B=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};let V;!function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let o=n[0];if(!(0 in n))throw new TypeError("1 argument is required");do{if(e===o)return!0}while(o=o&&o.parentNode);return!1})}();let W=0;const H=e=>{for(const t of O||[])t.eventProcessor&&(e=t.eventProcessor(e));return S&&!z&&(e=S(e)),e};OD=(e,o)=>{const i=e;if(i.timestamp=TM(),!_N([cD,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||i.type===KM.FullSnapshot||i.type===KM.IncrementalSnapshot&&i.data.source===GM.Mutation||cD.forEach((e=>e.unfreeze())),F)_N([t,"optionalCall",e=>e(H(i),o)]);else if(z){const e={type:"rrweb",event:H(i),origin:window.location.origin,isCheckout:o};window.parent.postMessage(e,"*")}if(i.type===KM.FullSnapshot)V=i,W=0;else if(i.type===KM.IncrementalSnapshot){if(i.data.source===GM.Mutation&&i.data.isAttachIframe)return;W++;const e=r&&W>=r,t=n&&V&&i.timestamp-V.timestamp>n;(e||t)&&Z(!0)}};const q=e=>{OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.Mutation},e)})},K=e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.Scroll},e)}),G=e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.CanvasMutation},e)}),$=new RD({mutationCb:q,adoptedStyleSheetCb:e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.AdoptedStyleSheet},e)})}),J="boolean"===typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new AD:new ED({mirror:MD,mutationCb:q,stylesheetManager:$,recordCrossOriginIframes:T,wrappedEmit:OD});for(const ee of O||[])ee.getMirror&&ee.getMirror({nodeMirror:MD,crossOriginIframeMirror:J.crossOriginIframeMirror,crossOriginIframeStyleMirror:J.crossOriginIframeStyleMirror});const Y=new PD,X=function(e,t){try{return e?e(t):new ID}catch(n){return console.warn("Unable to initialize CanvasManager"),new ID}}(L,{mirror:MD,win:window,mutationCb:e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.CanvasMutation},e)}),recordCanvas:E,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:_,sampling:x.canvas,dataURLOptions:k,errorHandler:D}),Q="boolean"===typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new TD:new CD({mutationCb:q,scrollCb:K,bypassOptions:{onMutation:j,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:U,dataURLOptions:k,maskAttributeFn:y,maskTextFn:w,maskInputFn:b,recordCanvas:E,inlineImages:P,sampling:x,slimDOMOptions:B,iframeManager:J,stylesheetManager:$,canvasManager:X,keepIframeSrcFn:N,processedNodeManager:Y},mirror:MD}),Z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];OD({type:KM.Meta,data:{href:window.location.href,width:RM(),height:IM()}},e),$.reset(),Q.init(),cD.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new WN,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:w,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:k,stylesheetLoadTimeout:A,keepIframeSrcFn:E=()=>!1}=t||{};return bM(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:b,inlineImages:h,recordCanvas:p,preserveWhiteSpace:w,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:k,stylesheetLoadTimeout:A,keepIframeSrcFn:E,newlyAddedElement:!1})}(document,{mirror:MD,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskAllInputs:U,maskAttributeFn:y,maskInputFn:b,maskTextFn:w,slimDOM:B,dataURLOptions:k,recordCanvas:E,inlineImages:P,onSerialize:e=>{jM(e,MD)&&J.addIframe(e),LM(e,MD)&&$.trackLinkElement(e),FM(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{J.attachIframe(e,t),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{$.attachLinkElement(e,t)},keepIframeSrcFn:N});if(!t)return console.warn("Failed to snapshot the document");OD({type:KM.FullSnapshot,data:{node:t,initialOffset:CM(window)}}),cD.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&$.adoptStyleSheets(document.adoptedStyleSheets,MD.getId(document))};ND=Z;try{const e=[],t=e=>aD(wD)({onMutation:j,mutationCb:q,mousemoveCb:(e,t)=>OD({type:KM.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.MouseInteraction},e)}),scrollCb:K,viewportResizeCb:e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.ViewportResize},e)}),inputCb:e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.Input},e)}),mediaInteractionCb:e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.MediaInteraction},e)}),styleSheetRuleCb:e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.StyleSheetRule},e)}),styleDeclarationCb:e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.StyleDeclaration},e)}),canvasMutationCb:G,fontCb:e=>OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.Font},e)}),selectionCb:e=>{OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.Selection},e)})},customElementCb:e=>{OD({type:KM.IncrementalSnapshot,data:Xi({source:GM.CustomElement},e)})},blockClass:o,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,maskInputOptions:U,inlineStylesheet:f,sampling:x,recordCanvas:E,inlineImages:P,userTriggeredOnInput:I,collectFonts:R,doc:e,maskAttributeFn:y,maskInputFn:b,maskTextFn:w,keepIframeSrcFn:N,blockSelector:i,unblockSelector:s,slimDOMOptions:B,dataURLOptions:k,mirror:MD,iframeManager:J,stylesheetManager:$,shadowDomManager:Q,processedNodeManager:Y,canvasManager:X,ignoreCSSAttributes:M,plugins:_N([O,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>OD({type:KM.Plugin,data:{plugin:e.name,payload:t}})})))])||[]},{});J.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(LB){console.warn(LB)}}));const n=()=>{Z(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(_M("DOMContentLoaded",(()=>{OD({type:KM.DomContentLoaded,data:{}}),"DOMContentLoaded"===C&&n()}))),e.push(_M("load",(()=>{OD({type:KM.Load,data:{}}),"load"===C&&n()}),window))),()=>{e.forEach((e=>e())),Y.destroy(),ND=void 0,sD=void 0}}catch(LB){console.warn(LB)}}DD.mirror=MD,DD.takeFullSnapshot=function(e){if(!ND)throw new Error("please take full snapshot after start recording");ND(e)};function jD(e){return e>9999999999?e:1e3*e}function LD(e){return e>9999999999?e/1e3:e}function FD(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:KM.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:eC(t,10,1e3)}}),"console"===t.category))))}function zD(e){return e.closest("button,a")||e}function UD(e){const t=BD(e);return t&&t instanceof Element?zD(t):t}function BD(e){return function(e){return"object"===typeof e&&!!e&&"target"in e}(e)?e.target:e}let VD;function WD(e){return VD||(VD=[],vT(EN,"open",(function(e){return function(){if(VD)try{VD.forEach((e=>e()))}catch(jB){}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(EN,n)}}))),VD.push(e),()=>{const t=VD?VD.indexOf(e):-1;t>-1&&VD.splice(t,1)}}class HD{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:FD;this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=WD((()=>{this._lastMutation=KD()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!qD.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!==typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:LD(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=LD(e)}registerScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=LD(e)}registerClick(e){const t=zD(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=KD();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const n of e){const e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:i,clickBreadcrumb:s}=e;if(o){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:Xi(Xi({},s.data),{},{url:EN.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1})};this._addBreadcrumbEvent(t,o)}else if(i>1){const e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:Xi(Xi({},s.data),{},{url:EN.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0})};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const qD=["A","BUTTON","INPUT"];function KD(){return Date.now()/1e3}function GD(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(n===GM.Mutation&&e.registerMutation(t.timestamp),n===GM.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===GM.MouseInteraction}(t)){const{type:n,id:r}=t.data,o=DD.mirror.getNode(r);o instanceof HTMLElement&&n===$M.Click&&e.registerClick(o)}}catch(jB){}}function $D(e){return Xi({timestamp:Date.now()/1e3,type:"default"},e)}var JD;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(JD||(JD={}));const YD=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function XD(e){const t={};for(const n in e)if(YD.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const QD=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?UD(e.event):BD(e.event),n=uT(r,{maxStringLength:200})||"<unknown>"}catch(jB){n="<unknown>"}return{target:r,message:n}}(e);return $D(Xi({category:"ui.".concat(e.name)},ZD(t,n)))}(t);if(!n)return;const r="click"===t.name,o=r?t.event:void 0;!(r&&e.clickDetector&&o&&o.target)||o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||function(e,t,n){e.handleClick(t,n)}(e.clickDetector,n,UD(t.event)),FD(e,n)};function ZD(e,t){const n=DD.mirror.getId(e),r=n&&DD.mirror.getNode(n),o=r&&DD.mirror.getMeta(r),i=o&&function(e){return e.type===JD.Element}(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map((e=>e.type===JD.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:XD(i.attributes)}}:{}}}function ej(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(s)||!i)return null;const a=t||r||o,l=1===i.length;if(!a&&l)return null;const c=uT(s,{maxStringLength:200})||"<unknown>",u=ZD(s,c);return $D({category:"ui.keyDown",message:c,data:Xi(Xi({},u.data),{},{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i})})}(t);n&&FD(e,n)}const tj={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:l,transferSize:c}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:"".concat(t,".").concat(n),start:rj(i),end:rj(o),name:r,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:o}=e,i=rj(o);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:h,startTime:p,transferSize:f,type:m}=e;if(0===o)return null;return{type:"".concat(t,".").concat(m),start:rj(p),end:rj(i),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:i,redirectCount:h}}}};function nj(e){return tj[e.entryType]?tj[e.entryType](e):null}function rj(e){return((HT||EN.performance.timeOrigin)+e)/1e3}function oj(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){let{entries:n}=e;n.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(zO(e,n))})),r.push(FO((t=>{let{metric:n}=t;e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,o=e.value,i=rj(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:o,size:o,nodeId:r?DD.mirror.getId(r):void 0}}}(n))}))),()=>{r.forEach((e=>e()))}}const ij="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function sj(e,t){ij&&($E.info(e),t&&lj(e))}function aj(e,t){ij&&($E.info(e),t&&setTimeout((()=>{lj(e)}),0))}function lj(e){kC({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class cj extends Error{constructor(){super("Event buffer exceeded maximum size of ".concat(NN,"."))}}class uj{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>NN)throw new cj;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?jD(e):null}}class dj{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(n=>{let{data:r}=n;r.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){sj("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,o)=>{const i=t=>{let{data:s}=t;const a=s;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",i),!a.success)return ij&&$E.error("[Replay]",a.response),void o(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class hj{constructor(e){this._worker=new dj(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=jD(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>NN?Promise.reject(new cj):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{ij&&$E.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class pj{constructor(e){this._fallback=new uj,this._compression=new hj(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(LB){return void sj("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const r of e)n.push(this._compression.addEvent(r));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(LB){ij&&$E.warn("[Replay] Failed to add events when switching buffers.",LB)}}}function fj(e){let{useCompression:t,workerUrl:n}=e;if(t&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"===typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;sj("[Replay] Using compression worker".concat(e?" from ".concat(e):""));const n=new Worker(t);return new pj(n)}catch(LB){sj("[Replay] Failed to create compression worker")}}(n);if(e)return e}return sj("[Replay] Using simple buffer"),new uj}function mj(){try{return"sessionStorage"in EN&&!!EN.sessionStorage}catch(jB){return!1}}function gj(e){!function(){if(!mj())return;try{EN.sessionStorage.removeItem(TN)}catch(jB){}}(),e.session=void 0}function vj(e){return void 0!==e&&Math.random()<e}function yj(e){const t=Date.now();return{id:e.id||ET(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function bj(e){if(mj())try{EN.sessionStorage.setItem(TN,JSON.stringify(e))}catch(jB){}}function wj(e){let{sessionSampleRate:t,allowBuffering:n,stickySession:r=!1}=e,{previousSessionId:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=function(e,t){return vj(e)?"session":!!t&&"buffer"}(t,n),s=yj({sampled:i,previousSessionId:o});return r&&bj(s),s}function _j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function Sj(e,t){let{maxReplayDuration:n,sessionIdleExpire:r,targetTime:o=Date.now()}=t;return _j(e.started,n,o)||_j(e.lastActivity,r,o)}function xj(e,t){let{sessionIdleExpire:n,maxReplayDuration:r}=t;return!!Sj(e,{sessionIdleExpire:n,maxReplayDuration:r})&&("buffer"!==e.sampled||0!==e.segmentId)}function kj(e,t){let{traceInternals:n,sessionIdleExpire:r,maxReplayDuration:o,previousSessionId:i}=e;const s=t.stickySession&&function(e){if(!mj())return null;try{const t=EN.sessionStorage.getItem(TN);if(!t)return null;const n=JSON.parse(t);return aj("[Replay] Loading existing session",e),yj(n)}catch(jB){return null}}(n);return s?xj(s,{sessionIdleExpire:r,maxReplayDuration:o})?(aj("[Replay] Session in sessionStorage is expired, creating new one..."),wj(t,{previousSessionId:s.id})):s:(aj("[Replay] Creating new session",n),wj(t,{previousSessionId:i}))}function Aj(e,t,n){return!!Tj(e,t)&&(Ej(e,t,n),!0)}async function Ej(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"===typeof t&&function(e){return e.type===KM.Custom}(e))return t(e)}catch(LB){return ij&&$E.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",LB),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(LB){const n=LB&&LB instanceof cj?"addEventSizeExceeded":"addEvent";ij&&$E.error(LB),await e.stop({reason:n});const r=EC();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function Tj(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=jD(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(sj("[Replay] Skipping event with timestamp ".concat(n," because it is after maxReplayDuration"),e.getOptions()._experiments.traceInternals),!1))}function Cj(e){return!e.type}function Ij(e){return"transaction"===e.type}function Rj(e){return"feedback"===e.type}function Pj(e){const t=function(){const e=EC();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!Cj(n)&&!Ij(n))return;const o=r&&r.statusCode;t&&(!o||o<200||o>=300)||(Ij(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"===typeof r&&!r(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function Oj(e){return t=>{e.isEnabled()&&Cj(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!==typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){FD(e,$D({category:"replay.hydrate-error"}))}}(e,t)}}function Nj(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Pj(e):void 0;return Object.assign(((n,r)=>{if(!e.isEnabled())return n;if(function(e){return"replay_event"===e.type}(n))return delete n.breadcrumbs,n;if(!Cj(n)&&!Ij(n)&&!Rj(n))return n;if(!e.checkAndHandleExpiredSession())return n;if(Rj(n))return e.flush(),n.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:KM.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,n),n;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length)&&!(!t.originalException||!t.originalException.__rrweb__)}(n,r)&&!e.getOptions()._experiments.captureExceptions)return ij&&$E.log("[Replay] Ignoring error from rrweb internals",n),null;const o=function(e,t){return"buffer"===e.recordingMode&&t.message!==CN&&!(!t.exception||t.type)&&vj(e.getOptions().errorSampleRate)}(e,n);return(o||"session"===e.recordingMode)&&(n.tags=Xi(Xi({},n.tags),{},{replayId:e.getSessionId()})),t&&t(n,{statusCode:200}),n}),{id:"Replay"})}function Mj(e,t){return t.map((t=>{let{type:n,start:r,end:o,name:i,data:s}=t;const a=e.throttledAddEvent({type:KM.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return"string"===typeof a?Promise.resolve(null):a}))}function Dj(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(Mj(e,[n]),!1))))}}function jj(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!ij||!e.getOptions()._experiments.traceInternals)&&SN(t,EC())}(e,t.name)||e.addUpdate((()=>(Mj(e,[t]),!0))))}function Lj(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,o=r[_R];if(!t||!n||!o)return null;const{method:i,url:s,status_code:a}=o;return void 0===s?null:{type:"resource.xhr",name:s,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}(t);jj(e,n)}}function Fj(e,t){if(e)try{if("string"===typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Kj(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(jB){}}function zj(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Uj(e){try{if("string"===typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Kj(e)];if(!e)return[void 0]}catch(t){return ij&&$E.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ij&&$E.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Bj(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n=Xi({},e._meta),r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Vj(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:kT({method:i,statusCode:s,request:a,response:l})}}function Wj(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Hj(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:i}=function(e){if(!e||"string"!==typeof e)return{body:e};const t=e.length>PN,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,PN);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(t,"\u2026"),warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(r){}return{body:e}}(n);return r.body=o,i&&i.length>0&&(r._meta={warnings:i}),r}function qj(e,t){return Object.keys(e).reduce(((n,r)=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=e[r]),n}),{})}function Kj(e){return new URLSearchParams(e).toString()}function Gj(e,t){const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EN.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(EN.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return gT(n,t)}async function $j(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,d=Gj(s,n.networkDetailAllowUrls)&&!Gj(s,n.networkDetailDenyUrls),h=d?function(e,t,n){let{networkCaptureBodies:r,networkRequestHeaders:o}=e;const i=t?function(e,t){if(1===e.length&&"string"!==typeof e[0])return Xj(e[0],t);if(2===e.length)return Xj(e[1],t);return{}}(t,o):{};if(!r)return Hj(i,n,void 0);const s=Jj(t),[a,l]=Uj(s),c=Hj(i,n,a);if(l)return Bj(c,l);return c}(n,t.input,c):Wj(c),p=await async function(e,t,n,r){let{networkCaptureBodies:o,textEncoder:i,networkResponseHeaders:s}=t;if(!e&&void 0!==r)return Wj(r);const a=n?Yj(n.headers,s):{};if(!n||!o&&void 0!==r)return Hj(a,r,void 0);const[l,c]=await async function(e){const t=function(e){try{return e.clone()}catch(LB){ij&&$E.warn("[Replay] Failed to clone response body",LB)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(LB){return ij&&$E.warn("[Replay] Failed to get text body from response",LB),[void 0,"BODY_PARSE_ERROR"]}}(n),u=function(e,t){let{networkCaptureBodies:n,textEncoder:r,responseBodySize:o,captureDetails:i,headers:s}=t;try{const t=e&&e.length&&void 0===o?Fj(e,r):o;return i?Hj(s,t,n?e:void 0):Wj(t)}catch(LB){return ij&&$E.warn("[Replay] Failed to serialize response body",LB),Hj(s,o,void 0)}}(l,{networkCaptureBodies:o,textEncoder:i,responseBodySize:r,captureDetails:e,headers:a});if(c)return Bj(u,c);return u}(d,n,t.response,u);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:l,request:h,response:p}}(e,t,n),o=Vj("resource.fetch",r);jj(n.replay,o)}catch(LB){ij&&$E.error("[Replay] Failed to capture fetch breadcrumb",LB)}}function Jj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===e.length&&"object"===typeof e[1])return e[1].body}function Yj(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function Xj(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Yj(n,t):Array.isArray(n)?{}:qj(n,t):{}}async function Qj(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:h}=e.data;if(!l)return null;if(!a||!Gj(l,n.networkDetailAllowUrls)||Gj(l,n.networkDetailDenyUrls)){return{startTimestamp:o,endTimestamp:i,url:l,method:c,statusCode:u,request:Wj(d),response:Wj(h)}}const p=a[_R],f=p?qj(p.request_headers,n.networkRequestHeaders):{},m=qj(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e}),{})}(a),n.networkResponseHeaders),[g,v]=n.networkCaptureBodies?Uj(s):[void 0],[y,b]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(jB){t.push(jB)}try{return function(e,t){try{if("string"===typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"===typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return ij&&$E.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ij&&$E.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(jB){t.push(jB)}return ij&&$E.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(a):[void 0],w=Hj(f,d,g),_=Hj(m,h,y);return{startTimestamp:o,endTimestamp:i,url:l,method:c,statusCode:u,request:v?Bj(w,v):w,response:b?Bj(_,b):_}}(e,t,n),o=Vj("resource.xhr",r);jj(n.replay,o)}catch(LB){ij&&$E.error("[Replay] Failed to capture xhr breadcrumb",LB)}}function Zj(e,t,n){const{xhr:r,input:o}=t;if(!r)return;const i=Fj(o,n.textEncoder),s=r.getResponseHeader("content-length")?zj(r.getResponseHeader("content-length")):function(e,t,n){try{return Fj("json"===t&&e&&"object"===typeof e?JSON.stringify(e):e,n)}catch(r){return}}(r.response,r.responseType,n.textEncoder);void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}function eL(e){const t=EC();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a}=e.getOptions(),l={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(Zj(t,n,e),Qj(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:o}=t,i=Fj(r?Jj(r):void 0,n.textEncoder),s=o?zj(o.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}(t,n,e),$j(t,n,e))}catch(jB){ij&&$E.warn("Error when enriching network breadcrumb")}}(l,e,t))):(kR(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:o}=e;if(!n)return null;const{method:i,url:s}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:s,data:{method:i,statusCode:o?o.status:void 0}}}(t);jj(e,n)}}(e)),SR(Lj(e)))}catch(n){}}let tL=null;const nL=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(tL===t||!t)return null;if(tL=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return $D(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"===typeof e)return e.length>ON?(n=!0,"".concat(e.slice(0,ON),"\u2026")):e;if("object"===typeof e)try{const t=eC(e,7);return JSON.stringify(t).length>ON?(n=!0,"".concat(JSON.stringify(t,null,2).slice(0,ON),"\u2026")):t}catch(jB){}return e}));return $D(Xi(Xi({},e),{},{data:Xi(Xi({},e.data),{},{arguments:r},n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}(t);return $D(t)}(t);n&&FD(e,n)};function rL(e){const t=TC(),n=EC();t.addScopeListener(nL(e)),vR(QD(e)),AI(Dj(e)),eL(e);const r=Nj(e,!oL(n));n&&n.addEventProcessor?n.addEventProcessor(r):function(e){const t=EC();t&&t.addEventProcessor&&t.addEventProcessor(e)}(r),oL(n)&&(n.on("beforeSendEvent",Oj(e)),n.on("afterSendEvent",Pj(e)),n.on("createDsc",(t=>{const n=e.getSessionId();if(n&&e.isEnabled()&&"session"===e.recordingMode){e.checkAndHandleExpiredSession()&&(t.replay_id=n)}})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)})))}function oL(e){return!(!e||!e.on)}function iL(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function sL(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(ij&&$E.warn("[Replay] Received replay event after session expired."));const o=r||!t;t=!0,e.clickDetector&&GD(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&o&&e.setInitialState(),!Aj(e,n,o))return!0;if(!o)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;Aj(e,function(e){const t=e.getOptions();return{type:KM.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,o),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(sj("[Replay] Updating session start time to earliest event in buffer to ".concat(new Date(t)),e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&bj(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}async function aL(e){let{recordingData:t,replayId:n,segmentId:r,eventContext:o,timestamp:i,session:s}=e;const a=function(e){let t,{recordingData:n,headers:r}=e;const o="".concat(JSON.stringify(r),"\n");if("string"===typeof n)t="".concat(o).concat(n);else{const e=(new TextEncoder).encode(o);t=new Uint8Array(e.length+n.length),t.set(e),t.set(n,e.length)}return t}({recordingData:t,headers:{segment_id:r}}),{urls:l,errorIds:c,traceIds:u,initialTimestamp:d}=o,h=EC(),p=TC(),f=h&&h.getTransport(),m=h&&h.getDsn();if(!h||!f||!m||!s.sampled)return;const g={type:"replay_event",replay_start_timestamp:d/1e3,timestamp:i/1e3,error_ids:c,trace_ids:u,urls:l,replay_id:n,segment_id:r,replay_type:s.sampled},v=await async function(e){let{client:t,scope:n,replayId:r,event:o}=e;const i={event_id:r,integrations:"object"!==typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit&&t.emit("preprocessEvent",o,i);const s=await yC(t.getOptions(),o,i,n,t,$C());if(!s)return null;s.platform=s.platform||"javascript";const a=t.getSdkMetadata&&t.getSdkMetadata(),{name:l,version:c}=a&&a.sdk||{};return s.sdk=Xi(Xi({},s.sdk),{},{name:l||"sentry.javascript.unknown",version:c||"0.0.0"}),s}({scope:p,client:h,replayId:n,event:g});if(!v)return h.recordDroppedEvent("event_processor","replay",g),void sj("An event processor returned `null`, will not send event.");delete v.sdkProcessingMetadata;const y=function(e,t,n,r){return PI(UI(e,zI(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"===typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(v,a,m,h.getOptions().tunnel);let b;try{b=await f.send(y)}catch(_){const e=new Error(CN);try{e.cause=_}catch(jB){}throw e}if(!b)return b;if("number"===typeof b.statusCode&&(b.statusCode<200||b.statusCode>=300))throw new lL(b.statusCode);const w=xP({},b);if(SP(w,"replay"))throw new cL(w);return b}class lL extends Error{constructor(e){super("Transport returned status code ".concat(e))}}class cL extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function uL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0,interval:5e3};const{recordingData:n,options:r}=e;var o,i;if(n.length)try{return await aL(e),!0}catch(s){if(s instanceof lL||s instanceof cL)throw s;if(o="Replays",i={_retryCount:t.count},GC().setContext(o,i),ij&&r._experiments&&r._experiments.captureExceptions&&SC(s),t.count>=3){const e=new Error("".concat(CN," - max retries exceeded"));try{e.cause=s}catch(jB){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await uL(e,t),n(!0)}catch(s){r(s)}}),t.interval)}))}}const dL="__THROTTLED";function hL(e,t,n){const r=new Map;let o=!1;return function(){const i=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(i),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=o;return o=!0,e?"__SKIPPED":dL}o=!1;const s=r.get(i)||0;return r.set(i,s+1),e(...arguments)}}class pL{constructor(e){let{options:t,recordingOptions:n}=e;pL.prototype.__init.call(this),pL.prototype.__init2.call(this),pL.prototype.__init3.call(this),pL.prototype.__init4.call(this),pL.prototype.__init5.call(this),pL.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=function(e,t,n){let r,o,i;const s=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){void 0!==o&&clearTimeout(o),void 0!==i&&clearTimeout(i),o=i=void 0}function c(){return o&&clearTimeout(o),o=setTimeout(a,t),s&&void 0===i&&(i=setTimeout(a,s)),r}return c.cancel=l,c.flush=function(){return void 0!==o||void 0!==i?a():r},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=hL(((e,t)=>function(e,t,n){return Tj(e,t)?Ej(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(3e3,r),timeout:r,scrollTimeout:300,ignoreSelector:o?o.join(","):""}:void 0;i&&(this.clickDetector=new HD(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",aj("[Replay] Starting replay in ".concat(this.recordingMode," mode"),this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");aj("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=kj({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");aj("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=kj({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=DD(Xi(Xi(Xi({},this._recordingOptions),"buffer"===this.recordingMode&&{checkoutEveryNms:6e4}),{},{emit:sL(this),onMutation:this._onMutationHandler},e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop(){let{forceFlush:e=!1,reason:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._isEnabled){this._isEnabled=!1;try{sj("[Replay] Stopping Replay".concat(t?" triggered by ".concat(t):""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,gj(this)}catch(n){this._handleException(n)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),sj("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),sj("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush(){let{continueRecording:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();sj("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&_j(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e="".concat(EN.location.pathname).concat(EN.location.hash).concat(EN.location.search),t="".concat(EN.location.origin).concat(e);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===dL){const e=$D({category:"replay.throttled"});this.addUpdate((()=>!Aj(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||TC().getTransaction(),t=(e&&gC(e).data||{})[MP];if(e&&t&&["route","custom"].includes(t))return gC(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=fj({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){ij&&$E.error("[Replay]",e),ij&&this._options._experiments&&this._options._experiments.captureExceptions&&SC(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=kj({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!xj(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{EN.document.addEventListener("visibilitychange",this._handleVisibilityChange),EN.addEventListener("blur",this._handleWindowBlur),EN.addEventListener("focus",this._handleWindowFocus),EN.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(rL(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=oj(this)}_removeListeners(){try{EN.document.removeEventListener("visibilitychange",this._handleVisibilityChange),EN.removeEventListener("blur",this._handleWindowBlur),EN.removeEventListener("focus",this._handleWindowFocus),EN.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===EN.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=$D({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=$D({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{ej(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;Sj(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):sj("[Replay] Document has become active, but session has expired")}_updateUserActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}_updateSessionActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:KM.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=(t=this.performanceEntries,t.map(nj).filter(Boolean)).concat(this.replayPerformanceEntries);var t;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Mj(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(Mj(e,[iL(EN.performance.memory)]))}catch(LB){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await uL({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(t){this._handleException(t),this.stop({reason:"sendReplay"});const e=EC();e&&e.recordDroppedEvent("send_error","replay")}}else ij&&$E.error("[Replay] No session or eventBuffer found to flush.")}__init5(){var e=this;this._flush=async function(){let{force:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e._isEnabled&&!t)return;if(!e.checkAndHandleExpiredSession())return void(ij&&$E.error("[Replay] Attempting to finish replay event after session expired."));if(!e.session)return;const n=e.session.started,r=Date.now()-n;e._debouncedFlush.cancel();const o=r<e._options.minReplayDuration,i=r>e._options.maxReplayDuration+5e3;if(o||i)return sj("[Replay] Session duration (".concat(Math.floor(r/1e3),"s) is too ").concat(o?"short":"long",", not sending replay."),e._options._experiments.traceInternals),void(o&&e._debouncedFlush());const s=e.eventBuffer;if(s&&0===e.session.segmentId&&!s.hasCheckout&&sj("[Replay] Flushing initial segment without checkout.",e._options._experiments.traceInternals),!e._flushLock)return e._flushLock=e._runFlush(),await e._flushLock,void(e._flushLock=void 0);try{await e._flushLock}catch(a){ij&&$E.error(a)}finally{e._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&bj(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=$D({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function fL(e,t,n,r){const o=[...e,..."string"===typeof r?r.split(","):[],...t];return"undefined"!==typeof n&&("string"===typeof n&&o.push(".".concat(n)),GE((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),o.join(",")}const mL='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',gL=["content-length","content-type","accept"];let vL=!1;class yL{static __initStatic(){this.id="Replay"}constructor(){let{flushMinDelay:e=IN,flushMaxDelay:t=RN,minReplayDuration:n=MN,maxReplayDuration:r=DN,stickySession:o=!0,useCompression:i=!0,workerUrl:s,_experiments:a={},sessionSampleRate:l,errorSampleRate:c,maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:y=[],networkCaptureBodies:b=!0,networkRequestHeaders:w=[],networkResponseHeaders:_=[],mask:S=[],maskAttributes:x=["title","placeholder"],unmask:k=[],block:A=[],unblock:E=[],ignore:T=[],maskFn:C,beforeAddRecordingEvent:I,beforeErrorSampling:R,blockClass:P,blockSelector:O,maskInputOptions:N,maskTextClass:M,maskTextSelector:D,ignoreClass:j}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name=yL.id;const L=function(e){let{mask:t,unmask:n,block:r,unblock:o,ignore:i,blockClass:s,blockSelector:a,maskTextClass:l,maskTextSelector:c,ignoreClass:u}=e;const d={maskTextSelector:fL(t,[".sentry-mask","[data-sentry-mask]"],l,c),unmaskTextSelector:fL(n,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:fL(r,[".sentry-block","[data-sentry-block]",'base[href="/"]'],s,a),unblockSelector:fL(o,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:fL(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return s instanceof RegExp&&(d.blockClass=s),l instanceof RegExp&&(d.maskTextClass=l),d}({mask:S,unmask:k,block:A,unblock:E,ignore:T,blockClass:P,blockSelector:O,maskTextClass:M,maskTextSelector:D,ignoreClass:j});if(this._recordingOptions=Xi(Xi({maskAllInputs:d,maskAllText:u,maskInputOptions:Xi(Xi({},N||{}),{},{password:!0}),maskTextFn:C,maskInputFn:C,maskAttributeFn:(e,t,n)=>function(e){let{el:t,key:n,maskAttributes:r,maskAllText:o,privacyOptions:i,value:s}=e;return o?i.unmaskTextSelector&&t.matches(i.unmaskTextSelector)?s:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s:s}({maskAttributes:x,maskAllText:u,privacyOptions:L,key:e,value:t,el:n})},L),{},{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(LB){}}}),this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,DN),stickySession:o,sessionSampleRate:l,errorSampleRate:c,useCompression:i,workerUrl:s,blockAllMedia:h,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:v,networkDetailDenyUrls:y,networkCaptureBodies:b,networkRequestHeaders:bL(w),networkResponseHeaders:bL(_),beforeAddRecordingEvent:I,beforeErrorSampling:R,_experiments:a},"number"===typeof l&&(console.warn("[Replay] You are passing `sessionSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysSessionSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ".concat(l," })")),this._initialOptions.sessionSampleRate=l),"number"===typeof c&&(console.warn("[Replay] You are passing `errorSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysOnErrorSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ".concat(c," })")),this._initialOptions.errorSampleRate=c),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(mL):mL),this._isInitialized&&AN())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return vL}set _isInitialized(e){vL=e}setupOnce(){AN()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=function(e){const t=EC(),n=t&&t.getOptions(),r=Xi({sessionSampleRate:0,errorSampleRate:0},kT(e));if(!n)return GE((()=>{console.warn("SDK client is not available.")})),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&GE((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"===typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"===typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new pL({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=EC().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(jB){}}}function bL(e){return[...gL,...e.map((e=>e.toLowerCase()))]}yL.__initStatic();!function(e){const t=Xi({},e);YI(t,"react"),RP(t)}({dsn:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"your_firebase_api_key",REACT_APP_FIREBASE_APP_ID:"your_app_id",REACT_APP_FIREBASE_AUTH_DOMAIN:"your_app.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"your_sender_id",REACT_APP_FIREBASE_PROJECT_ID:"your_project_id",REACT_APP_FIREBASE_STORAGE_BUCKET:"your_storage_bucket",REACT_APP_GITHUB_CLIENT_ID:"your_github_client_id",REACT_APP_GITHUB_CLIENT_SECRET:"your_github_client_secret",REACT_APP_GOOGLE_CLOUD_API_KEY:"your_google_cloud_api_key",REACT_APP_GOOGLE_CLOUD_PROJECT_ID:"your_project_id",REACT_APP_OPENAI_API_KEY:"your_openai_api_key",REACT_APP_STRIPE_PUBLISHABLE_KEY:"your_stripe_publishable_key",REACT_APP_STRIPE_SECRET_KEY:"your_stripe_secret_key",REACT_APP_SUPABASE_ANON_KEY:"your_supabase_anon_key",REACT_APP_SUPABASE_URL:"your_supabase_project_url"}.REACT_APP_SENTRY_DSN,integrations:[new class{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,lO(),cO&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options=Xi(Xi({},yN),e),void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=iN(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&sN(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&zO("longtask",(e=>{let{entries:t}=e;for(const n of t){const e=eO();if(!e)return;const t=ZO(HT+n.startTime),r=ZO(n.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:t,endTimestamp:t+r})}})),this.options._experiments.enableInteractions&&zO("event",(e=>{let{entries:t}=e;for(const n of t){const e=eO();if(!e)return;if("click"===n.name){const t=ZO(HT+n.startTime),r=ZO(n.duration),o={description:uT(n.target),op:"ui.interaction.".concat(n.name),origin:"auto.ui.browser.metrics",startTimestamp:t,endTimestamp:t+r},i=hT(n.target);i&&(o.attributes={"ui.component_name":i}),e.startChild(o)}}})),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:i,startTransactionOnPageLoad:s,markBackgroundTransactions:a,traceFetch:l,traceXHR:c,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:h}=this.options,p=r&&r.tracePropagationTargets,f=p||this.options.tracePropagationTargets;cO&&this._hasSetTracePropagationTargets&&p&&$E.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),s,i),a&&(uO.document?uO.document.addEventListener("visibilitychange",(()=>{const e=eO();if(uO.document.hidden&&e){const t="cancelled",{op:n,status:r}=gC(e);cO&&$E.log("[Tracing] Transaction: ".concat(t," -> since tab moved to the background, op: ").concat(n)),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):cO&&$E.warn("[Tracing] Could not set up background tab detection due to lack of global document")),h.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),fN({traceFetch:l,traceXHR:c,tracePropagationTargets:f,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(cO&&$E.warn("[Tracing] Did not create ".concat(e.op," transaction because _getCurrentHub is invalid.")));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:o,heartbeatInterval:i}=this.options,s="pageload"===e.op;let a;if(s){const t=s?bN("sentry-trace"):"",n=s?bN("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:i,sampled:l}=uC(t,n);a=Xi(Xi({traceId:r,parentSpanId:i,parentSampled:l},e),{},{metadata:Xi(Xi({},e.metadata),{},{dynamicSamplingContext:o}),trimEnd:!0})}else a=Xi({trimEnd:!0},e);const l="function"===typeof n?n(a):a,c=void 0===l?Xi(Xi({},a),{},{sampled:!1}):l;c.metadata=c.name!==a.name?Xi(Xi({},c.metadata),{},{source:"custom"}):c.metadata,this._latestRoute.name=c.name,this._latestRoute.context=c,!1===c.sampled&&cO&&$E.log("[Tracing] Will not send ".concat(c.op," transaction because of beforeNavigate.")),cO&&$E.log("[Tracing] Starting ".concat(c.op," transaction on scope"));const{location:u}=uO,d=aO(t,c,r,o,!0,{location:u},i,s);return s&&uO.document&&(uO.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(uO.document.readyState)&&d.sendAutoFinishSignal()})),["interactive","complete"].includes(uO.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback((e=>{this._collectWebVitals(),lN(e)})),d}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,o="ui.action.click",i=eO();if(i&&i.op&&["navigation","pageload"].includes(i.op))return void(cO&&$E.warn("[Tracing] Did not create ".concat(o," transaction because a pageload or navigation transaction is in progress.")));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(cO&&$E.warn("[Tracing] Did not create ".concat(o," transaction because _getCurrentHub is invalid.")));if(!this._latestRoute.name)return void(cO&&$E.warn("[Tracing] Did not create ".concat(o," transaction because _latestRouteName is missing.")));const s=this._getCurrentHub(),{location:a}=uO,l={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[MP]:this._latestRoute.context?wN(this._latestRoute.context):"url"}};e=aO(s,l,t,n,!0,{location:a},r)};["click"].forEach((e=>{uO.document&&addEventListener(e,t,{once:!1,capture:!0})}))}_registerInpInteractionListener(){const e=e=>{let{entries:t}=e;const n=EC(),r=void 0!==n&&void 0!==n.getIntegrationByName?n.getIntegrationByName("Replay"):void 0,o=void 0!==r?r.getReplayId():void 0,i=eO(),s=TC(),a=void 0!==s?s.getUser():void 0;t.forEach((e=>{if(function(e){return"duration"in e}(e)){const t=e.interactionId;if(void 0===t)return;const n=this._interactionIdToRouteNameMapping[t],r=e.duration,s=e.startTime,l=Object.keys(this._interactionIdToRouteNameMapping),c=l.length>0?l.reduce(((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t)):void 0;if("first-input"===e.entryType){if(l.map((e=>this._interactionIdToRouteNameMapping[e])).some((e=>e.duration===r&&e.startTime===s)))return}if(!t)return;if(n)n.duration=Math.max(n.duration,r);else if(l.length<10||void 0===c||r>this._interactionIdToRouteNameMapping[c].duration){const e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(c&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[c],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:r,parentContext:n,user:a,activeTransaction:i,replayId:o,startTime:s})}}}))};zO("event",e),zO("first-input",e)}}({tracePropagationTargets:["localhost","englishlearningapp.com"]}),new yL],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:"production"});class wL extends Error{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(t),this.name=this.constructor.name,this.type=e,this.metadata=n,this.timestamp=(new Date).toISOString()}}class _L extends wL{constructor(e){super("validation",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}class SL extends wL{constructor(e,t){super("data_sync",t,Xi({operation:e},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))}}const xL=new class{constructor(){this.errorQueue=[],this.isProcessing=!1,this.retryAttempts=3,this.retryDelay=1e3}async reportError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={error:{name:e.name,message:e.message,stack:e.stack,type:e instanceof wL?e.type:"unknown",metadata:e instanceof wL?e.metadata:{}},context:Xi({url:window.location.href,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent},t),metadata:Xi(Xi({},n),{},{sessionId:this.getSessionId()})};return this.errorQueue.push(r),this.isProcessing||await this.processErrorQueue(),r}async processErrorQueue(){if(!this.isProcessing&&0!==this.errorQueue.length){this.isProcessing=!0;try{for(;this.errorQueue.length>0;){const e=this.errorQueue.shift();await this.sendErrorToServer(e)}}catch(e){console.error("Error processing error queue:",e)}finally{this.isProcessing=!1}}}async sendErrorToServer(e){try{return console.log("Sending error to server:",e),await new Promise((e=>setTimeout(e,1e3))),!0}catch(LB){throw console.error("Failed to send error to server:",LB),LB}}getSessionId(){let e=sessionStorage.getItem("errorReportingSessionId");return e||(e="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),sessionStorage.setItem("errorReportingSessionId",e)),e}delay(e){return new Promise((t=>setTimeout(t,e)))}},kL=(0,mt.Ay)(un)((e=>{let{theme:t}=e;return{padding:t.spacing(3),marginTop:t.spacing(3),textAlign:"center",backgroundColor:t.palette.error.light,color:t.palette.error.contrastText}}));class AL extends e.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorDetails:null}),this.props.onReset&&this.props.onReset()},this.state={hasError:!1,error:null,errorInfo:null,errorDetails:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){((e,t)=>{xL.reportError(e,t,{type:"boundary",location:window.location.href})})(e,t);const n=xL.formatErrorForDisplay(e,t);this.setState({error:e,errorInfo:t,errorDetails:n})}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback(this.state.error,this.handleReset);const{errorDetails:e}=this.state;return(0,h.jsx)(A_,{maxWidth:"sm",children:(0,h.jsxs)(kL,{elevation:3,children:[(0,h.jsx)(rk,{sx:{fontSize:60,color:"error.main",mb:2}}),(0,h.jsx)(Tn,{variant:"h5",gutterBottom:!0,color:"error.main",children:(null===e||void 0===e?void 0:e.title)||"Oops! Something went wrong"}),(0,h.jsx)(Tn,{variant:"body1",paragraph:!0,children:(null===e||void 0===e?void 0:e.message)||"We apologize for the inconvenience. The application encountered an unexpected error."}),(null===e||void 0===e?void 0:e.details)&&(0,h.jsxs)(U_,{severity:"error",sx:{mb:2,textAlign:"left"},children:[(0,h.jsx)(nk,{children:"Technical Details"}),(0,h.jsx)(ut,{component:"pre",sx:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:"0.875rem"},children:JSON.stringify(e.details,null,2)})]}),(0,h.jsxs)(ut,{sx:{mt:2,display:"flex",gap:2,justifyContent:"center"},children:[(0,h.jsx)(Pi,{variant:"contained",color:"primary",onClick:this.handleReset,children:"Try Again"}),(0,h.jsx)(Pi,{variant:"outlined",color:"primary",onClick:()=>window.location.reload(),children:"Reload Page"})]})]})})}return this.props.children}}const EL=AL,TL=[1,4,8,24,72,168,336,720];const CL=function(){Yt();const{user:t}=n_(),[n,r]=(0,e.useState)(!0),[o,i]=(0,e.useState)(null),[s,a]=(0,e.useState)(0),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(0),[p,f]=(0,e.useState)(!1),[m,g]=(0,e.useState)({}),[v,y]=(0,e.useState)(!1),[b,w]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{try{r(!0);const e=await fetch("/api/vocabulary?level=".concat(t.learning_level)),n=await e.json();c(n.words),g(n.progress)}catch(e){i("Failed to load vocabulary. Please try again."),console.error("Error:",e)}finally{r(!1)}})()}),[t.learning_level]);const _=()=>{u<l.length-1&&(d((e=>e+1)),f(!1))},S=async e=>{try{const t=l[u],n=m[t.id]||{correctCount:0,incorrectCount:0,lastReviewed:null,nextReview:null,level:0};e?(n.correctCount++,n.level=Math.min(n.level+1,TL.length-1)):(n.incorrectCount++,n.level=Math.max(n.level-1,0)),n.lastReviewed=(new Date).toISOString(),n.nextReview=new Date(Date.now()+36e5*TL[n.level]).toISOString(),await fetch("/api/vocabulary/progress",{method:"POST",body:JSON.stringify({wordId:t.id,progress:n})}),g((e=>Xi(Xi({},e),{},{[t.id]:n}))),_()}catch(t){i("Failed to save progress. Please try again.")}};if(n)return(0,h.jsx)(ut,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,h.jsx)(Mt,{})});if(o)return(0,h.jsx)(A_,{maxWidth:"lg",sx:{mt:4},children:(0,h.jsx)(Tn,{color:"error",children:o})});const x=l[u],k=x?m[x.id]:null;return(0,h.jsxs)(A_,{maxWidth:"lg",sx:{mt:4},children:[(0,h.jsxs)(ut,{sx:{mb:4},children:[(0,h.jsx)(Tn,{variant:"h4",component:"h1",gutterBottom:!0,children:"Vocabulary Practice"}),(0,h.jsx)(un,{sx:{mb:3},children:(0,h.jsxs)(US,{value:s,onChange:(e,t)=>{a(t),f(!1),d(0)},variant:"scrollable",scrollButtons:"auto",children:[(0,h.jsx)(qS,{label:"Learn New Words"}),(0,h.jsx)(qS,{label:"Review"}),(0,h.jsx)(qS,{label:"Mastered"})]})})]}),(0,h.jsxs)(X_,{container:!0,spacing:3,children:[(0,h.jsx)(X_,{item:!0,xs:12,md:8,children:(0,h.jsx)(EL,{children:(0,h.jsx)(tS,{sx:{minHeight:400,display:"flex",flexDirection:"column",position:"relative"},children:x&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(mx,{variant:"determinate",value:u/l.length*100,sx:{position:"absolute",top:0,width:"100%"}}),(0,h.jsxs)(iS,{sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,h.jsxs)(ut,{sx:{mb:4,textAlign:"center"},children:[(0,h.jsxs)(Tn,{variant:"h3",component:"h2",gutterBottom:!0,children:[x.word,(0,h.jsx)(fr,{onClick:()=>(e=>{const t=new SpeechSynthesisUtterance(e);t.lang="en-US",window.speechSynthesis.speak(t)})(x.word),size:"large",children:(0,h.jsx)($x,{})})]}),(0,h.jsx)(Tn,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0,children:x.phonetic}),k&&(0,h.jsxs)(ut,{sx:{mt:1},children:[(0,h.jsx)(kx,{label:"Level ".concat(k.level+1),color:"primary",size:"small",sx:{mr:1}}),(0,h.jsx)(kx,{label:"".concat(k.correctCount," correct"),color:"success",size:"small"})]})]}),(0,h.jsx)(vo,{in:p,children:(0,h.jsxs)(ut,{sx:{textAlign:"center",width:"100%"},children:[(0,h.jsx)(Tn,{variant:"h6",gutterBottom:!0,children:x.definition}),(0,h.jsx)(Tn,{variant:"body1",color:"textSecondary",paragraph:!0,children:x.example}),x.synonyms&&(0,h.jsxs)(Tn,{variant:"body2",color:"textSecondary",children:["Synonyms: ",x.synonyms.join(", ")]})]})})]}),(0,h.jsxs)(ut,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,h.jsx)(Pi,{startIcon:(0,h.jsx)(Jx,{}),onClick:()=>{u>0&&(d((e=>e-1)),f(!1))},disabled:0===u,children:"Previous"}),p?(0,h.jsxs)(ut,{sx:{display:"flex",gap:2},children:[(0,h.jsx)(Pi,{variant:"contained",color:"success",startIcon:(0,h.jsx)(Yx,{}),onClick:()=>S(!0),children:"I knew this"}),(0,h.jsx)(Pi,{variant:"contained",color:"error",startIcon:(0,h.jsx)(Xx,{}),onClick:()=>S(!1),children:"Still learning"})]}):(0,h.jsx)(Pi,{variant:"contained",color:"primary",onClick:()=>f(!0),children:"Show Answer"}),(0,h.jsx)(Pi,{endIcon:(0,h.jsx)(Qx,{}),onClick:_,disabled:u===l.length-1,children:"Next"})]})]})})})}),(0,h.jsx)(X_,{item:!0,xs:12,md:4,children:(0,h.jsx)(tS,{children:(0,h.jsxs)(iS,{children:[(0,h.jsx)(Tn,{variant:"h6",gutterBottom:!0,children:"Your Progress"}),(0,h.jsxs)(ut,{sx:{mb:2},children:[(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",children:"Words Mastered"}),(0,h.jsx)(Tn,{variant:"h4",children:Object.values(m).filter((e=>e.level>=5)).length})]}),(0,h.jsxs)(ut,{sx:{mb:2},children:[(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",children:"Current Streak"}),(0,h.jsxs)(Tn,{variant:"h4",children:[t.vocabulary_streak||0," days"]})]}),(0,h.jsx)(Pi,{variant:"outlined",fullWidth:!0,onClick:()=>w(!0),children:"View Detailed Stats"})]})})})]}),(0,h.jsxs)(Mx,{open:b,onClose:()=>w(!1),maxWidth:"md",fullWidth:!0,children:[(0,h.jsxs)(zx,{children:["Learning Statistics",(0,h.jsx)(fr,{onClick:()=>w(!1),sx:{position:"absolute",right:8,top:8},children:(0,h.jsx)(Xx,{})})]}),(0,h.jsx)(Wx,{children:(0,h.jsxs)(X_,{container:!0,spacing:3,children:[(0,h.jsx)(X_,{item:!0,xs:12,md:4,children:(0,h.jsxs)(un,{sx:{p:2,textAlign:"center"},children:[(0,h.jsx)(Tn,{variant:"h4",children:l.length}),(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",children:"Total Words"})]})}),(0,h.jsx)(X_,{item:!0,xs:12,md:4,children:(0,h.jsxs)(un,{sx:{p:2,textAlign:"center"},children:[(0,h.jsx)(Tn,{variant:"h4",children:Object.values(m).reduce(((e,t)=>e+t.correctCount),0)}),(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",children:"Correct Answers"})]})}),(0,h.jsx)(X_,{item:!0,xs:12,md:4,children:(0,h.jsxs)(un,{sx:{p:2,textAlign:"center"},children:[(0,h.jsx)(Tn,{variant:"h4",children:Object.values(m).filter((e=>e.level>=5)).length}),(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",children:"Words Mastered"})]})})]})}),(0,h.jsx)(Gx,{children:(0,h.jsx)(Pi,{onClick:()=>w(!1),children:"Close"})})]})]})};function IL(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function RL(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(IL(e.value)&&""!==e.value||t&&IL(e.defaultValue)&&""!==e.defaultValue)}var PL=n(7328);const OL=e.createContext(void 0);function NL(e){return(0,gt.Ay)("MuiFormControl",e)}(0,st.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const ML=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],DL=(0,mt.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,o.A)({},t.root,t["margin".concat((0,ft.A)(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),jL=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiFormControl"}),{children:s,className:a,color:l="primary",component:c="div",disabled:u=!1,error:d=!1,focused:p,fullWidth:f=!1,hiddenLabel:m=!1,margin:g="none",required:v=!1,size:y="medium",variant:b="outlined"}=r,w=(0,Qe.A)(r,ML),_=(0,o.A)({},r,{color:l,component:c,disabled:u,error:d,fullWidth:f,hiddenLabel:m,margin:g,required:v,size:y,variant:b}),S=(e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root","none"!==n&&"margin".concat((0,ft.A)(n)),r&&"fullWidth"]};return(0,ht.A)(o,NL,t)})(_),[x,k]=e.useState((()=>{let t=!1;return s&&e.Children.forEach(s,(e=>{if(!(0,PL.A)(e,["Input","Select"]))return;const n=(0,PL.A)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)})),t})),[A,E]=e.useState((()=>{let t=!1;return s&&e.Children.forEach(s,(e=>{(0,PL.A)(e,["Input","Select"])&&(RL(e.props,!0)||RL(e.props.inputProps,!0))&&(t=!0)})),t})),[T,C]=e.useState(!1);u&&T&&C(!1);const I=void 0===p||u?T:p;let R;const P=e.useMemo((()=>({adornedStart:x,setAdornedStart:k,color:l,disabled:u,error:d,filled:A,focused:I,fullWidth:f,hiddenLabel:m,size:y,onBlur:()=>{C(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{C(!0)},registerEffect:R,required:v,variant:b})),[x,l,u,d,A,I,f,m,R,v,y,b]);return(0,h.jsx)(OL.Provider,{value:P,children:(0,h.jsx)(DL,(0,o.A)({as:c,ownerState:_,className:(0,Ze.A)(S.root,a),ref:n},w,{children:s}))})})),LL=jL;function FL(e){return(0,gt.Ay)("MuiFormGroup",e)}(0,st.A)("MuiFormGroup",["root","row","error"]);function zL(){return e.useContext(OL)}function UL(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const BL=["className","row"],VL=(0,mt.Ay)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),WL=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiFormGroup"}),{className:r,row:s=!1}=n,a=(0,Qe.A)(n,BL),l=UL({props:n,muiFormControl:zL(),states:["error"]}),c=(0,o.A)({},n,{row:s,error:l.error}),u=(e=>{const{classes:t,row:n,error:r}=e,o={root:["root",n&&"row",r&&"error"]};return(0,ht.A)(o,FL,t)})(c);return(0,h.jsx)(VL,(0,o.A)({className:(0,Ze.A)(u.root,r),ownerState:c,ref:t},a))}));function HL(e){return(0,gt.Ay)("MuiRadioGroup",e)}(0,st.A)("MuiRadioGroup",["root","row","error"]);var qL=n(5420);const KL=e.createContext(void 0);var GL=n(5879);const $L=["actions","children","className","defaultValue","name","onChange","value"],JL=e.forwardRef((function(t,n){const{actions:r,children:i,className:s,defaultValue:a,name:l,onChange:c,value:u}=t,d=(0,Qe.A)(t,$L),p=e.useRef(null),f=(e=>{const{classes:t,row:n,error:r}=e,o={root:["root",n&&"row",r&&"error"]};return(0,ht.A)(o,HL,t)})(t),[m,g]=(0,qL.A)({controlled:u,default:a,name:"RadioGroup"});e.useImperativeHandle(r,(()=>({focus:()=>{let e=p.current.querySelector("input:not(:disabled):checked");e||(e=p.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const v=(0,Cn.A)(n,p),y=(0,GL.A)(l),b=e.useMemo((()=>({name:y,onChange(e){g(e.target.value),c&&c(e,e.target.value)},value:m})),[y,c,g,m]);return(0,h.jsx)(KL.Provider,{value:b,children:(0,h.jsx)(WL,(0,o.A)({role:"radiogroup",ref:v,className:(0,Ze.A)(f.root,s)},d,{children:i}))})}));var YL=n(8604);const XL=["component","direction","spacing","divider","children","className","useFlexGap"],QL=(0,a.A)(),ZL=b_("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function eF(e){return a_({props:e,name:"MuiStack",defaultTheme:QL})}function tF(t,n){const r=e.Children.toArray(t).filter(Boolean);return r.reduce(((t,o,i)=>(t.push(o),i<r.length-1&&t.push(e.cloneElement(n,{key:"separator-".concat(i)})),t)),[])}const nF=e=>{let{ownerState:t,theme:n}=e,r=(0,o.A)({display:"flex",flexDirection:"column"},(0,B_.NI)({theme:n},(0,B_.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,YL.LX)(n),o=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),i=(0,B_.kW)({values:t.direction,base:o}),s=(0,B_.kW)({values:t.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach(((e,t,n)=>{if(!i[e]){const r=t>0?i[n[t-1]]:"column";i[e]=r}}));const a=(n,r)=>{return t.useFlexGap?{gap:(0,YL._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((o=r?i[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]))]:(0,YL._W)(e,n)}};var o};r=(0,l_.A)(r,(0,B_.NI)({theme:n},s,a))}return r=(0,B_.iZ)(n.breakpoints,r),r};const rF=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=ZL,useThemeProps:r=eF,componentName:i="MuiStack"}=t,s=n(nF);return e.forwardRef((function(e,t){const n=r(e),a=(0,nt.A)(n),{component:l="div",direction:c="column",spacing:u=0,divider:d,children:p,className:f,useFlexGap:m=!1}=a,g=(0,Qe.A)(a,XL),v={direction:c,spacing:u,useFlexGap:m},y=(0,ht.A)({root:["root"]},(e=>(0,gt.Ay)(i,e)),{});return(0,h.jsx)(s,(0,o.A)({as:l,ownerState:v,ref:t,className:(0,Ze.A)(y.root,f)},g,{children:d?tF(p,d):p}))}))}({createStyledComponent:(0,mt.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,i.b)({props:e,name:"MuiStack"})}),oF=rF;function iF(e){return(0,gt.Ay)("MuiFormControlLabel",e)}const sF=(0,st.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),aF=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],lF=(0,mt.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(sF.label)]:t.label},t.root,t["labelPlacement".concat((0,ft.A)(n.labelPlacement))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(sF.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(sF.label)]:{["&.".concat(sF.disabled)]:{color:(t.vars||t).palette.text.disabled}}})})),cF=(0,mt.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(sF.error)]:{color:(t.vars||t).palette.error.main}}})),uF=e.forwardRef((function(t,n){var r,s;const a=(0,i.b)({props:t,name:"MuiFormControlLabel"}),{className:l,componentsProps:c={},control:u,disabled:d,disableTypography:p,label:f,labelPlacement:m="end",required:g,slotProps:v={}}=a,y=(0,Qe.A)(a,aF),b=zL(),w=null!=(r=null!=d?d:u.props.disabled)?r:null==b?void 0:b.disabled,_=null!=g?g:u.props.required,S={disabled:w,required:_};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof u.props[e]&&"undefined"!==typeof a[e]&&(S[e]=a[e])}));const x=UL({props:a,muiFormControl:b,states:["error"]}),k=(0,o.A)({},a,{disabled:w,labelPlacement:m,required:_,error:x.error}),A=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e,s={root:["root",n&&"disabled","labelPlacement".concat((0,ft.A)(r)),o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,ht.A)(s,iF,t)})(k),E=null!=(s=v.typography)?s:c.typography;let T=f;return null==T||T.type===Tn||p||(T=(0,h.jsx)(Tn,(0,o.A)({component:"span"},E,{className:(0,Ze.A)(A.label,null==E?void 0:E.className),children:T}))),(0,h.jsxs)(lF,(0,o.A)({className:(0,Ze.A)(A.root,l),ownerState:k,ref:n},y,{children:[e.cloneElement(u,S),_?(0,h.jsxs)(oF,{display:"block",children:[T,(0,h.jsxs)(cF,{ownerState:k,"aria-hidden":!0,className:A.asterisk,children:["\u2009","*"]})]}):T]}))}));function dF(e){return(0,gt.Ay)("PrivateSwitchBase",e)}(0,st.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const hF=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],pF=(0,mt.Ay)(cr)((e=>{let{ownerState:t}=e;return(0,o.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),fF=(0,mt.Ay)("input",{shouldForwardProp:$o.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),mF=e.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,className:s,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:p,inputProps:f,inputRef:m,name:g,onBlur:v,onChange:y,onFocus:b,readOnly:w,required:_=!1,tabIndex:S,type:x,value:k}=e,A=(0,Qe.A)(e,hF),[E,T]=(0,qL.A)({controlled:r,default:Boolean(a),name:"SwitchBase",state:"checked"}),C=zL();let I=l;C&&"undefined"===typeof I&&(I=C.disabled);const R="checkbox"===x||"radio"===x,P=(0,o.A)({},e,{checked:E,disabled:I,disableFocusRipple:c,edge:u}),O=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&"edge".concat((0,ft.A)(o))],input:["input"]};return(0,ht.A)(i,dF,t)})(P);return(0,h.jsxs)(pF,(0,o.A)({component:"span",className:(0,Ze.A)(O.root,s),centerRipple:!0,focusRipple:!c,disabled:I,tabIndex:null,role:void 0,onFocus:e=>{b&&b(e),C&&C.onFocus&&C.onFocus(e)},onBlur:e=>{v&&v(e),C&&C.onBlur&&C.onBlur(e)},ownerState:P,ref:t},A,{children:[(0,h.jsx)(fF,(0,o.A)({autoFocus:n,checked:r,defaultChecked:a,className:O.input,disabled:I,id:R?p:void 0,name:g,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;T(t),y&&y(e,t)},readOnly:w,ref:m,required:_,ownerState:P,tabIndex:S,type:x},"checkbox"===x&&void 0===k?{}:{value:k},f)),E?i:d]}))})),gF=(0,Oi.A)((0,h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),vF=(0,Oi.A)((0,h.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),yF=(0,mt.Ay)("span",{shouldForwardProp:$o.A})({position:"relative",display:"flex"}),bF=(0,mt.Ay)(gF)({transform:"scale(1)"}),wF=(0,mt.Ay)(vF)((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const _F=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,i=(0,o.A)({},e,{checked:t});return(0,h.jsxs)(yF,{className:n.root,ownerState:i,children:[(0,h.jsx)(bF,{fontSize:r,className:n.background,ownerState:i}),(0,h.jsx)(wF,{fontSize:r,className:n.dot,ownerState:i})]})};var SF=n(6593);function xF(e){return(0,gt.Ay)("MuiRadio",e)}const kF=(0,st.A)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),AF=["checked","checkedIcon","color","icon","name","onChange","size","className"],EF=(0,mt.Ay)(mF,{shouldForwardProp:e=>(0,$o.A)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat((0,ft.A)(n.size))],t["color".concat((0,ft.A)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,rn.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(kF.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(kF.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const TF=(0,h.jsx)(_F,{checked:!0}),CF=(0,h.jsx)(_F,{}),IF=e.forwardRef((function(t,n){var r,s;const a=(0,i.b)({props:t,name:"MuiRadio"}),{checked:l,checkedIcon:c=TF,color:u="primary",icon:d=CF,name:p,onChange:f,size:m="medium",className:g}=a,v=(0,Qe.A)(a,AF),y=(0,o.A)({},a,{color:u,size:m}),b=(e=>{const{classes:t,color:n,size:r}=e,i={root:["root","color".concat((0,ft.A)(n)),"medium"!==r&&"size".concat((0,ft.A)(r))]};return(0,o.A)({},t,(0,ht.A)(i,xF,t))})(y),w=e.useContext(KL);let _=l;const S=(0,SF.A)(f,w&&w.onChange);let x=p;var k,A;return w&&("undefined"===typeof _&&(k=w.value,_="object"===typeof(A=a.value)&&null!==A?k===A:String(k)===String(A)),"undefined"===typeof x&&(x=w.name)),(0,h.jsx)(EF,(0,o.A)({type:"radio",icon:e.cloneElement(d,{fontSize:null!=(r=CF.props.fontSize)?r:m}),checkedIcon:e.cloneElement(c,{fontSize:null!=(s=TF.props.fontSize)?s:m}),ownerState:y,classes:b,name:x,checked:_,onChange:S,ref:n,className:(0,Ze.A)(b.root,g)},v))}));var RF=n(4318);function PF(e){return(0,gt.Ay)("MuiCollapse",e)}(0,st.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const OF=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],NF=(0,mt.Ay)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&(0,o.A)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),MF=(0,mt.Ay)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),DF=(0,mt.Ay)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((e=>{let{ownerState:t}=e;return(0,o.A)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),jF=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiCollapse"}),{addEndListener:s,children:a,className:l,collapsedSize:c="0px",component:u,easing:d,in:p,onEnter:f,onEntered:m,onEntering:g,onExit:v,onExited:y,onExiting:b,orientation:w="vertical",style:_,timeout:S=RF.p0.standard,TransitionComponent:x=Xr}=r,k=(0,Qe.A)(r,OF),A=(0,o.A)({},r,{orientation:w,collapsedSize:c}),E=(e=>{const{orientation:t,classes:n}=e,r={root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]};return(0,ht.A)(r,PF,n)})(A),T=Yt(),C=(0,Un.A)(),I=e.useRef(null),R=e.useRef(),P="number"===typeof c?"".concat(c,"px"):c,O="horizontal"===w,N=O?"width":"height",M=e.useRef(null),D=(0,Cn.A)(n,M),j=e=>t=>{if(e){const n=M.current;void 0===t?e(n):e(n,t)}},L=()=>I.current?I.current[O?"clientWidth":"clientHeight"]:0,F=j(((e,t)=>{I.current&&O&&(I.current.style.position="absolute"),e.style[N]=P,f&&f(e,t)})),z=j(((e,t)=>{const n=L();I.current&&O&&(I.current.style.position="");const{duration:r,easing:o}=Zr({style:_,timeout:S,easing:d},{mode:"enter"});if("auto"===S){const t=T.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(t,"ms"),R.current=t}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style[N]="".concat(n,"px"),e.style.transitionTimingFunction=o,g&&g(e,t)})),U=j(((e,t)=>{e.style[N]="auto",m&&m(e,t)})),B=j((e=>{e.style[N]="".concat(L(),"px"),v&&v(e)})),V=j(y),W=j((e=>{const t=L(),{duration:n,easing:r}=Zr({style:_,timeout:S,easing:d},{mode:"exit"});if("auto"===S){const n=T.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),R.current=n}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style[N]=P,e.style.transitionTimingFunction=r,b&&b(e)}));return(0,h.jsx)(x,(0,o.A)({in:p,onEnter:F,onEntered:U,onEntering:z,onExit:B,onExited:V,onExiting:W,addEndListener:e=>{"auto"===S&&C.start(R.current||0,e),s&&s(M.current,e)},nodeRef:M,timeout:"auto"===S?null:S},k,{children:(e,t)=>(0,h.jsx)(NF,(0,o.A)({as:u,className:(0,Ze.A)(E.root,l,{entered:E.entered,exited:!p&&"0px"===P&&E.hidden}[e]),style:(0,o.A)({[O?"minWidth":"minHeight"]:P},_),ref:D},t,{ownerState:(0,o.A)({},A,{state:e}),children:(0,h.jsx)(MF,{ownerState:(0,o.A)({},A,{state:e}),className:E.wrapper,ref:I,children:(0,h.jsx)(DF,{ownerState:(0,o.A)({},A,{state:e}),className:E.wrapperInner,children:a})})}))}))}));jF.muiSupportAuto=!0;const LF=jF,FF=["Tenses","Articles","Prepositions","Modal Verbs","Conditionals","Passive Voice","Reported Speech","Conjunctions"];const zF=function(){const t=Yt(),{user:n}=n_(),[r,o]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)([]),[d,p]=(0,e.useState)(0),[f,m]=(0,e.useState)(""),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)({}),[w,_]=(0,e.useState)(!1),[S,x]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{try{o(!0);const e=await fetch("/api/grammar?level=".concat(n.learning_level,"&category=").concat(FF[a])),t=await e.json();u(t.exercises),b(t.progress)}catch(e){s("Failed to load exercises. Please try again."),console.error("Error:",e)}finally{o(!1)}})()}),[n.learning_level,a]);const k=()=>{d<c.length-1&&(p((e=>e+1)),m(""),v(!1),x(!1))};if(r)return(0,h.jsx)(ut,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,h.jsx)(Mt,{})});if(i)return(0,h.jsx)(A_,{maxWidth:"lg",sx:{mt:4},children:(0,h.jsx)(U_,{severity:"error",children:i})});const A=c[d];return A&&y[A.id],(0,h.jsxs)(A_,{maxWidth:"lg",sx:{mt:4},children:[(0,h.jsxs)(ut,{sx:{mb:4},children:[(0,h.jsx)(Tn,{variant:"h4",component:"h1",gutterBottom:!0,children:"Grammar Practice"}),(0,h.jsx)(un,{sx:{mb:3},children:(0,h.jsx)(US,{value:a,onChange:(e,t)=>{l(t),p(0),m(""),v(!1)},variant:"scrollable",scrollButtons:"auto",children:FF.map(((e,t)=>(0,h.jsx)(qS,{label:e},e)))})})]}),(0,h.jsxs)(X_,{container:!0,spacing:3,children:[(0,h.jsx)(X_,{item:!0,xs:12,md:8,children:(0,h.jsx)(EL,{children:(0,h.jsx)(tS,{sx:{minHeight:400},children:A&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(mx,{variant:"determinate",value:d/c.length*100,sx:{borderRadius:"4px 4px 0 0"}}),(0,h.jsxs)(iS,{children:[(0,h.jsxs)(ut,{sx:{mb:4},children:[(0,h.jsx)(Tn,{variant:"h6",gutterBottom:!0,children:A.question}),A.context&&(0,h.jsxs)(Tn,{variant:"body2",color:"textSecondary",paragraph:!0,children:["Context: ",A.context]})]}),(0,h.jsx)(LL,{component:"fieldset",sx:{width:"100%"},children:(0,h.jsx)(JL,{value:f,onChange:e=>m(e.target.value),children:A.options.map(((e,n)=>(0,h.jsx)(uF,{value:e,control:(0,h.jsx)(IF,{}),label:e,disabled:g,sx:Xi(Xi({},g&&e===A.correctAnswer&&{color:t.palette.success.main}),g&&f===e&&e!==A.correctAnswer&&{color:t.palette.error.main})},n)))})}),(0,h.jsx)(LF,{in:g,children:(0,h.jsx)(ut,{sx:{mt:3},children:(0,h.jsx)(U_,{severity:f===A.correctAnswer?"success":"error",action:(0,h.jsx)(Pi,{color:"inherit",size:"small",onClick:()=>x(!0),children:"Learn More"}),children:f===A.correctAnswer?"Correct! Well done!":"Incorrect. The correct answer is: ".concat(A.correctAnswer)})})})]}),(0,h.jsxs)(ut,{sx:{p:2,display:"flex",justifyContent:"space-between",borderTop:1,borderColor:"divider"},children:[(0,h.jsx)(Pi,{startIcon:(0,h.jsx)(Jx,{}),onClick:()=>{d>0&&(p((e=>e-1)),m(""),v(!1),x(!1))},disabled:0===d,children:"Previous"}),g?(0,h.jsx)(Pi,{variant:"contained",color:"primary",onClick:k,disabled:d===c.length-1,children:"Next Exercise"}):(0,h.jsx)(Pi,{variant:"contained",color:"primary",onClick:async()=>{try{const e=c[d],t=f===e.correctAnswer;await fetch("/api/grammar/progress",{method:"POST",body:JSON.stringify({exerciseId:e.id,correct:t,category:FF[a]})}),b((n=>{var r,o;return Xi(Xi({},n),{},{[e.id]:Xi(Xi({},n[e.id]),{},{attempts:((null===(r=n[e.id])||void 0===r?void 0:r.attempts)||0)+1,correct:((null===(o=n[e.id])||void 0===o?void 0:o.correct)||0)+(t?1:0)})})})),v(!0)}catch(e){s("Failed to save progress. Please try again.")}},disabled:!f,children:"Check Answer"}),(0,h.jsx)(Pi,{endIcon:(0,h.jsx)(Qx,{}),onClick:k,disabled:d===c.length-1,children:"Skip"})]})]})})})}),(0,h.jsx)(X_,{item:!0,xs:12,md:4,children:(0,h.jsx)(tS,{children:(0,h.jsxs)(iS,{children:[(0,h.jsx)(Tn,{variant:"h6",gutterBottom:!0,children:"Your Progress"}),(0,h.jsxs)(ut,{sx:{mb:2},children:[(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",children:"Exercises Completed"}),(0,h.jsx)(Tn,{variant:"h4",children:Object.keys(y).length})]}),(0,h.jsxs)(ut,{sx:{mb:2},children:[(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",children:"Success Rate"}),(0,h.jsxs)(Tn,{variant:"h4",children:[Object.values(y).reduce(((e,t)=>e+(t.correct||0)),0)," / ",Object.values(y).reduce(((e,t)=>e+(t.attempts||0)),0)]})]}),(0,h.jsx)(Pi,{variant:"outlined",fullWidth:!0,onClick:()=>_(!0),children:"View Detailed Stats"})]})})})]}),(0,h.jsxs)(Mx,{open:S,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[(0,h.jsxs)(zx,{children:["Grammar Explanation",(0,h.jsx)(fr,{onClick:()=>x(!1),sx:{position:"absolute",right:8,top:8},children:(0,h.jsx)(Xx,{})})]}),(0,h.jsx)(Wx,{children:A&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(Tn,{variant:"h6",gutterBottom:!0,children:["Rule: ",A.grammarRule]}),(0,h.jsx)(Tn,{variant:"body1",paragraph:!0,children:A.explanation}),(0,h.jsx)(wi,{sx:{my:2}}),(0,h.jsx)(Tn,{variant:"h6",gutterBottom:!0,children:"Examples:"}),A.examples.map(((e,t)=>(0,h.jsxs)(Tn,{variant:"body1",sx:{mb:1},children:["\u2022 ",e]},t)))]})}),(0,h.jsx)(Gx,{children:(0,h.jsx)(Pi,{onClick:()=>x(!1),children:"Close"})})]}),(0,h.jsxs)(Mx,{open:w,onClose:()=>_(!1),maxWidth:"md",fullWidth:!0,children:[(0,h.jsxs)(zx,{children:["Grammar Statistics",(0,h.jsx)(fr,{onClick:()=>_(!1),sx:{position:"absolute",right:8,top:8},children:(0,h.jsx)(Xx,{})})]}),(0,h.jsx)(Wx,{children:(0,h.jsx)(X_,{container:!0,spacing:3,children:FF.map((e=>{const t=Object.values(y).filter((t=>t.category===e)),n=t.reduce(((e,t)=>e+(t.attempts||0)),0),r=t.reduce(((e,t)=>e+(t.correct||0)),0);return(0,h.jsx)(X_,{item:!0,xs:12,sm:6,children:(0,h.jsxs)(un,{sx:{p:2},children:[(0,h.jsx)(Tn,{variant:"subtitle1",gutterBottom:!0,children:e}),(0,h.jsxs)(ut,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,h.jsxs)(Tn,{variant:"h6",children:[n>0?Math.round(r/n*100):0,"%"]}),(0,h.jsxs)(Tn,{variant:"body2",color:"textSecondary",children:["(",r,"/",n,")"]})]})]})},e)}))})}),(0,h.jsx)(Gx,{children:(0,h.jsx)(Pi,{onClick:()=>_(!1),children:"Close"})})]})]})},UF={completed:45,total:100,streak:7,lastPracticed:"2023-12-08"},BF={completed:30,total:75,streak:5,lastPracticed:"2023-12-07"};const VF=function(){const e=(e,t)=>e/t*100;return(0,h.jsxs)(A_,{maxWidth:"md",sx:{mt:4},children:[(0,h.jsx)(Tn,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",children:"Your Progress"}),(0,h.jsxs)(X_,{container:!0,spacing:4,children:[(0,h.jsx)(X_,{item:!0,xs:12,md:6,children:(0,h.jsx)(tS,{children:(0,h.jsxs)(iS,{children:[(0,h.jsx)(Tn,{variant:"h5",gutterBottom:!0,children:"Vocabulary Progress"}),(0,h.jsxs)(ut,{sx:{mt:3},children:[(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",children:"Words Mastered"}),(0,h.jsxs)(ut,{sx:{display:"flex",alignItems:"center",mt:1},children:[(0,h.jsx)(ut,{sx:{width:"100%",mr:1},children:(0,h.jsx)(mx,{variant:"determinate",value:e(UF.completed,UF.total)})}),(0,h.jsx)(ut,{sx:{minWidth:35},children:(0,h.jsxs)(Tn,{variant:"body2",color:"textSecondary",children:[UF.completed,"/",UF.total]})})]})]}),(0,h.jsxs)(ut,{sx:{mt:3},children:[(0,h.jsxs)(Tn,{variant:"body1",children:["Current Streak: ",UF.streak," days"]}),(0,h.jsxs)(Tn,{variant:"body2",color:"textSecondary",children:["Last practiced: ",UF.lastPracticed]})]})]})})}),(0,h.jsx)(X_,{item:!0,xs:12,md:6,children:(0,h.jsx)(tS,{children:(0,h.jsxs)(iS,{children:[(0,h.jsx)(Tn,{variant:"h5",gutterBottom:!0,children:"Grammar Progress"}),(0,h.jsxs)(ut,{sx:{mt:3},children:[(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",children:"Exercises Completed"}),(0,h.jsxs)(ut,{sx:{display:"flex",alignItems:"center",mt:1},children:[(0,h.jsx)(ut,{sx:{width:"100%",mr:1},children:(0,h.jsx)(mx,{variant:"determinate",value:e(BF.completed,BF.total)})}),(0,h.jsx)(ut,{sx:{minWidth:35},children:(0,h.jsxs)(Tn,{variant:"body2",color:"textSecondary",children:[BF.completed,"/",BF.total]})})]})]}),(0,h.jsxs)(ut,{sx:{mt:3},children:[(0,h.jsxs)(Tn,{variant:"body1",children:["Current Streak: ",BF.streak," days"]}),(0,h.jsxs)(Tn,{variant:"body2",color:"textSecondary",children:["Last practiced: ",BF.lastPracticed]})]})]})})}),(0,h.jsx)(X_,{item:!0,xs:12,children:(0,h.jsx)(tS,{children:(0,h.jsxs)(iS,{children:[(0,h.jsx)(Tn,{variant:"h5",gutterBottom:!0,children:"Overall Statistics"}),(0,h.jsxs)(X_,{container:!0,spacing:2,children:[(0,h.jsxs)(X_,{item:!0,xs:12,sm:4,children:[(0,h.jsx)(Tn,{variant:"h6",align:"center",children:UF.streak+BF.streak}),(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",align:"center",children:"Total Practice Days"})]}),(0,h.jsxs)(X_,{item:!0,xs:12,sm:4,children:[(0,h.jsx)(Tn,{variant:"h6",align:"center",children:UF.completed+BF.completed}),(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",align:"center",children:"Total Exercises Completed"})]}),(0,h.jsxs)(X_,{item:!0,xs:12,sm:4,children:[(0,h.jsxs)(Tn,{variant:"h6",align:"center",children:[Math.round((UF.completed+BF.completed)/(UF.total+BF.total)*100),"%"]}),(0,h.jsx)(Tn,{variant:"body2",color:"textSecondary",align:"center",children:"Overall Completion"})]})]})]})})})]})]})};var WF=n(7868),HF=n(3468);const qF=["onChange","maxRows","minRows","style","value"];function KF(e){return parseInt(e,10)||0}const GF={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const $F=e.forwardRef((function(t,n){const{onChange:r,maxRows:i,minRows:s=1,style:a,value:l}=t,c=(0,Qe.A)(t,qF),{current:u}=e.useRef(null!=l),d=e.useRef(null),p=(0,mr.A)(n,d),f=e.useRef(null),m=e.useRef(null),g=e.useCallback((()=>{const e=d.current,n=(0,ko.A)(e).getComputedStyle(e);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const r=m.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const o=n.boxSizing,a=KF(n.paddingBottom)+KF(n.paddingTop),l=KF(n.borderBottomWidth)+KF(n.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let h=c;s&&(h=Math.max(Number(s)*u,h)),i&&(h=Math.min(Number(i)*u,h)),h=Math.max(h,u);return{outerHeightStyle:h+("border-box"===o?a+l:0),overflowing:Math.abs(h-c)<=1}}),[i,s,t.placeholder]),v=e.useCallback((()=>{const e=g();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=e.outerHeightStyle,r=d.current;f.current!==n&&(f.current=n,r.style.height="".concat(n,"px")),r.style.overflow=e.overflowing?"hidden":""}),[g]);(0,Xt.A)((()=>{const e=()=>{v()};let t;const n=(0,HF.A)(e),r=d.current,o=(0,ko.A)(r);let i;return o.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(i=new ResizeObserver(e),i.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),o.removeEventListener("resize",n),i&&i.disconnect()}}),[g,v]),(0,Xt.A)((()=>{v()}));return(0,h.jsxs)(e.Fragment,{children:[(0,h.jsx)("textarea",(0,o.A)({value:l,onChange:e=>{u||v(),r&&r(e)},ref:p,rows:s,style:a},c)),(0,h.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:(0,o.A)({},GF,a,{paddingTop:0,paddingBottom:0})})]})}));function JF(e){return(0,gt.Ay)("MuiInputBase",e)}const YF=(0,st.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),XF=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],QF=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,ft.A)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},ZF=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ez=(0,mt.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:QF})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(YF.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,o.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),tz=(0,mt.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ZF})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,o.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,o.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(YF.formControl," &")]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(YF.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),nz=(0,h.jsx)(g,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),rz=e.forwardRef((function(t,n){var r;const s=(0,i.b)({props:t,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:l,autoFocus:c,className:u,components:d={},componentsProps:p={},defaultValue:f,disabled:m,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:y=!1,id:b,inputComponent:w="input",inputProps:_={},inputRef:S,maxRows:x,minRows:k,multiline:A=!1,name:E,onBlur:T,onChange:C,onClick:I,onFocus:R,onKeyDown:P,onKeyUp:O,placeholder:N,readOnly:M,renderSuffix:D,rows:j,slotProps:L={},slots:F={},startAdornment:z,type:U="text",value:B}=s,V=(0,Qe.A)(s,XF),W=null!=_.value?_.value:B,{current:H}=e.useRef(null!=W),q=e.useRef(),K=e.useCallback((e=>{0}),[]),G=(0,Cn.A)(q,S,_.ref,K),[$,J]=e.useState(!1),Y=zL();const X=UL({props:s,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","size","required","filled"]});X.focused=Y?Y.focused:$,e.useEffect((()=>{!Y&&m&&$&&(J(!1),T&&T())}),[Y,m,$,T]);const Q=Y&&Y.onFilled,Z=Y&&Y.onEmpty,ee=e.useCallback((e=>{RL(e)?Q&&Q():Z&&Z()}),[Q,Z]);(0,Or.A)((()=>{H&&ee({value:W})}),[W,ee,H]);e.useEffect((()=>{ee(q.current)}),[]);let te=w,ne=_;A&&"input"===te&&(ne=j?(0,o.A)({type:void 0,minRows:j,maxRows:j},ne):(0,o.A)({type:void 0,maxRows:x,minRows:k},ne),te=$F);e.useEffect((()=>{Y&&Y.setAdornedStart(Boolean(z))}),[Y,z]);const re=(0,o.A)({},s,{color:X.color||"primary",disabled:X.disabled,endAdornment:v,error:X.error,focused:X.focused,formControl:Y,fullWidth:y,hiddenLabel:X.hiddenLabel,multiline:A,size:X.size,startAdornment:z,type:U}),oe=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e,m={root:["root","color".concat((0,ft.A)(n)),r&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat((0,ft.A)(h)),u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return(0,ht.A)(m,JF,t)})(re),ie=F.root||d.Root||ez,se=L.root||p.root||{},ae=F.input||d.Input||tz;return ne=(0,o.A)({},ne,null!=(r=L.input)?r:p.input),(0,h.jsxs)(e.Fragment,{children:[!g&&nz,(0,h.jsxs)(ie,(0,o.A)({},se,!gr(ie)&&{ownerState:(0,o.A)({},re,se.ownerState)},{ref:n,onClick:e=>{q.current&&e.currentTarget===e.target&&q.current.focus(),I&&I(e)}},V,{className:(0,Ze.A)(oe.root,se.className,u,M&&"MuiInputBase-readOnly"),children:[z,(0,h.jsx)(OL.Provider,{value:null,children:(0,h.jsx)(ae,(0,o.A)({ownerState:re,"aria-invalid":X.error,"aria-describedby":a,autoComplete:l,autoFocus:c,defaultValue:f,disabled:X.disabled,id:b,onAnimationStart:e=>{ee("mui-auto-fill-cancel"===e.animationName?q.current:{value:"x"})},name:E,placeholder:N,readOnly:M,required:X.required,rows:j,value:W,onKeyDown:P,onKeyUp:O,type:U},ne,!gr(ae)&&{as:te,ownerState:(0,o.A)({},re,ne.ownerState)},{ref:G,className:(0,Ze.A)(oe.input,ne.className,M&&"MuiInputBase-readOnly"),onBlur:e=>{T&&T(e),_.onBlur&&_.onBlur(e),Y&&Y.onBlur?Y.onBlur(e):J(!1)},onChange:function(e){if(!H){const t=e.target||q.current;if(null==t)throw new Error((0,WF.A)(1));ee({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_.onChange&&_.onChange(e,...n),C&&C(e,...n)},onFocus:e=>{X.disabled?e.stopPropagation():(R&&R(e),_.onFocus&&_.onFocus(e),Y&&Y.onFocus?Y.onFocus(e):J(!0))}}))}),v,D?D((0,o.A)({},X,{startAdornment:z})):null]}))]})}));function oz(e){return(0,gt.Ay)("MuiInput",e)}const iz=(0,o.A)({},YF,(0,st.A)("MuiInput",["root","underline","input"])),sz=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],az=(0,mt.Ay)(ez,{shouldForwardProp:e=>(0,$o.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...QF(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,o.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(iz.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(iz.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(iz.disabled,", .").concat(iz.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(iz.disabled,":before")]:{borderBottomStyle:"dotted"}})})),lz=(0,mt.Ay)(tz,{name:"MuiInput",slot:"Input",overridesResolver:ZF})({}),cz=e.forwardRef((function(e,t){var n,r,s,a;const l=(0,i.b)({props:e,name:"MuiInput"}),{disableUnderline:c,components:u={},componentsProps:d,fullWidth:p=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text"}=l,b=(0,Qe.A)(l,sz),w=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,ht.A)(r,oz,t);return(0,o.A)({},t,i)})(l),_={root:{ownerState:{disableUnderline:c}}},S=(null!=g?g:d)?(0,l_.A)(null!=g?g:d,_):_,x=null!=(n=null!=(r=v.root)?r:u.Root)?n:az,k=null!=(s=null!=(a=v.input)?a:u.Input)?s:lz;return(0,h.jsx)(rz,(0,o.A)({slots:{root:x,input:k},slotProps:S,fullWidth:p,inputComponent:f,multiline:m,ref:t,type:y},b,{classes:w}))}));cz.muiName="Input";const uz=cz;function dz(e){return(0,gt.Ay)("MuiFilledInput",e)}const hz=(0,o.A)({},YF,(0,st.A)("MuiFilledInput",["root","underline","input"])),pz=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],fz=(0,mt.Ay)(ez,{shouldForwardProp:e=>(0,$o.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...QF(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,s=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,o.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(hz.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(hz.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:c}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(hz.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(hz.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(hz.disabled,", .").concat(hz.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(hz.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,o.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),mz=(0,mt.Ay)(tz,{name:"MuiFilledInput",slot:"Input",overridesResolver:ZF})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),gz=e.forwardRef((function(e,t){var n,r,s,a;const l=(0,i.b)({props:e,name:"MuiFilledInput"}),{components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:p="input",multiline:f=!1,slotProps:m,slots:g={},type:v="text"}=l,y=(0,Qe.A)(l,pz),b=(0,o.A)({},l,{fullWidth:d,inputComponent:p,multiline:f,type:v}),w=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,ht.A)(r,dz,t);return(0,o.A)({},t,i)})(l),_={root:{ownerState:b},input:{ownerState:b}},S=(null!=m?m:u)?(0,l_.A)(_,null!=m?m:u):_,x=null!=(n=null!=(r=g.root)?r:c.Root)?n:fz,k=null!=(s=null!=(a=g.input)?a:c.Input)?s:mz;return(0,h.jsx)(rz,(0,o.A)({slots:{root:x,input:k},componentsProps:S,fullWidth:d,inputComponent:p,multiline:f,ref:t,type:v},y,{classes:w}))}));gz.muiName="Input";const vz=gz;var yz;const bz=["children","classes","className","label","notched"],wz=(0,mt.Ay)("fieldset",{shouldForwardProp:$o.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),_z=(0,mt.Ay)("legend",{shouldForwardProp:$o.A})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,o.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Sz(e){return(0,gt.Ay)("MuiOutlinedInput",e)}const xz=(0,o.A)({},YF,(0,st.A)("MuiOutlinedInput",["root","notchedOutline","input"])),kz=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Az=(0,mt.Ay)(ez,{shouldForwardProp:e=>(0,$o.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:QF})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,o.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(xz.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(xz.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(xz.focused," .").concat(xz.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(xz.error," .").concat(xz.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(xz.disabled," .").concat(xz.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,o.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),Ez=(0,mt.Ay)((function(e){const{className:t,label:n,notched:r}=e,i=(0,Qe.A)(e,bz),s=null!=n&&""!==n,a=(0,o.A)({},e,{notched:r,withLabel:s});return(0,h.jsx)(wz,(0,o.A)({"aria-hidden":!0,className:t,ownerState:a},i,{children:(0,h.jsx)(_z,{ownerState:a,children:s?(0,h.jsx)("span",{children:n}):yz||(yz=(0,h.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Tz=(0,mt.Ay)(tz,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ZF})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Cz=e.forwardRef((function(t,n){var r,s,a,l,c;const u=(0,i.b)({props:t,name:"MuiOutlinedInput"}),{components:d={},fullWidth:p=!1,inputComponent:f="input",label:m,multiline:g=!1,notched:v,slots:y={},type:b="text"}=u,w=(0,Qe.A)(u,kz),_=(e=>{const{classes:t}=e,n=(0,ht.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Sz,t);return(0,o.A)({},t,n)})(u),S=zL(),x=UL({props:u,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),k=(0,o.A)({},u,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:S,fullWidth:p,hiddenLabel:x.hiddenLabel,multiline:g,size:x.size,type:b}),A=null!=(r=null!=(s=y.root)?s:d.Root)?r:Az,E=null!=(a=null!=(l=y.input)?l:d.Input)?a:Tz;return(0,h.jsx)(rz,(0,o.A)({slots:{root:A,input:E},renderSuffix:t=>(0,h.jsx)(Ez,{ownerState:k,className:_.notchedOutline,label:null!=m&&""!==m&&x.required?c||(c=(0,h.jsxs)(e.Fragment,{children:[m,"\u2009","*"]})):m,notched:"undefined"!==typeof v?v:Boolean(t.startAdornment||t.filled||t.focused)}),fullWidth:p,inputComponent:f,multiline:g,ref:n,type:b},w,{classes:(0,o.A)({},_,{notchedOutline:null})}))}));Cz.muiName="Input";const Iz=Cz;function Rz(e){return(0,gt.Ay)("MuiFormLabel",e)}const Pz=(0,st.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Oz=["children","className","color","component","disabled","error","filled","focused","required"],Nz=(0,mt.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,o.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(Pz.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(Pz.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Pz.error)]:{color:(t.vars||t).palette.error.main}})})),Mz=(0,mt.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(Pz.error)]:{color:(t.vars||t).palette.error.main}}})),Dz=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiFormLabel"}),{children:r,className:s,component:a="label"}=n,l=(0,Qe.A)(n,Oz),c=UL({props:n,muiFormControl:zL(),states:["color","required","focused","disabled","error","filled"]}),u=(0,o.A)({},n,{color:c.color||"primary",component:a,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e,l={root:["root","color".concat((0,ft.A)(n)),o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return(0,ht.A)(l,Rz,t)})(u);return(0,h.jsxs)(Nz,(0,o.A)({as:a,ownerState:u,className:(0,Ze.A)(d.root,s),ref:t},l,{children:[r,c.required&&(0,h.jsxs)(Mz,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))}));function jz(e){return(0,gt.Ay)("MuiInputLabel",e)}(0,st.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Lz=["disableAnimation","margin","shrink","variant","className"],Fz=(0,mt.Ay)(Dz,{shouldForwardProp:e=>(0,$o.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Pz.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,o.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,o.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,o.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),zz=e.forwardRef((function(e,t){const n=(0,i.b)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:s,className:a}=n,l=(0,Qe.A)(n,Lz),c=zL();let u=s;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=UL({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),p=(0,o.A)({},n,{disableAnimation:r,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),f=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:s,variant:a,required:l}=e,c={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat((0,ft.A)(r)),a],asterisk:[l&&"asterisk"]},u=(0,ht.A)(c,jz,t);return(0,o.A)({},t,u)})(p);return(0,h.jsx)(Fz,(0,o.A)({"data-shrink":u,ownerState:p,ref:t,className:(0,Ze.A)(f.root,a)},l,{classes:f}))})),Uz=zz;function Bz(e){return(0,gt.Ay)("MuiFormHelperText",e)}const Vz=(0,st.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Wz;const Hz=["children","className","component","disabled","error","filled","focused","margin","required","variant"],qz=(0,mt.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat((0,ft.A)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(Vz.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Vz.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),Kz=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiFormHelperText"}),{children:r,className:s,component:a="p"}=n,l=(0,Qe.A)(n,Hz),c=UL({props:n,muiFormControl:zL(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,o.A)({},n,{component:a,contained:"filled"===c.variant||"outlined"===c.variant,variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:l}=e,c={root:["root",o&&"disabled",i&&"error",r&&"size".concat((0,ft.A)(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,ht.A)(c,Bz,t)})(u);return(0,h.jsx)(qz,(0,o.A)({as:a,ownerState:u,className:(0,Ze.A)(d.root,s),ref:t},l,{children:" "===r?Wz||(Wz=(0,h.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))}));function Gz(e){return(0,gt.Ay)("MuiNativeSelect",e)}const $z=(0,st.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Jz=["className","disabled","error","IconComponent","inputRef","variant"],Yz=e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,o.A)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat($z.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},Xz=(0,mt.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:$o.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat($z.multiple)]:t.multiple}]}})(Yz),Qz=e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat($z.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Zz=(0,mt.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,ft.A)(n.variant))],n.open&&t.iconOpen]}})(Qz),eU=e.forwardRef((function(t,n){const{className:r,disabled:i,error:s,IconComponent:a,inputRef:l,variant:c="standard"}=t,u=(0,Qe.A)(t,Jz),d=(0,o.A)({},t,{disabled:i,variant:c,error:s}),p=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat((0,ft.A)(n)),i&&"iconOpen",r&&"disabled"]};return(0,ht.A)(a,Gz,t)})(d);return(0,h.jsxs)(e.Fragment,{children:[(0,h.jsx)(Xz,(0,o.A)({ownerState:d,className:(0,Ze.A)(p.select,r),disabled:i,ref:l||n},u)),t.multiple?null:(0,h.jsx)(Zz,{as:a,ownerState:d,className:p.icon})]})})),tU=eU;var nU=n(7123);function rU(e){return(0,gt.Ay)("MuiSelect",e)}const oU=(0,st.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var iU;const sU=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],aU=(0,mt.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(oU.select)]:t.select},{["&.".concat(oU.select)]:t[n.variant]},{["&.".concat(oU.error)]:t.error},{["&.".concat(oU.multiple)]:t.multiple}]}})(Yz,{["&.".concat(oU.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),lU=(0,mt.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,ft.A)(n.variant))],n.open&&t.iconOpen]}})(Qz),cU=(0,mt.Ay)("input",{shouldForwardProp:e=>(0,nU.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function uU(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function dU(e){return null==e||"string"===typeof e&&!e.trim()}const hU=e.forwardRef((function(t,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:a,autoWidth:l,children:c,className:u,defaultOpen:d,defaultValue:p,disabled:f,displayEmpty:m,error:g=!1,IconComponent:v,inputRef:y,labelId:b,MenuProps:w={},multiple:_,name:S,onBlur:x,onChange:k,onClose:A,onFocus:E,onOpen:T,open:C,readOnly:I,renderValue:R,SelectDisplayProps:P={},tabIndex:O,value:N,variant:M="standard"}=t,D=(0,Qe.A)(t,sU),[j,L]=(0,qL.A)({controlled:N,default:p,name:"Select"}),[F,z]=(0,qL.A)({controlled:C,default:d,name:"Select"}),U=e.useRef(null),B=e.useRef(null),[V,W]=e.useState(null),{current:H}=e.useRef(null!=C),[q,K]=e.useState(),G=(0,Cn.A)(n,y),$=e.useCallback((e=>{B.current=e,e&&W(e)}),[]),J=null==V?void 0:V.parentNode;e.useImperativeHandle(G,(()=>({focus:()=>{B.current.focus()},node:U.current,value:j})),[j]),e.useEffect((()=>{d&&F&&V&&!H&&(K(l?null:J.clientWidth),B.current.focus())}),[V,l]),e.useEffect((()=>{a&&B.current.focus()}),[a]),e.useEffect((()=>{if(!b)return;const e=(0,kr.A)(B.current).getElementById(b);if(e){const t=()=>{getSelection().isCollapsed&&B.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[b]);const Y=(e,t)=>{e?T&&T(t):A&&A(t),H||(K(l?null:J.clientWidth),z(e))},X=e.Children.toArray(c),Q=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(_){n=Array.isArray(j)?j.slice():[];const t=j.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),j!==n&&(L(n),k)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:S}}),k(o,e)}_||Y(!1,t)}},Z=null!==V&&F;let ee,te;delete D["aria-invalid"];const ne=[];let re=!1,oe=!1;(RL({value:j})||m)&&(R?ee=R(j):re=!0);const ie=X.map((t=>{if(!e.isValidElement(t))return null;let n;if(_){if(!Array.isArray(j))throw new Error((0,WF.A)(2));n=j.some((e=>uU(e,t.props.value))),n&&re&&ne.push(t.props.children)}else n=uU(j,t.props.value),n&&re&&(te=t.props.children);return n&&(oe=!0),e.cloneElement(t,{"aria-selected":n?"true":"false",onClick:Q(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})}));re&&(ee=_?0===ne.length?null:ne.reduce(((e,t,n)=>(e.push(t),n<ne.length-1&&e.push(", "),e)),[]):te);let se,ae=q;!l&&H&&V&&(ae=J.clientWidth),se="undefined"!==typeof O?O:f?null:0;const le=P.id||(S?"mui-component-select-".concat(S):void 0),ce=(0,o.A)({},t,{variant:M,value:j,open:Z,error:g}),ue=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat((0,ft.A)(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,ht.A)(a,rU,t)})(ce),de=(0,o.A)({},w.PaperProps,null==(r=w.slotProps)?void 0:r.paper),he=(0,Ax.A)();return(0,h.jsxs)(e.Fragment,{children:[(0,h.jsx)(aU,(0,o.A)({ref:$,tabIndex:se,role:"combobox","aria-controls":he,"aria-disabled":f?"true":void 0,"aria-expanded":Z?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[b,le].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!I){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Y(!0,e))}},onMouseDown:f||I?null:e=>{0===e.button&&(e.preventDefault(),B.current.focus(),Y(!0,e))},onBlur:e=>{!Z&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:j,name:S}}),x(e))},onFocus:E},P,{ownerState:ce,className:(0,Ze.A)(P.className,ue.select,u),id:le,children:dU(ee)?iU||(iU=(0,h.jsx)("span",{className:"notranslate",children:"\u200b"})):ee})),(0,h.jsx)(cU,(0,o.A)({"aria-invalid":g,value:Array.isArray(j)?j.join(","):j,name:S,ref:U,"aria-hidden":!0,onChange:e=>{const t=X.find((t=>t.props.value===e.target.value));void 0!==t&&(L(t.props.value),k&&k(e,t))},tabIndex:-1,disabled:f,className:ue.nativeInput,autoFocus:a,ownerState:ce},D)),(0,h.jsx)(lU,{as:v,className:ue.icon,ownerState:ce}),(0,h.jsx)(oi,(0,o.A)({id:"menu-".concat(S||""),anchorEl:J,open:Z,onClose:e=>{Y(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:(0,o.A)({"aria-labelledby":b,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:he},w.MenuListProps),slotProps:(0,o.A)({},w.slotProps,{paper:(0,o.A)({},de,{style:(0,o.A)({minWidth:ae},null!=de?de.style:null)})}),children:ie}))]})})),pU=hU,fU=(0,Oi.A)((0,h.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),mU=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],gU=["root"],vU={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,$o.A)(e)&&"variant"!==e,slot:"Root"},yU=(0,mt.Ay)(uz,vU)(""),bU=(0,mt.Ay)(Iz,vU)(""),wU=(0,mt.Ay)(vz,vU)(""),_U=e.forwardRef((function(t,n){const r=(0,i.b)({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:a,classes:l={},className:c,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:p=fU,id:f,input:m,inputProps:g,label:v,labelId:y,MenuProps:b,multiple:w=!1,native:_=!1,onClose:S,onOpen:x,open:k,renderValue:A,SelectDisplayProps:E,variant:T="outlined"}=r,C=(0,Qe.A)(r,mU),I=_?tU:pU,R=UL({props:r,muiFormControl:zL(),states:["variant","error"]}),P=R.variant||T,O=(0,o.A)({},r,{variant:P,classes:l}),N=(e=>{const{classes:t}=e;return t})(O),M=(0,Qe.A)(N,gU),D=m||{standard:(0,h.jsx)(yU,{ownerState:O}),outlined:(0,h.jsx)(bU,{label:v,ownerState:O}),filled:(0,h.jsx)(wU,{ownerState:O})}[P],j=(0,Cn.A)(n,Vr(D));return(0,h.jsx)(e.Fragment,{children:e.cloneElement(D,(0,o.A)({inputComponent:I,inputProps:(0,o.A)({children:a,error:R.error,IconComponent:p,variant:P,type:void 0,multiple:w},_?{id:f}:{autoWidth:s,defaultOpen:u,displayEmpty:d,labelId:y,MenuProps:b,onClose:S,onOpen:x,open:k,renderValue:A,SelectDisplayProps:(0,o.A)({id:f},E)},g,{classes:g?(0,l_.A)(M,g.classes):M},m?m.props.inputProps:{})},(w&&_||d)&&"outlined"===P?{notched:!0}:{},{ref:j,className:(0,Ze.A)(D.props.className,c,N.root)},!m&&{variant:P},C))})}));_U.muiName="Select";const SU=_U;function xU(e){return(0,gt.Ay)("MuiTextField",e)}(0,st.A)("MuiTextField",["root"]);const kU=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],AU={standard:uz,filled:vz,outlined:Iz},EU=(0,mt.Ay)(LL,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),TU=e.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:a,className:l,color:c="primary",defaultValue:u,disabled:d=!1,error:p=!1,FormHelperTextProps:f,fullWidth:m=!1,helperText:g,id:v,InputLabelProps:y,inputProps:b,InputProps:w,inputRef:_,label:S,maxRows:x,minRows:k,multiline:A=!1,name:E,onBlur:T,onChange:C,onFocus:I,placeholder:R,required:P=!1,rows:O,select:N=!1,SelectProps:M,type:D,value:j,variant:L="outlined"}=n,F=(0,Qe.A)(n,kU),z=(0,o.A)({},n,{autoFocus:s,color:c,disabled:d,error:p,fullWidth:m,multiline:A,required:P,select:N,variant:L}),U=(e=>{const{classes:t}=e;return(0,ht.A)({root:["root"]},xU,t)})(z);const B={};"outlined"===L&&(y&&"undefined"!==typeof y.shrink&&(B.notched=y.shrink),B.label=S),N&&(M&&M.native||(B.id=void 0),B["aria-describedby"]=void 0);const V=(0,Ax.A)(v),W=g&&V?"".concat(V,"-helper-text"):void 0,H=S&&V?"".concat(V,"-label"):void 0,q=AU[L],K=(0,h.jsx)(q,(0,o.A)({"aria-describedby":W,autoComplete:r,autoFocus:s,defaultValue:u,fullWidth:m,multiline:A,name:E,rows:O,maxRows:x,minRows:k,type:D,value:j,id:V,inputRef:_,onBlur:T,onChange:C,onFocus:I,placeholder:R,inputProps:b},B,w));return(0,h.jsxs)(EU,(0,o.A)({className:(0,Ze.A)(U.root,l),disabled:d,error:p,fullWidth:m,ref:t,required:P,color:c,variant:L,ownerState:z},F,{children:[null!=S&&""!==S&&(0,h.jsx)(Uz,(0,o.A)({htmlFor:V,id:H},y,{children:S})),N?(0,h.jsx)(SU,(0,o.A)({"aria-describedby":W,id:V,labelId:H,value:j,input:K},M,{children:a})):K,g&&(0,h.jsx)(Kz,(0,o.A)({id:W},f,{children:g}))]}))})),CU=TU;function IU(e){return(0,gt.Ay)("MuiLink",e)}const RU=(0,st.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var PU=n(7162);const OU={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},NU=e=>{let{theme:t,ownerState:n}=e;const r=(e=>OU[e]||e)(n.color),o=(0,PU.Yn)(t,"palette.".concat(r),!1)||n.color,i=(0,PU.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&i?"rgba(".concat(i," / 0.4)"):(0,rn.X4)(o,.4)},MU=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],DU=(0,mt.Ay)(Tn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat((0,ft.A)(n.underline))],"button"===n.component&&t.button]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,o.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:NU({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(RU.focusVisible)]:{outline:"auto"}})})),jU=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiLink"}),{className:s,color:a="primary",component:l="a",onBlur:c,onFocus:u,TypographyClasses:d,underline:p="always",variant:f="inherit",sx:m}=r,g=(0,Qe.A)(r,MU),{isFocusVisibleRef:v,onBlur:y,onFocus:b,ref:w}=(0,Rn.A)(),[_,S]=e.useState(!1),x=(0,Cn.A)(n,w),k=(0,o.A)({},r,{color:a,component:l,focusVisible:_,underline:p,variant:f}),A=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e,i={root:["root","underline".concat((0,ft.A)(o)),"button"===n&&"button",r&&"focusVisible"]};return(0,ht.A)(i,IU,t)})(k);return(0,h.jsx)(DU,(0,o.A)({color:a,className:(0,Ze.A)(A.root,s),classes:d,component:l,onBlur:e=>{y(e),!1===v.current&&S(!1),c&&c(e)},onFocus:e=>{b(e),!0===v.current&&S(!0),u&&u(e)},ref:x,ownerState:k,variant:f,sx:[...Object.keys(OU).includes(a)?[]:[{color:a}],...Array.isArray(m)?m:[m]]},g))})),LU=jU;const FU=function(){const[t,n]=(0,e.useState)(""),[r,o]=(0,e.useState)(""),[i,s]=(0,e.useState)(!1),[a,l]=(0,e.useState)(""),{signIn:c}=n_(),u=ge();return(0,h.jsx)(A_,{component:"main",maxWidth:"xs",children:(0,h.jsxs)(ut,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(Tn,{component:"h1",variant:"h5",children:"Sign In"}),a&&(0,h.jsx)(U_,{severity:"error",sx:{mt:2,width:"100%"},children:a}),(0,h.jsxs)(ut,{component:"form",onSubmit:async e=>{e.preventDefault();try{l(""),s(!0),await c(t,r),u("/")}catch(a){l("Failed to sign in: "+a.message)}finally{s(!1)}},sx:{mt:1},children:[(0,h.jsx)(CU,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:t,onChange:e=>n(e.target.value)}),(0,h.jsx)(CU,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:r,onChange:e=>o(e.target.value)}),(0,h.jsx)(Pi,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:i,children:i?"Signing In...":"Sign In"}),(0,h.jsx)(ut,{sx:{textAlign:"center"},children:(0,h.jsx)(LU,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})})},zU={en:{name:"English",nativeName:"English",direction:"ltr"},th:{name:"Thai",nativeName:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",direction:"ltr"},vi:{name:"Vietnamese",nativeName:"Ti\u1ebfng Vi\u1ec7t",direction:"ltr"},zh:{name:"Chinese (Simplified)",nativeName:"\u7b80\u4f53\u4e2d\u6587",direction:"ltr"},ja:{name:"Japanese",nativeName:"\u65e5\u672c\u8a9e",direction:"ltr"},ko:{name:"Korean",nativeName:"\ud55c\uad6d\uc5b4",direction:"ltr"}};const UU=function(){const[t,n]=(0,e.useState)({email:"",password:"",confirmPassword:"",displayName:"",nativeLanguage:""}),[r,o]=(0,e.useState)(""),[i,s]=(0,e.useState)(!1),{signUp:a}=n_(),l=ge(),c=e=>{const{name:t,value:r}=e.target;n((e=>Xi(Xi({},e),{},{[t]:r})))};return(0,h.jsx)(A_,{maxWidth:"sm",children:(0,h.jsx)(ut,{sx:{mt:8,mb:4},children:(0,h.jsxs)(un,{elevation:3,sx:{p:4},children:[(0,h.jsx)(Tn,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"Create Account"}),r&&(0,h.jsx)(U_,{severity:"error",sx:{mb:2},children:r}),(0,h.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t.password!==t.confirmPassword?(o("Passwords do not match"),0):!(t.password.length<6)||(o("Password must be at least 6 characters long"),0)){o(""),s(!0);try{const e={email:t.email,display_name:t.displayName,native_language:t.nativeLanguage,created_at:(new Date).toISOString(),learning_level:1,xp_points:0,streak:0};await a(t.email,t.password,e)?l("/"):o("Failed to create account. Please try again.")}catch(n){o(n.message)}finally{s(!1)}}},children:[(0,h.jsx)(CU,{label:"Email Address",type:"email",name:"email",fullWidth:!0,margin:"normal",value:t.email,onChange:c,required:!0,autoFocus:!0,disabled:i}),(0,h.jsx)(CU,{label:"Display Name",name:"displayName",fullWidth:!0,margin:"normal",value:t.displayName,onChange:c,required:!0,disabled:i}),(0,h.jsxs)(LL,{fullWidth:!0,margin:"normal",children:[(0,h.jsx)(Uz,{children:"Native Language"}),(0,h.jsx)(SU,{name:"nativeLanguage",value:t.nativeLanguage,onChange:c,required:!0,disabled:i,children:Object.entries(zU).map((e=>{let[t,n]=e;return(0,h.jsxs)(mi,{value:t,children:[n.nativeName," (",n.name,")"]},t)}))})]}),(0,h.jsx)(CU,{label:"Password",type:"password",name:"password",fullWidth:!0,margin:"normal",value:t.password,onChange:c,required:!0,disabled:i,helperText:"Password must be at least 6 characters long"}),(0,h.jsx)(CU,{label:"Confirm Password",type:"password",name:"confirmPassword",fullWidth:!0,margin:"normal",value:t.confirmPassword,onChange:c,required:!0,disabled:i}),(0,h.jsx)(Pi,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",sx:{mt:3,mb:2},disabled:i,children:i?(0,h.jsx)(Mt,{size:24}):"Sign Up"})]}),(0,h.jsx)(ut,{sx:{mt:3,textAlign:"center"},children:(0,h.jsxs)(Tn,{variant:"body2",children:["Already have an account?"," ",(0,h.jsx)(LU,{component:Ge,to:"/login",children:"Sign in here"})]})})]})})})},BU=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function VU(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=(0,Br.A)(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=i.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(o?o.right+a-r.left:i.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(o?r.right-o.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(o?o.bottom+l-r.top:i.innerHeight+l-r.top,"px)"):"translateY(-".concat(o?r.top-o.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const WU=e.forwardRef((function(t,n){const r=Yt(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,container:u,direction:d="down",easing:p=i,in:f,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:b,onExiting:w,style:_,timeout:S=s,TransitionComponent:x=Xr}=t,k=(0,Qe.A)(t,BU),A=e.useRef(null),E=(0,Cn.A)(Vr(c),A,n),T=e=>t=>{e&&(void 0===t?e(A.current):e(A.current,t))},C=T(((e,t)=>{VU(d,e,u),Qr(e),m&&m(e,t)})),I=T(((e,t)=>{const n=Zr({timeout:S,style:_,easing:p},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,o.A)({},n)),e.style.transition=r.transitions.create("transform",(0,o.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)})),R=T(g),P=T(w),O=T((e=>{const t=Zr({timeout:S,style:_,easing:p},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),VU(d,e,u),y&&y(e)})),N=T((e=>{e.style.webkitTransition="",e.style.transition="",b&&b(e)})),M=e.useCallback((()=>{A.current&&VU(d,A.current,u)}),[d,u]);return e.useEffect((()=>{if(f||"down"===d||"right"===d)return;const e=(0,Ur.A)((()=>{A.current&&VU(d,A.current,u)})),t=(0,Br.A)(A.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[d,f,u]),e.useEffect((()=>{f||M()}),[f,M]),(0,h.jsx)(x,(0,o.A)({nodeRef:A,onEnter:C,onEntered:R,onEntering:I,onExit:O,onExited:N,onExiting:P,addEndListener:e=>{a&&a(A.current,e)},appear:l,in:f,timeout:S},k,{children:(t,n)=>e.cloneElement(c,(0,o.A)({ref:E,style:(0,o.A)({visibility:"exited"!==t||f?void 0:"hidden"},_,c.props.style)},n))}))})),HU=WU;function qU(e){return(0,gt.Ay)("MuiDrawer",e)}(0,st.A)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const KU=["BackdropProps"],GU=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],$U=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},JU=(0,mt.Ay)(jo,{name:"MuiDrawer",slot:"Root",overridesResolver:$U})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),YU=(0,mt.Ay)("div",{shouldForwardProp:$o.A,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:$U})({flex:"0 0 auto"}),XU=(0,mt.Ay)(un,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat((0,ft.A)(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat((0,ft.A)(n.anchor))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),QU={left:"right",right:"left",top:"down",bottom:"up"};const ZU=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiDrawer"}),s=Yt(),a=Bt(),l={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:c="left",BackdropProps:u,children:d,className:p,elevation:f=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:g}={},onClose:v,open:y=!1,PaperProps:b={},SlideProps:w,TransitionComponent:_=HU,transitionDuration:S=l,variant:x="temporary"}=r,k=(0,Qe.A)(r.ModalProps,KU),A=(0,Qe.A)(r,GU),E=e.useRef(!1);e.useEffect((()=>{E.current=!0}),[]);const T=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?QU[t]:t}({direction:a?"rtl":"ltr"},c),C=c,I=(0,o.A)({},r,{anchor:C,elevation:f,open:y,variant:x},A),R=(e=>{const{classes:t,anchor:n,variant:r}=e,o={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,ft.A)(n)),"temporary"!==r&&"paperAnchorDocked".concat((0,ft.A)(n))]};return(0,ht.A)(o,qU,t)})(I),P=(0,h.jsx)(XU,(0,o.A)({elevation:"temporary"===x?f:0,square:!0},b,{className:(0,Ze.A)(R.paper,b.className),ownerState:I,children:d}));if("permanent"===x)return(0,h.jsx)(YU,(0,o.A)({className:(0,Ze.A)(R.root,R.docked,p),ownerState:I,ref:n},A,{children:P}));const O=(0,h.jsx)(_,(0,o.A)({in:y,direction:QU[T],timeout:S,appear:E.current},w,{children:P}));return"persistent"===x?(0,h.jsx)(YU,(0,o.A)({className:(0,Ze.A)(R.root,R.docked,p),ownerState:I,ref:n},A,{children:O})):(0,h.jsx)(JU,(0,o.A)({BackdropProps:(0,o.A)({},u,g,{transitionDuration:S}),className:(0,Ze.A)(R.root,R.modal,p),open:y,ownerState:I,onClose:v,hideBackdrop:m,ref:n},A,k,{children:O}))})),eB=ZU;function tB(e){return(0,gt.Ay)("MuiListItem",e)}const nB=(0,st.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const rB=(0,st.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function oB(e){return(0,gt.Ay)("MuiListItemSecondaryAction",e)}(0,st.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const iB=["className"],sB=(0,mt.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,o.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),aB=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=r,a=(0,Qe.A)(r,iB),l=e.useContext(Ar),c=(0,o.A)({},r,{disableGutters:l.disableGutters}),u=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,ht.A)(r,oB,n)})(c);return(0,h.jsx)(sB,(0,o.A)({className:(0,Ze.A)(u.root,s),ownerState:c,ref:n},a))}));aB.muiName="ListItemSecondaryAction";const lB=aB,cB=["className"],uB=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],dB=(0,mt.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,o.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(rB.root)]:{paddingRight:48}},{["&.".concat(nB.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(nB.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,rn.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(nB.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,rn.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(nB.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(nB.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,rn.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,rn.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),hB=(0,mt.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),pB=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:a=!1,button:l=!1,children:c,className:u,component:d,components:p={},componentsProps:f={},ContainerComponent:m="li",ContainerProps:{className:g}={},dense:v=!1,disabled:y=!1,disableGutters:b=!1,disablePadding:w=!1,divider:_=!1,focusVisibleClassName:S,secondaryAction:x,selected:k=!1,slotProps:A={},slots:E={}}=r,T=(0,Qe.A)(r.ContainerProps,cB),C=(0,Qe.A)(r,uB),I=e.useContext(Ar),R=e.useMemo((()=>({dense:v||I.dense||!1,alignItems:s,disableGutters:b})),[s,I.dense,v,b]),P=e.useRef(null);(0,Or.A)((()=>{a&&P.current&&P.current.focus()}),[a]);const O=e.Children.toArray(c),N=O.length&&(0,PL.A)(O[O.length-1],["ListItemSecondaryAction"]),M=(0,o.A)({},r,{alignItems:s,autoFocus:a,button:l,dense:R.dense,disabled:y,disableGutters:b,disablePadding:w,divider:_,hasSecondaryAction:N,selected:k}),D=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e,d={root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]};return(0,ht.A)(d,tB,r)})(M),j=(0,Cn.A)(P,n),L=E.root||p.Root||dB,F=A.root||f.root||{},z=(0,o.A)({className:(0,Ze.A)(D.root,F.className,u),disabled:y},C);let U=d||"li";return l&&(z.component=d||"div",z.focusVisibleClassName=(0,Ze.A)(nB.focusVisible,S),U=cr),N?(U=z.component||d?U:"div","li"===m&&("li"===U?U="div":"li"===z.component&&(z.component="div")),(0,h.jsx)(Ar.Provider,{value:R,children:(0,h.jsxs)(hB,(0,o.A)({as:m,className:(0,Ze.A)(D.container,g),ref:j,ownerState:M},T,{children:[(0,h.jsx)(L,(0,o.A)({},F,!gr(L)&&{as:U,ownerState:(0,o.A)({},M,F.ownerState)},z,{children:O})),O.pop()]}))})):(0,h.jsx)(Ar.Provider,{value:R,children:(0,h.jsxs)(L,(0,o.A)({},F,{as:U,ref:j},!gr(L)&&{ownerState:(0,o.A)({},M,F.ownerState)},z,{children:[O,x&&(0,h.jsx)(lB,{children:x})]}))})})),fB=["className"],mB=(0,mt.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),gB=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiListItemIcon"}),{className:s}=r,a=(0,Qe.A)(r,fB),l=e.useContext(Ar),c=(0,o.A)({},r,{alignItems:l.alignItems}),u=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,ht.A)(r,ai,n)})(c);return(0,h.jsx)(mB,(0,o.A)({className:(0,Ze.A)(u.root,s),ownerState:c,ref:n},a))})),vB=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],yB=(0,mt.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ui.primary)]:t.primary},{["& .".concat(ui.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,o.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),bB=e.forwardRef((function(t,n){const r=(0,i.b)({props:t,name:"MuiListItemText"}),{children:s,className:a,disableTypography:l=!1,inset:c=!1,primary:u,primaryTypographyProps:d,secondary:p,secondaryTypographyProps:f}=r,m=(0,Qe.A)(r,vB),{dense:g}=e.useContext(Ar);let v=null!=u?u:s,y=p;const b=(0,o.A)({},r,{disableTypography:l,inset:c,primary:!!v,secondary:!!y,dense:g}),w=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e,s={root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,ht.A)(s,ci,t)})(b);return null==v||v.type===Tn||l||(v=(0,h.jsx)(Tn,(0,o.A)({variant:g?"body2":"body1",className:w.primary,component:null!=d&&d.variant?void 0:"span",display:"block"},d,{children:v}))),null==y||y.type===Tn||l||(y=(0,h.jsx)(Tn,(0,o.A)({variant:"body2",className:w.secondary,color:"text.secondary",display:"block"},f,{children:y}))),(0,h.jsxs)(yB,(0,o.A)({className:(0,Ze.A)(w.root,a),ownerState:b,ref:n},m,{children:[v,y]}))})),wB=(0,Oi.A)((0,h.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),_B=(0,Oi.A)((0,h.jsx)("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"}),"Work"),SB=(0,Oi.A)((0,h.jsx)("path",{d:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4z"}),"LocalHospital"),xB=(0,Oi.A)((0,h.jsx)("path",{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4"}),"Restaurant"),kB=(0,Oi.A)((0,h.jsx)("path",{d:"M12 2c-4.42 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4M7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17m3.5-6H6V6h5zm5.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m1.5-6h-5V6h5z"}),"DirectionsTransit"),AB=(0,Oi.A)((0,h.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),EB=(0,Oi.A)((0,h.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),TB=(0,Oi.A)((0,h.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate"),CB=(0,Oi.A)((0,h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),IB=e=>{let{children:t}=e;return(0,h.jsx)(EL,{fallback:(e,t)=>(0,h.jsxs)(ut,{sx:{p:3,textAlign:"center"},children:[(0,h.jsx)(rk,{sx:{fontSize:60,color:"error.main",mb:2}}),(0,h.jsx)(Tn,{variant:"h6",color:"error",gutterBottom:!0,children:"Scenario Error"}),(0,h.jsx)(Tn,{variant:"body2",sx:{mb:2},children:e instanceof _L?"Invalid scenario data. Please try a different scenario.":"Failed to load scenario. Please try again."}),(0,h.jsxs)(ut,{sx:{mt:2,display:"flex",gap:2,justifyContent:"center"},children:[(0,h.jsx)(Pi,{variant:"contained",onClick:t,children:"Try Again"}),(0,h.jsx)(Pi,{variant:"outlined",onClick:()=>window.history.back(),children:"Go Back"})]})]}),children:t})},RB=t=>{let{scenario:n,userLanguage:r,onComplete:o,onBranchingPoint:i}=t;Yt();const[s,a]=(0,e.useState)(0),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(!1),[p,f]=(0,e.useState)({}),[m,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(!1),[b,w]=(0,e.useState)(0),[_,S]=(0,e.useState)(null),[x,k]=(0,e.useState)(!1);(0,e.useEffect)((()=>{try{(e=>{var t,n,r;if(null===e||void 0===e||null===(t=e.content)||void 0===t||null===(n=t.dialogue)||void 0===n||!n.length)throw new _L("Invalid scenario: Missing dialogue content");if(null===e||void 0===e||null===(r=e.metadata)||void 0===r||!r.level)throw new _L("Invalid scenario: Missing difficulty level")})(n)}catch(_){var e;S(_.message),xL.reportError(_,null,{component:"ScenarioPlayer",scenarioId:null===n||void 0===n||null===(e=n.metadata)||void 0===e?void 0:e.id})}}),[n]);(0,e.useEffect)((()=>{const e=n.content.dialogue.length;w(s/e*100)}),[s,n]);const A=()=>{y(!0)};return _?(0,h.jsx)(U_,{severity:"error",sx:{mb:2},action:(0,h.jsx)(Pi,{color:"inherit",size:"small",onClick:()=>S(null),children:"Retry"}),children:_}):(0,h.jsx)(IB,{children:(0,h.jsxs)(ut,{children:[(0,h.jsx)(mx,{variant:"determinate",value:b,sx:{mb:2,height:8,borderRadius:4}}),(0,h.jsx)(ut,{sx:{mb:3},children:(()=>{const e=n.content.dialogue[s];return(0,h.jsx)(tS,{sx:{mb:2},children:(0,h.jsxs)(iS,{children:[(0,h.jsxs)(ut,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,h.jsxs)(Tn,{variant:"subtitle1",color:"primary",sx:{fontWeight:"bold",mr:1},children:[e.speaker,":"]}),e.audioUrl&&(0,h.jsx)(fr,{onClick:()=>(e=>{g(!0);const t=new Audio(e);t.onended=()=>g(!1),t.play()})(e.audioUrl),disabled:m,size:"small",children:(0,h.jsx)($x,{})})]}),(0,h.jsx)(Tn,{variant:"body1",paragraph:!0,children:e.text}),l&&(0,h.jsx)(Tn,{variant:"body2",color:"text.secondary",sx:{mt:1},children:e.translations[r]}),e.notes&&(0,h.jsxs)(Tn,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:["Tip: ",e.notes]})]})})})()}),(0,h.jsxs)(ut,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,h.jsx)(Pi,{onClick:()=>{s>0&&a((e=>e-1))},disabled:0===s,variant:"outlined",children:"Back"}),(0,h.jsxs)(ut,{children:[(0,h.jsx)(fr,{onClick:()=>c(!l),color:l?"primary":"default",sx:{mr:1},children:(0,h.jsx)(TB,{})}),(0,h.jsx)(fr,{onClick:()=>d(!u),color:u?"primary":"default",sx:{mr:1},children:(0,h.jsx)(CB,{})})]}),(0,h.jsx)(Pi,{onClick:()=>{s<n.content.dialogue.length-1?a((e=>e+1)):A()},variant:"contained",endIcon:s===n.content.dialogue.length-1?(0,h.jsx)(Yx,{}):null,children:s===n.content.dialogue.length-1?"Complete":"Next"})]}),(0,h.jsxs)(Mx,{open:u,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[(0,h.jsx)(zx,{children:"Cultural Notes"}),(0,h.jsxs)(Wx,{children:[(0,h.jsx)(Tn,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:n.content.culturalNotes.relevance}),(0,h.jsx)(Tn,{variant:"h6",sx:{mt:2},children:"Tips:"}),n.content.culturalNotes.tips.map(((e,t)=>(0,h.jsxs)(Tn,{variant:"body2",sx:{mt:1},children:["\u2022 ",e]},t))),(0,h.jsx)(Tn,{variant:"h6",sx:{mt:2},children:"Common Mistakes to Avoid:"}),n.content.culturalNotes.commonMistakes.map(((e,t)=>(0,h.jsxs)(Tn,{variant:"body2",sx:{mt:1},children:["\u2022 ",e]},t)))]})]}),(0,h.jsxs)(Mx,{open:v,fullWidth:!0,maxWidth:"md",children:[(0,h.jsxs)(zx,{children:["Practice Exercises",(0,h.jsx)(fr,{onClick:()=>{y(!1),o()},sx:{position:"absolute",right:8,top:8},children:(0,h.jsx)(Xx,{})})]}),(0,h.jsx)(Wx,{children:(0,h.jsxs)(ut,{sx:{p:2},children:[(0,h.jsx)(Tn,{variant:"h6",gutterBottom:!0,children:"Vocabulary"}),(0,h.jsx)(X_,{container:!0,spacing:2,children:n.content.exercises.vocabulary.map(((e,t)=>(0,h.jsx)(X_,{item:!0,xs:12,sm:6,children:(0,h.jsxs)(un,{sx:{p:2},children:[(0,h.jsx)(Tn,{variant:"subtitle1",color:"primary",children:e.term}),(0,h.jsx)(Tn,{variant:"body2",children:e.definition}),(0,h.jsxs)(Tn,{variant:"caption",color:"text.secondary",children:["Example: ",e.usage]})]})},t)))}),(0,h.jsx)(Tn,{variant:"h6",sx:{mt:4},gutterBottom:!0,children:"Grammar"}),n.content.exercises.grammar.map(((e,t)=>(0,h.jsxs)(ut,{sx:{mb:3},children:[(0,h.jsx)(Tn,{variant:"subtitle1",color:"primary",children:e.pattern}),(0,h.jsx)(Tn,{variant:"body2",children:e.explanation}),(0,h.jsx)(ut,{sx:{mt:1},children:e.examples.map(((e,t)=>(0,h.jsx)(kx,{label:e,sx:{mr:1,mt:1},variant:"outlined"},t)))})]},t))),(0,h.jsx)(Tn,{variant:"h6",sx:{mt:4},gutterBottom:!0,children:"Comprehension Check"}),n.content.exercises.comprehension.map(((e,t)=>(0,h.jsxs)(ut,{sx:{mb:3},children:[(0,h.jsx)(Tn,{variant:"subtitle1",children:e.question}),(0,h.jsx)(X_,{container:!0,spacing:1,sx:{mt:1},children:e.options.map(((r,o)=>(0,h.jsx)(X_,{item:!0,xs:12,sm:6,children:(0,h.jsx)(Pi,{fullWidth:!0,variant:"outlined",onClick:()=>((e,t)=>{var r,o,a;f((n=>Xi(Xi({},n),{},{[e]:t})));const l=n.interactions.userChoices[e];if(null!==(r=l.consequences)&&void 0!==r&&null!==(o=r.followUpQuestions)&&void 0!==o&&o[t]){var c;const r=l.consequences.followUpQuestions[t],o=[...n.content.dialogue];o.splice(s+1,0,{speaker:n.content.dialogue[s].speaker,text:r,translations:{},isFollowUp:!0}),n.content.dialogue=o,null!==(c=l.consequences.followUpResponses)&&void 0!==c&&c[t]&&n.interactions.userChoices.splice(e+1,0,{prompt:r,options:l.consequences.followUpResponses[t],consequences:{}})}const u=null===(a=n.interactions.branchingPoints)||void 0===a?void 0:a.find((e=>e.condition===t));u&&(null===i||void 0===i||i(u.nextScenarioId))})(t,r),color:p[t]===r?r===e.correctAnswer?"success":"error":"primary",children:r})},o)))}),p[t]&&(0,h.jsx)(Tn,{variant:"body2",color:p[t]===e.correctAnswer?"success.main":"error.main",sx:{mt:1},children:e.explanation})]},t)))]})})]})]})})},PB={EDUCATION:wB,WORK:_B,MEDICAL:SB,RESTAURANT:xB,TRANSPORT:kB};const OB=function(){Yt(),ge();const{user:t}=n_(),[n,r]=(0,e.useState)(!0),[o,i]=(0,e.useState)(null),[s,a]=(0,e.useState)(0),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(null),[p,f]=(0,e.useState)(null),[m,g]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{(async()=>{try{r(!0);const e=await fetch("/api/scenarios?level=".concat(t.learning_level)),n=await e.json();c(n.scenarios),f(n.progress)}catch(e){i("Failed to load scenarios. Please try again."),console.error("Error:",e)}finally{r(!1)}})()}),[t.learning_level]),n?(0,h.jsx)(ut,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,h.jsx)(Mt,{})}):o?(0,h.jsx)(A_,{maxWidth:"lg",sx:{mt:4},children:(0,h.jsx)(U_,{severity:"error",children:o})}):(0,h.jsxs)(A_,{maxWidth:"lg",sx:{mt:4},children:[(0,h.jsx)(X_,{container:!0,spacing:3,children:(0,h.jsxs)(X_,{item:!0,xs:12,children:[(0,h.jsxs)(ut,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,h.jsx)(Tn,{variant:"h4",component:"h1",children:"Scenario Practice"}),(0,h.jsx)(Pi,{variant:"outlined",startIcon:(0,h.jsx)(AB,{}),onClick:()=>g(!0),children:"Select Scenario"})]}),(0,h.jsx)(un,{sx:{mb:3},children:(0,h.jsxs)(US,{value:s,onChange:(e,t)=>{a(t)},variant:"scrollable",scrollButtons:"auto",children:[(0,h.jsx)(qS,{label:"All Scenarios"}),(0,h.jsx)(qS,{label:"Daily Practice"}),(0,h.jsx)(qS,{label:"Business"}),(0,h.jsx)(qS,{label:"Medical"}),(0,h.jsx)(qS,{label:"Travel"})]})}),u?(0,h.jsx)(EL,{children:(0,h.jsx)(RB,{scenario:u,userLanguage:t.native_language,onComplete:async e=>{try{await fetch("/api/progress",{method:"POST",body:JSON.stringify({scenarioId:u.id,results:e})}),f((e=>Xi(Xi({},e),{},{completedScenarios:[...e.completedScenarios,u.id]})))}catch(t){i("Failed to save progress. Please try again.")}}})}):(0,h.jsx)(tS,{children:(0,h.jsxs)(iS,{sx:{textAlign:"center",py:6},children:[(0,h.jsx)(Tn,{variant:"h6",gutterBottom:!0,children:"Select a scenario to begin practice"}),(0,h.jsx)(Pi,{variant:"contained",color:"primary",onClick:()=>g(!0),sx:{mt:2},children:"Browse Scenarios"})]})})]})}),(0,h.jsx)(eB,{anchor:"right",open:m,onClose:()=>g(!1),PaperProps:{sx:{width:340}},children:(0,h.jsxs)(ut,{sx:{p:2},children:[(0,h.jsx)(Tn,{variant:"h6",gutterBottom:!0,children:"Available Scenarios"}),(0,h.jsx)(Ir,{children:l.map((e=>{const t=PB[e.category]||EB,n=null===p||void 0===p?void 0:p.completedScenarios.includes(e.id);return(0,h.jsxs)(pB,{button:!0,onClick:()=>(e=>{d(e),g(!1)})(e),sx:{mb:1,bgcolor:n?"action.selected":"background.paper",borderRadius:1},children:[(0,h.jsx)(gB,{children:(0,h.jsx)(t,{color:n?"success":"primary"})}),(0,h.jsx)(bB,{primary:e.title,secondary:(0,h.jsxs)(ut,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[(0,h.jsx)(kx,{label:"Level ".concat(e.level),size:"small",color:"primary",variant:"outlined"}),n&&(0,h.jsx)(kx,{icon:(0,h.jsx)(Yx,{}),label:"Completed",size:"small",color:"success"})]})})]},e.id)}))})]})})]})},NB=()=>(0,h.jsx)(ut,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,h.jsx)(Mt,{})}),MB=e=>{let{children:t}=e;const{user:n,loading:r}=n_();return r?(0,h.jsx)(NB,{}):n?t:(0,h.jsx)(Ne,{to:"/login"})};const DB=function(){return(0,h.jsx)(EL,{children:(0,h.jsx)(e.Suspense,{fallback:(0,h.jsx)(NB,{}),children:(0,h.jsx)(r_,{children:(0,h.jsxs)($t,{theme:Jt,children:[(0,h.jsx)(b,{}),(0,h.jsx)(He,{children:(0,h.jsxs)(ut,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,h.jsx)(EL,{children:(0,h.jsx)(i_,{})}),(0,h.jsx)(ut,{component:"main",sx:{flexGrow:1,py:3},children:(0,h.jsxs)(je,{children:[(0,h.jsx)(Me,{path:"/",element:(0,h.jsx)(EL,{children:(0,h.jsx)(pS,{})})}),(0,h.jsx)(Me,{path:"/login",element:(0,h.jsx)(EL,{children:(0,h.jsx)(FU,{})})}),(0,h.jsx)(Me,{path:"/signup",element:(0,h.jsx)(EL,{children:(0,h.jsx)(UU,{})})}),(0,h.jsx)(Me,{path:"/vocabulary",element:(0,h.jsx)(EL,{children:(0,h.jsx)(MB,{children:(0,h.jsx)(CL,{})})})}),(0,h.jsx)(Me,{path:"/grammar",element:(0,h.jsx)(EL,{children:(0,h.jsx)(MB,{children:(0,h.jsx)(zF,{})})})}),(0,h.jsx)(Me,{path:"/progress",element:(0,h.jsx)(EL,{children:(0,h.jsx)(MB,{children:(0,h.jsx)(VF,{})})})}),(0,h.jsx)(Me,{path:"/scenarios",element:(0,h.jsx)(EL,{children:(0,h.jsx)(MB,{children:(0,h.jsx)(OB,{})})})}),(0,h.jsx)(Me,{path:"*",element:(0,h.jsx)(Ne,{to:"/",replace:!0})})]})})]})})]})})})})};r.createRoot(document.getElementById("root")).render((0,h.jsxs)(e.StrictMode,{children:[(0,h.jsx)(b,{}),(0,h.jsx)(DB,{})]}))})()})();
//# sourceMappingURL=main.9615d296.js.map